let e,t,r,i,n,a,s,o;var c,h,u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};const l="undefined"!=typeof window?window:void 0!==u?u:"undefined"!=typeof self?self:{},d=Symbol("doneWritingPromise"),f=Symbol("doneWritingResolve"),p=Symbol("doneWritingReject"),b=Symbol("readingIndex");class y extends Array{constructor(){super(),this[d]=new Promise((e,t)=>{this[f]=e,this[p]=t}),this[d].catch(()=>{})}}function m(e){return e&&e.getReader&&Array.isArray(e)}function g(e){if(!m(e)){let t=e.getWriter(),r=t.releaseLock;return t.releaseLock=()=>{t.closed.catch(function(){}),r.call(t)},t}this.stream=e}y.prototype.getReader=function(){return void 0===this[b]&&(this[b]=0),{read:async()=>(await this[d],this[b]===this.length?{value:void 0,done:!0}:{value:this[this[b]++],done:!1})}},y.prototype.readToEnd=async function(e){await this[d];let t=e(this.slice(this[b]));return this.length=0,t},y.prototype.clone=function(){let e=new y;return e[d]=this[d].then(()=>{e.push(...this)}),e},g.prototype.write=async function(e){this.stream.push(e)},g.prototype.close=async function(){this.stream[f]()},g.prototype.abort=async function(e){return this.stream[p](e),e},g.prototype.releaseLock=function(){};const w="object"==typeof l.process&&"object"==typeof l.process.versions,v=w&&void 0;function _(e){return m(e)?"array":l.ReadableStream&&l.ReadableStream.prototype.isPrototypeOf(e)?"web":R&&R.prototype.isPrototypeOf(e)?"ponyfill":v&&v.prototype.isPrototypeOf(e)?"node":!(!e||!e.getReader)&&"web-like"}function k(e){return Uint8Array.prototype.isPrototypeOf(e)}function A(e){if(1===e.length)return e[0];let t=0;for(let r=0;r<e.length;r++){if(!k(e[r]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");t+=e[r].length}let r=new Uint8Array(t),i=0;return e.forEach(function(e){r.set(e,i),i+=e.length}),r}const S=w&&void 0,E=w&&void 0;if(E){e=function(e){let t=!1;return new R({start(r){e.pause(),e.on("data",i=>{t||(S.isBuffer(i)&&(i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength)),r.enqueue(i),e.pause())}),e.on("end",()=>{t||r.close()}),e.on("error",e=>r.error(e))},pull(){e.resume()},cancel(r){t=!0,e.destroy(r)}})};class r extends E{constructor(e,t){super(t),this._reader=z(e)}async _read(e){try{for(;;){let{done:e,value:t}=await this._reader.read();if(e){this.push(null);break}if(!this.push(t)||this._cancelling){this._reading=!1;break}}}catch(e){this.emit("error",e)}}_destroy(e){this._reader.cancel(e)}}t=function(e,t){return new r(e,t)}}const P=new WeakSet,M=Symbol("externalBuffer");function C(t){if(this.stream=t,t[M]&&(this[M]=t[M].slice()),m(t)){let e=t.getReader();return this._read=e.read.bind(e),this._releaseLock=()=>{},void(this._cancel=()=>{})}let r=_(t);if("node"===r&&(t=e(t)),r){let e=t.getReader();return this._read=e.read.bind(e),this._releaseLock=()=>{e.closed.catch(function(){}),e.releaseLock()},void(this._cancel=e.cancel.bind(e))}let i=!1;this._read=async()=>i||P.has(t)?{value:void 0,done:!0}:(i=!0,{value:t,done:!1}),this._releaseLock=()=>{if(i)try{P.add(t)}catch(e){}}}C.prototype.read=async function(){return this[M]&&this[M].length?{done:!1,value:this[M].shift()}:this._read()},C.prototype.releaseLock=function(){this[M]&&(this.stream[M]=this[M]),this._releaseLock()},C.prototype.cancel=function(e){return this._cancel(e)},C.prototype.readLine=async function(){let e,t=[];for(;!e;){let{done:r,value:i}=await this.read();if(i+="",r)return t.length?K(t):void 0;let n=i.indexOf("\n")+1;n&&(e=K(t.concat(i.substr(0,n))),t=[]),n!==i.length&&t.push(i.substr(n))}return this.unshift(...t),e},C.prototype.readByte=async function(){let{done:e,value:t}=await this.read();if(e)return;let r=t[0];return this.unshift(Z(t,1)),r},C.prototype.readBytes=async function(e){let t=[],r=0;for(;;){let{done:i,value:n}=await this.read();if(i)return t.length?K(t):void 0;if(t.push(n),(r+=n.length)>=e){let r=K(t);return this.unshift(Z(r,e)),Z(r,0,e)}}},C.prototype.peekBytes=async function(e){let t=await this.readBytes(e);return this.unshift(t),t},C.prototype.unshift=function(...e){this[M]||(this[M]=[]),1===e.length&&k(e[0])&&this[M].length&&e[0].length&&this[M][0].byteOffset>=e[0].length?this[M][0]=new Uint8Array(this[M][0].buffer,this[M][0].byteOffset-e[0].length,this[M][0].byteLength+e[0].length):this[M].unshift(...e.filter(e=>e&&e.length))},C.prototype.readToEnd=async function(e=K){let t=[];for(;;){let{done:e,value:r}=await this.read();if(e)break;t.push(r)}return e(t)};let x,{ReadableStream:R,WritableStream:D,TransformStream:I}=l;const U=w&&void 0;function B(t){let r=_(t);return"node"===r?e(t):"web"===r&&x?x(t):r?t:new R({start(e){e.enqueue(t),e.close()}})}function T(e){if(_(e))return e;let t=new y;return(async()=>{let r=q(t);await r.write(e),await r.close()})(),t}function K(e){return e.some(e=>_(e)&&!m(e))?function(e){e=e.map(B);let t=L(async function(e){await Promise.all(i.map(t=>Y(t,e)))}),r=Promise.resolve(),i=e.map((i,n)=>j(i,(i,a)=>r=r.then(()=>F(i,t.writable,{preventClose:n!==e.length-1}))));return t.readable}(e):e.some(e=>m(e))?function(e){let t=new y,r=Promise.resolve();return e.forEach((i,n)=>r=r.then(()=>F(i,t,{preventClose:n!==e.length-1}))),t}(e):"string"==typeof e[0]?e.join(""):U&&U.isBuffer(e[0])?U.concat(e):A(e)}function z(e){return new C(e)}function q(e){return new g(e)}async function F(e,t,{preventClose:r=!1,preventAbort:i=!1,preventCancel:n=!1}={}){if(_(e)&&!m(e)){e=B(e);try{if(e[M]){let r=q(t);for(let t=0;t<e[M].length;t++)await r.ready,await r.write(e[M][t]);r.releaseLock()}await e.pipeTo(t,{preventClose:r,preventAbort:i,preventCancel:n})}catch(e){}return}let a=z(e=T(e)),s=q(t);try{for(;;){await s.ready;let{done:e,value:t}=await a.read();if(e){r||await s.close();break}await s.write(t)}}catch(e){i||await s.abort(e)}finally{a.releaseLock(),s.releaseLock()}}function O(e,t){let r=new I(t);return F(e,r.writable),r.readable}function L(e){let t,r,i=!1;return{readable:new R({start(e){r=e},pull(){t?t():i=!0},cancel:e},{highWaterMark:0}),writable:new D({write:async function(e){r.enqueue(e),i?i=!1:(await new Promise(e=>{t=e}),t=null)},close:r.close.bind(r),abort:r.error.bind(r)})}}function N(e,t=()=>{},r=()=>{}){if(m(e)){let i=new y;return(async()=>{let n=q(i);try{let i;let a=await $(e),s=t(a),o=r();i=void 0!==s&&void 0!==o?K([s,o]):void 0!==s?s:o,await n.write(i),await n.close()}catch(e){await n.abort(e)}})(),i}if(_(e))return O(e,{async transform(e,r){try{let i=await t(e);void 0!==i&&r.enqueue(i)}catch(e){r.error(e)}},async flush(e){try{let t=await r();void 0!==t&&e.enqueue(t)}catch(t){e.error(t)}}});let i=t(e),n=r();return void 0!==i&&void 0!==n?K([i,n]):void 0!==i?i:n}function j(e,t){if(_(e)&&!m(e)){let r;let i=new I({start(e){r=e}}),n=F(e,i.writable),a=L(async function(e){r.error(e),await n,await new Promise(setTimeout)});return t(i.readable,a.writable),a.readable}e=T(e);let r=new y;return t(e,r),r}function W(e,t){let r;let i=j(e,(e,n)=>{let a=z(e);a.remainder=()=>(a.releaseLock(),F(e,n),i),r=t(a)});return r}function H(e){if(m(e))return e.clone();if(_(e)){let t=function(e){if(m(e))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(_(e)){let t=B(e).tee();return t[0][M]=t[1][M]=e[M],t}return[Z(e),Z(e)]}(e);return V(e,t[0]),t[1]}return Z(e)}function G(e){return m(e)?H(e):_(e)?new R({start(t){let r=j(e,async(e,r)=>{let i=z(e),n=q(r);try{for(;;){await n.ready;let{done:e,value:r}=await i.read();if(e){try{t.close()}catch(e){}return void await n.close()}try{t.enqueue(r)}catch(e){}await n.write(r)}}catch(e){t.error(e),await n.abort(e)}});V(e,r)}}):Z(e)}function V(e,t){Object.entries(Object.getOwnPropertyDescriptors(e.constructor.prototype)).forEach(([r,i])=>{"constructor"!==r&&(i.value?i.value=i.value.bind(t):i.get=i.get.bind(t),Object.defineProperty(e,r,i))})}function Z(e,t=0,r=1/0){if(m(e))throw Error("Not implemented");if(_(e)){if(t>=0&&r>=0){let i=0;return O(e,{transform(e,n){i<r?(i+e.length>=t&&n.enqueue(Z(e,Math.max(t-i,0),r-i)),i+=e.length):n.terminate()}})}if(t<0&&(r<0||r===1/0)){let i=[];return N(e,e=>{e.length>=-t?i=[e]:i.push(e)},()=>Z(K(i),t,r))}if(0===t&&r<0){let i;return N(e,e=>{let n=i?K([i,e]):e;if(n.length>=-r)return i=Z(n,r),Z(n,t,r);i=n})}return console.warn(`stream.slice(input, ${t}, ${r}) not implemented efficiently.`),X(async()=>Z(await $(e),t,r))}return e[M]&&(e=K(e[M].concat([e]))),!k(e)||U&&U.isBuffer(e)?e.slice(t,r):(r===1/0&&(r=e.length),e.subarray(t,r))}async function $(e,t=K){return m(e)?e.readToEnd(t):_(e)?z(e).readToEnd(t):e}async function Y(e,t){if(_(e)){if(e.cancel)return e.cancel(t);if(e.destroy)return e.destroy(t),await new Promise(setTimeout),t}}function X(e){let t=new y;return(async()=>{let r=q(t);try{await r.write(await e()),await r.close()}catch(e){await r.abort(e)}})(),t}class Q{constructor(e){if(void 0===e)throw Error("Invalid BigInteger input");if(e instanceof Uint8Array){let t=Array(e.length);for(let r=0;r<e.length;r++){let i=e[r].toString(16);t[r]=e[r]<=15?"0"+i:i}this.value=BigInt("0x0"+t.join(""))}else this.value=BigInt(e)}clone(){return new Q(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(e){return this.value+=e.value,this}add(e){return this.clone().iadd(e)}isub(e){return this.value-=e.value,this}sub(e){return this.clone().isub(e)}imul(e){return this.value*=e.value,this}mul(e){return this.clone().imul(e)}imod(e){return this.value%=e.value,this.isNegative()&&this.iadd(e),this}mod(e){return this.clone().imod(e)}modExp(e,t){if(t.isZero())throw Error("Modulo cannot be zero");if(t.isOne())return new Q(0);if(e.isNegative())throw Error("Unsopported negative exponent");let r=e.value,i=this.value;i%=t.value;let n=BigInt(1);for(;r>BigInt(0);){let e=r&BigInt(1);r>>=BigInt(1);let a=n*i%t.value;n=e?a:n,i=i*i%t.value}return new Q(n)}modInv(e){let{gcd:t,x:r}=this._egcd(e);if(!t.isOne())throw Error("Inverse does not exist");return r.add(e).mod(e)}_egcd(e){let t=BigInt(0),r=BigInt(1),i=BigInt(1),n=BigInt(0),a=this.value;for(e=e.value;e!==BigInt(0);){let s=a/e,o=t;t=i-s*t,i=o,o=r,r=n-s*r,n=o,o=e,e=a%e,a=o}return{x:new Q(i),y:new Q(n),gcd:new Q(a)}}gcd(e){let t=this.value;for(e=e.value;e!==BigInt(0);){let r=e;e=t%e,t=r}return new Q(t)}ileftShift(e){return this.value<<=e.value,this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value>>=e.value,this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value===e.value}lt(e){return this.value<e.value}lte(e){return this.value<=e.value}gt(e){return this.value>e.value}gte(e){return this.value>=e.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){let e=this.clone();return this.isNegative()&&(e.value=-e.value),e}toString(){return this.value.toString()}toNumber(){let e=Number(this.value);if(e>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return e}getBit(e){return(this.value>>BigInt(e)&BigInt(1))===BigInt(0)?0:1}bitLength(){let e=new Q(0),t=new Q(1),r=new Q(-1),i=this.isNegative()?r:e,n=1,a=this.clone();for(;!a.irightShift(t).equal(i);)n++;return n}byteLength(){let e=new Q(0),t=new Q(-1),r=this.isNegative()?t:e,i=new Q(8),n=1,a=this.clone();for(;!a.irightShift(i).equal(r);)n++;return n}toUint8Array(e="be",t){let r=this.value.toString(16);r.length%2==1&&(r="0"+r);let i=r.length/2,n=new Uint8Array(t||i),a=t?t-i:0,s=0;for(;s<i;)n[s+a]=parseInt(r.slice(2*s,2*s+2),16),s++;return"be"!==e&&n.reverse(),n}}const J=()=>"undefined"!=typeof BigInt,ee={isString:function(e){return"string"==typeof e||e instanceof String},isArray:function(e){return e instanceof Array},isUint8Array:k,isStream:_,readNumber:function(e){let t=0;for(let r=0;r<e.length;r++)t+=256**r*e[e.length-1-r];return t},writeNumber:function(e,t){let r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e>>8*(t-i-1)&255;return r},readDate:function(e){let t=ee.readNumber(e);return new Date(1e3*t)},writeDate:function(e){let t=Math.floor(e.getTime()/1e3);return ee.writeNumber(t,4)},normalizeDate:function(e=Date.now()){return null===e||e===1/0?e:new Date(1e3*Math.floor(+e/1e3))},readMPI:function(e){let t=(e[0]<<8|e[1])+7>>>3;return e.subarray(2,2+t)},leftPad(e,t){let r=new Uint8Array(t),i=t-e.length;return r.set(e,i),r},uint8ArrayToMPI:function(e){let t=ee.uint8ArrayBitLength(e);if(0===t)throw Error("Zero MPI");let r=e.subarray(e.length-Math.ceil(t/8)),i=new Uint8Array([(65280&t)>>8,255&t]);return ee.concatUint8Array([i,r])},uint8ArrayBitLength:function(e){let t;for(t=0;t<e.length&&0===e[t];t++);if(t===e.length)return 0;let r=e.subarray(t);return 8*(r.length-1)+ee.nbits(r[0])},hexToUint8Array:function(e){let t=new Uint8Array(e.length>>1);for(let r=0;r<e.length>>1;r++)t[r]=parseInt(e.substr(r<<1,2),16);return t},uint8ArrayToHex:function(e){let t=[],r=e.length,i,n=0;for(;n<r;){for(i=e[n++].toString(16);i.length<2;)i="0"+i;t.push(""+i)}return t.join("")},stringToUint8Array:function(e){return N(e,e=>{if(!ee.isString(e))throw Error("stringToUint8Array: Data must be in the form of a string");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})},uint8ArrayToString:function(e){let t=[],r=(e=new Uint8Array(e)).length;for(let i=0;i<r;i+=16384)t.push(String.fromCharCode.apply(String,e.subarray(i,i+16384<r?i+16384:r)));return t.join("")},encodeUTF8:function(e){let t=new TextEncoder("utf-8");function r(e,r=!1){return t.encode(e,{stream:!r})}return N(e,r,()=>r("",!0))},decodeUTF8:function(e){let t=new TextDecoder("utf-8");function r(e,r=!1){return t.decode(e,{stream:!r})}return N(e,r,()=>r(new Uint8Array,!0))},concat:K,concatUint8Array:A,equalsUint8Array:function(e,t){if(!ee.isUint8Array(e)||!ee.isUint8Array(t))throw Error("Data must be in the form of a Uint8Array");if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},writeChecksum:function(e){let t=0;for(let r=0;r<e.length;r++)t=t+e[r]&65535;return ee.writeNumber(t,2)},printDebug:function(e){},printDebugError:function(e){},nbits:function(e){let t=1,r=e>>>16;return 0!==r&&(e=r,t+=16),0!=(r=e>>8)&&(e=r,t+=8),0!=(r=e>>4)&&(e=r,t+=4),0!=(r=e>>2)&&(e=r,t+=2),0!=(r=e>>1)&&(e=r,t+=1),t},double:function(e){let t=new Uint8Array(e.length),r=e.length-1;for(let i=0;i<r;i++)t[i]=e[i]<<1^e[i+1]>>7;return t[r]=e[r]<<1^135*(e[0]>>7),t},shiftRight:function(e,t){if(t)for(let r=e.length-1;r>=0;r--)e[r]>>=t,r>0&&(e[r]|=e[r-1]<<8-t);return e},getWebCrypto:function(){return void 0!==l&&l.crypto&&l.crypto.subtle},getBigInteger:async function(){if(J())return Q;{let{default:e}=await Promise.resolve().then(function(){return cV});return e}},getNodeCrypto:function(){},getNodeZlib:function(){},getNodeBuffer:function(){return({}).Buffer},getHardwareConcurrency:function(){return"undefined"!=typeof navigator?navigator.hardwareConcurrency||1:(void 0).cpus().length},isEmailAddress:function(e){return!!ee.isString(e)&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}[0-9]*|xn--[a-zA-Z\-0-9]+)))$/.test(e)},canonicalizeEOL:function(e){let t=!1;return N(e,e=>{let r;t&&(e=ee.concatUint8Array([new Uint8Array([13]),e])),13===e[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;let i=[];for(let t=0;r=e.indexOf(10,t)+1;t=r)13!==e[r-2]&&i.push(r);if(!i.length)return e;let n=new Uint8Array(e.length+i.length),a=0;for(let t=0;t<i.length;t++){let r=e.subarray(i[t-1]||0,i[t]);n.set(r,a),n[(a+=r.length)-1]=13,n[a]=10,a++}return n.set(e.subarray(i[i.length-1]||0),a),n},()=>t?new Uint8Array([13]):void 0)},nativeEOL:function(e){let t=!1;return N(e,e=>{let r;13===(e=t&&10!==e[0]?ee.concatUint8Array([new Uint8Array([13]),e]):new Uint8Array(e))[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;let i=0;for(let t=0;t!==e.length;t=r){(r=e.indexOf(13,t)+1)||(r=e.length);let n=r-(10===e[r]?1:0);t&&e.copyWithin(i,t,n),i+=n-t}return e.subarray(0,i)},()=>t?new Uint8Array([13]):void 0)},removeTrailingSpaces:function(e){return e.split("\n").map(e=>{let t=e.length-1;for(;t>=0&&(" "===e[t]||"	"===e[t]||"\r"===e[t]);t--);return e.substr(0,t+1)}).join("\n")},wrapError:function(e,t){if(!t)return Error(e);try{t.message=e+": "+t.message}catch(e){}return t},constructAllowedPackets:function(e){let t={};return e.forEach(e=>{if(!e.tag)throw Error("Invalid input: expected a packet class");t[e.tag]=e}),t},anyPromise:function(e){return new Promise(async(t,r)=>{let i;await Promise.all(e.map(async e=>{try{t(await e)}catch(e){i=e}})),r(i)})},selectUint8Array:function(e,t,r){let i=Math.max(t.length,r.length),n=new Uint8Array(i),a=0;for(let i=0;i<n.length;i++)n[i]=t[i]&256-e|r[i]&255+e,a+=e&i<t.length|1-e&i<r.length;return n.subarray(0,a)},selectUint8:function(e,t,r){return t&256-e|r&255+e}},et=ee.getNodeBuffer();function er(e){let t=new Uint8Array;return N(e,e=>{t=ee.concatUint8Array([t,e]);let i=[],n=Math.floor(t.length/45),a=45*n,s=r(t.subarray(0,a));for(let e=0;e<n;e++)i.push(s.substr(60*e,60)),i.push("\n");return t=t.subarray(a),i.join("")},()=>t.length?r(t)+"\n":"")}function ei(e){let t="";return N(e,e=>{t+=e;let r=0,n=[" ","	","\r","\n"];for(let e=0;e<n.length;e++){let i=n[e];for(let e=t.indexOf(i);-1!==e;e=t.indexOf(i,e+1))r++}let a=t.length;for(;a>0&&(a-r)%4!=0;a--)n.includes(t[a])&&r--;let s=i(t.substr(0,a));return t=t.substr(a),s},()=>i(t))}function en(e){return ei(e.replace(/-/g,"+").replace(/_/g,"/"))}function ea(e,t){let r=er(e).replace(/[\r\n]/g,"");return t&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r}et?(r=e=>et.from(e).toString("base64"),i=e=>{let t=et.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}):(r=e=>btoa(ee.uint8ArrayToString(e)),i=e=>ee.stringToUint8Array(atob(e)));const es=Symbol("byValue");var eo={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write:function(e,t){if("number"==typeof t&&(t=this.read(e,t)),void 0!==e[t])return e[t];throw Error("Invalid enum value.")},read:function(e,t){if(e[es]||(e[es]=[],Object.entries(e).forEach(([t,r])=>{e[es][r]=t})),void 0!==e[es][t])return e[es][t];throw Error("Invalid enum value.")}},ec={preferredHashAlgorithm:eo.hash.sha256,preferredSymmetricAlgorithm:eo.symmetric.aes256,preferredCompressionAlgorithm:eo.compression.uncompressed,deflateLevel:6,aeadProtect:!1,preferredAEADAlgorithm:eo.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRSABits:2047,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([eo.symmetric.aes128,eo.symmetric.aes192,eo.symmetric.aes256]),minBytesForWebCrypto:1e3,ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,additionalAllowedPackets:[],showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.9.0",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:[],useIndutnyElliptic:!0,rejectHashAlgorithms:new Set([eo.hash.md5,eo.hash.ripemd]),rejectMessageHashAlgorithms:new Set([eo.hash.md5,eo.hash.ripemd,eo.hash.sha1]),rejectPublicKeyAlgorithms:new Set([eo.publicKey.elgamal,eo.publicKey.dsa]),rejectCurves:new Set([eo.curve.secp256k1])};function eh(e,t){let r="";return t.showVersion&&(r+="Version: "+t.versionString+"\n"),t.showComment&&(r+="Comment: "+t.commentString+"\n"),e&&(r+="Comment: "+e+"\n"),r+="\n"}function eu(e){let t;return er((t=13501623,N(e,e=>{let r=ed?Math.floor(e.length/4):0,i=new Uint32Array(e.buffer,e.byteOffset,r);for(let e=0;e<r;e++)t^=i[e],t=el[0][t>>24&255]^el[1][t>>16&255]^el[2][t>>8&255]^el[3][t>>0&255];for(let i=4*r;i<e.length;i++)t=t>>8^el[0][255&t^e[i]]},()=>new Uint8Array([t,t>>8,t>>16]))))}const el=[Array(255),Array(255),Array(255),Array(255)];for(let e=0;e<=255;e++){let t=e<<16;for(let e=0;e<8;e++)t=t<<1^(0!=(8388608&t)?8801531:0);el[0][e]=(16711680&t)>>16|65280&t|(255&t)<<16}for(let e=0;e<=255;e++)el[1][e]=el[0][e]>>8^el[0][255&el[0][e]];for(let e=0;e<=255;e++)el[2][e]=el[1][e]>>8^el[0][255&el[1][e]];for(let e=0;e<=255;e++)el[3][e]=el[2][e]>>8^el[0][255&el[2][e]];const ed=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,255,!0),255===new Int16Array(e)[0]}();function ef(e){for(let t=0;t<e.length;t++)/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(e[t])||ee.printDebugError(Error("Improperly formatted armor header: "+e[t])),/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(e[t])||ee.printDebugError(Error("Unknown header: "+e[t]))}function ep(e,t,r,i,n,a=ec){let s,o;e===eo.armor.signed&&(s=t.text,o=t.hash,t=t.data);let c=G(t),h=[];switch(e){case eo.armor.multipartSection:h.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+i+"-----\n"),h.push(eh(n,a)),h.push(er(t)),h.push("=",eu(c)),h.push("-----END PGP MESSAGE, PART "+r+"/"+i+"-----\n");break;case eo.armor.multipartLast:h.push("-----BEGIN PGP MESSAGE, PART "+r+"-----\n"),h.push(eh(n,a)),h.push(er(t)),h.push("=",eu(c)),h.push("-----END PGP MESSAGE, PART "+r+"-----\n");break;case eo.armor.signed:h.push("-----BEGIN PGP SIGNED MESSAGE-----\n"),h.push("Hash: "+o+"\n\n"),h.push(s.replace(/^-/gm,"- -")),h.push("\n-----BEGIN PGP SIGNATURE-----\n"),h.push(eh(n,a)),h.push(er(t)),h.push("=",eu(c)),h.push("-----END PGP SIGNATURE-----\n");break;case eo.armor.message:h.push("-----BEGIN PGP MESSAGE-----\n"),h.push(eh(n,a)),h.push(er(t)),h.push("=",eu(c)),h.push("-----END PGP MESSAGE-----\n");break;case eo.armor.publicKey:h.push("-----BEGIN PGP PUBLIC KEY BLOCK-----\n"),h.push(eh(n,a)),h.push(er(t)),h.push("=",eu(c)),h.push("-----END PGP PUBLIC KEY BLOCK-----\n");break;case eo.armor.privateKey:h.push("-----BEGIN PGP PRIVATE KEY BLOCK-----\n"),h.push(eh(n,a)),h.push(er(t)),h.push("=",eu(c)),h.push("-----END PGP PRIVATE KEY BLOCK-----\n");break;case eo.armor.signature:h.push("-----BEGIN PGP SIGNATURE-----\n"),h.push(eh(n,a)),h.push(er(t)),h.push("=",eu(c)),h.push("-----END PGP SIGNATURE-----\n")}return ee.concat(h)}class eb{constructor(){this.bytes=""}read(e){this.bytes=ee.uint8ArrayToString(e.subarray(0,8))}write(){return ee.stringToUint8Array(this.bytes)}toHex(){return ee.uint8ArrayToHex(ee.stringToUint8Array(this.bytes))}equals(e,t=!1){return t&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return""===this.bytes}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromID(e){let t=new eb;return t.read(ee.hexToUint8Array(e)),t}static wildcard(){let e=new eb;return e.read(new Uint8Array(8)),e}}var ey=function(){var e,t,r=!1;function i(r,i){var n=e[(t[r]+t[i])%255];return 0!==r&&0!==i||(n=0),n}var n,a,s,o,c=!1,h=function(h,u){c||function(){r||function(){e=[],t=[];var i,n,a=1;for(i=0;i<255;i++)e[i]=a,n=128&a,a<<=1,a&=255,128===n&&(a^=27),a^=e[i],t[e[i]]=i;e[255]=e[0],t[0]=0,r=!0}(),n=[],a=[],s=[[],[],[],[]],o=[[],[],[],[]];for(var h=0;h<256;h++){var u=function(r){var i,n,a,s;for(s=e[255-t[r]],0===r&&(s=0),n=a=s,i=0;i<4;i++)a^=n=255&(n<<1|n>>>7);return 99^a}(h);n[h]=u,a[u]=h,s[0][h]=i(2,u)<<24|u<<16|u<<8|i(3,u),o[0][u]=i(14,h)<<24|i(9,h)<<16|i(13,h)<<8|i(11,h);for(var l=1;l<4;l++)s[l][h]=s[l-1][h]>>>8|s[l-1][h]<<24,o[l][u]=o[l-1][u]>>>8|o[l-1][u]<<24}c=!0}();var l=new Uint32Array(u);l.set(n,512),l.set(a,768);for(var d=0;d<4;d++)l.set(s[d],4096+1024*d>>2),l.set(o[d],8192+1024*d>>2);var f=function(e,t,r){"use asm";var i=0,n=0,a=0,s=0,o=0,c=0,h=0,u=0,l=0,d=0,f=0,p=0,b=0,y=0,m=0,g=0,w=0,v=0,_=0,k=0,A=0;var S=new e.Uint32Array(r),E=new e.Uint8Array(r);function P(e,t,r,o,c,h,u,l){e=e|0;t=t|0;r=r|0;o=o|0;c=c|0;h=h|0;u=u|0;l=l|0;var d=0,f=0,p=0,b=0,y=0,m=0,g=0,w=0;d=r|1024,f=r|2048,p=r|3072;c=c^S[(e|0)>>2],h=h^S[(e|4)>>2],u=u^S[(e|8)>>2],l=l^S[(e|12)>>2];for(w=16;(w|0)<=o<<4;w=w+16|0){b=S[(r|c>>22&1020)>>2]^S[(d|h>>14&1020)>>2]^S[(f|u>>6&1020)>>2]^S[(p|l<<2&1020)>>2]^S[(e|w|0)>>2],y=S[(r|h>>22&1020)>>2]^S[(d|u>>14&1020)>>2]^S[(f|l>>6&1020)>>2]^S[(p|c<<2&1020)>>2]^S[(e|w|4)>>2],m=S[(r|u>>22&1020)>>2]^S[(d|l>>14&1020)>>2]^S[(f|c>>6&1020)>>2]^S[(p|h<<2&1020)>>2]^S[(e|w|8)>>2],g=S[(r|l>>22&1020)>>2]^S[(d|c>>14&1020)>>2]^S[(f|h>>6&1020)>>2]^S[(p|u<<2&1020)>>2]^S[(e|w|12)>>2];c=b,h=y,u=m,l=g}i=S[(t|c>>22&1020)>>2]<<24^S[(t|h>>14&1020)>>2]<<16^S[(t|u>>6&1020)>>2]<<8^S[(t|l<<2&1020)>>2]^S[(e|w|0)>>2],n=S[(t|h>>22&1020)>>2]<<24^S[(t|u>>14&1020)>>2]<<16^S[(t|l>>6&1020)>>2]<<8^S[(t|c<<2&1020)>>2]^S[(e|w|4)>>2],a=S[(t|u>>22&1020)>>2]<<24^S[(t|l>>14&1020)>>2]<<16^S[(t|c>>6&1020)>>2]<<8^S[(t|h<<2&1020)>>2]^S[(e|w|8)>>2],s=S[(t|l>>22&1020)>>2]<<24^S[(t|c>>14&1020)>>2]<<16^S[(t|h>>6&1020)>>2]<<8^S[(t|u<<2&1020)>>2]^S[(e|w|12)>>2]}function M(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;P(0,2048,4096,A,e,t,r,i)}function C(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var a=0;P(1024,3072,8192,A,e,i,r,t);a=n,n=s,s=a}function x(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;P(0,2048,4096,A,o^e,c^t,h^r,u^l);o=i,c=n,h=a,u=s}function R(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;var d=0;P(1024,3072,8192,A,e,l,r,t);d=n,n=s,s=d;i=i^o,n=n^c,a=a^h,s=s^u;o=e,c=t,h=r,u=l}function D(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;P(0,2048,4096,A,o,c,h,u);o=i=i^e,c=n=n^t,h=a=a^r,u=s=s^l}function I(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;P(0,2048,4096,A,o,c,h,u);i=i^e,n=n^t,a=a^r,s=s^l;o=e,c=t,h=r,u=l}function U(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;P(0,2048,4096,A,o,c,h,u);o=i,c=n,h=a,u=s;i=i^e,n=n^t,a=a^r,s=s^l}function B(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;P(0,2048,4096,A,l,d,f,p);p=~g&p|g&p+1;f=~m&f|m&f+((p|0)==0);d=~y&d|y&d+((f|0)==0);l=~b&l|b&l+((d|0)==0);i=i^e;n=n^t;a=a^r;s=s^o}function T(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,a=0,s=0,l=0,d=0,f=0,p=0,b=0,y=0,m=0;e=e^o,t=t^c,r=r^h,i=i^u;n=w|0,a=v|0,s=_|0,l=k|0;for(;(y|0)<128;y=y+1|0){if(n>>>31)d=d^e,f=f^t,p=p^r,b=b^i;n=n<<1|a>>>31,a=a<<1|s>>>31,s=s<<1|l>>>31,l=l<<1;m=i&1;i=i>>>1|r<<31,r=r>>>1|t<<31,t=t>>>1|e<<31,e=e>>>1;if(m)e=e^3774873600}o=d,c=f,h=p,u=b}function K(e){e=e|0;A=e}function z(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;i=e,n=t,a=r,s=o}function q(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;o=e,c=t,h=r,u=i}function F(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;l=e,d=t,f=r,p=i}function O(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;b=e,y=t,m=r,g=i}function L(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;p=~g&p|g&i,f=~m&f|m&r,d=~y&d|y&t,l=~b&l|b&e}function N(e){e=e|0;if(e&15)return -1;E[e|0]=i>>>24,E[e|1]=i>>>16&255,E[e|2]=i>>>8&255,E[e|3]=i&255,E[e|4]=n>>>24,E[e|5]=n>>>16&255,E[e|6]=n>>>8&255,E[e|7]=n&255,E[e|8]=a>>>24,E[e|9]=a>>>16&255,E[e|10]=a>>>8&255,E[e|11]=a&255,E[e|12]=s>>>24,E[e|13]=s>>>16&255,E[e|14]=s>>>8&255,E[e|15]=s&255;return 16}function j(e){e=e|0;if(e&15)return -1;E[e|0]=o>>>24,E[e|1]=o>>>16&255,E[e|2]=o>>>8&255,E[e|3]=o&255,E[e|4]=c>>>24,E[e|5]=c>>>16&255,E[e|6]=c>>>8&255,E[e|7]=c&255,E[e|8]=h>>>24,E[e|9]=h>>>16&255,E[e|10]=h>>>8&255,E[e|11]=h&255,E[e|12]=u>>>24,E[e|13]=u>>>16&255,E[e|14]=u>>>8&255,E[e|15]=u&255;return 16}function W(){M(0,0,0,0);w=i,v=n,_=a,k=s}function H(e,t,r){e=e|0;t=t|0;r=r|0;var o=0;if(t&15)return -1;while((r|0)>=16){V[e&7](E[t|0]<<24|E[t|1]<<16|E[t|2]<<8|E[t|3],E[t|4]<<24|E[t|5]<<16|E[t|6]<<8|E[t|7],E[t|8]<<24|E[t|9]<<16|E[t|10]<<8|E[t|11],E[t|12]<<24|E[t|13]<<16|E[t|14]<<8|E[t|15]);E[t|0]=i>>>24,E[t|1]=i>>>16&255,E[t|2]=i>>>8&255,E[t|3]=i&255,E[t|4]=n>>>24,E[t|5]=n>>>16&255,E[t|6]=n>>>8&255,E[t|7]=n&255,E[t|8]=a>>>24,E[t|9]=a>>>16&255,E[t|10]=a>>>8&255,E[t|11]=a&255,E[t|12]=s>>>24,E[t|13]=s>>>16&255,E[t|14]=s>>>8&255,E[t|15]=s&255;o=o+16|0,t=t+16|0,r=r-16|0}return o|0}function G(e,t,r){e=e|0;t=t|0;r=r|0;var i=0;if(t&15)return -1;while((r|0)>=16){Z[e&1](E[t|0]<<24|E[t|1]<<16|E[t|2]<<8|E[t|3],E[t|4]<<24|E[t|5]<<16|E[t|6]<<8|E[t|7],E[t|8]<<24|E[t|9]<<16|E[t|10]<<8|E[t|11],E[t|12]<<24|E[t|13]<<16|E[t|14]<<8|E[t|15]);i=i+16|0,t=t+16|0,r=r-16|0}return i|0}var V=[M,C,x,R,D,I,U,B];var Z=[x,T];return{set_rounds:K,set_state:z,set_iv:q,set_nonce:F,set_mask:O,set_counter:L,get_state:N,get_iv:j,gcm_init:W,cipher:H,mac:G}}({Uint8Array:Uint8Array,Uint32Array:Uint32Array},0,u);return f.set_key=function(e,t,r,i,a,s,c,h,u){var d=l.subarray(0,60),p=l.subarray(256,316);d.set([t,r,i,a,s,c,h,u]);for(var b=e,y=1;b<4*e+28;b++){var m=d[b-1];(b%e==0||8===e&&b%e==4)&&(m=n[m>>>24]<<24^n[m>>>16&255]<<16^n[m>>>8&255]<<8^n[255&m]),b%e==0&&(m=m<<8^m>>>24^y<<24,y=y<<1^(128&y?27:0)),d[b]=d[b-e]^m}for(var g=0;g<b;g+=4)for(var w=0;w<4;w++)m=d[b-(4+g)+(4-w)%4],p[g+w]=g<4||g>=b-4?m:o[0][n[m>>>24]]^o[1][n[m>>>16&255]]^o[2][n[m>>>8&255]]^o[3][n[255&m]];f.set_rounds(e+5)},f};return h.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},h.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},h.MAC={CBC:0,GCM:1},h.HEAP_DATA=16384,h}();function em(e){return e instanceof Uint8Array}function eg(e,t){let r=e?e.byteLength:t||65536;if(4095&r||r<=0)throw Error("heap size must be a positive integer and a multiple of 4096");return e=e||new Uint8Array(new ArrayBuffer(r))}function ew(e,t,r,i,n){let a=e.length-t,s=a<n?a:n;return e.set(r.subarray(i,i+s),t),s}function ev(...e){let t=e.reduce((e,t)=>e+t.length,0),r=new Uint8Array(t),i=0;for(let t=0;t<e.length;t++)r.set(e[t],i),i+=e[t].length;return r}class e_ extends Error{constructor(...e){super(...e)}}class ek extends Error{constructor(...e){super(...e)}}class eA extends Error{constructor(...e){super(...e)}}const eS=[],eE=[];class eP{constructor(e,t,r=!0,i,n,a){this.pos=0,this.len=0,this.mode=i,this.pos=0,this.len=0,this.key=e,this.iv=t,this.padding=r,this.acquire_asm(n,a)}acquire_asm(e,t){return void 0!==this.heap&&void 0!==this.asm||(this.heap=e||eS.pop()||eg().subarray(ey.HEAP_DATA),this.asm=t||eE.pop()||new ey(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(eS.push(this.heap),eE.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(e,t){let{asm:r}=this.acquire_asm(),i=e.length;if(16!==i&&24!==i&&32!==i)throw new ek("illegal key size");let n=new DataView(e.buffer,e.byteOffset,e.byteLength);if(r.set_key(i>>2,n.getUint32(0),n.getUint32(4),n.getUint32(8),n.getUint32(12),i>16?n.getUint32(16):0,i>16?n.getUint32(20):0,i>24?n.getUint32(24):0,i>24?n.getUint32(28):0),void 0!==t){if(16!==t.length)throw new ek("illegal iv size");let e=new DataView(t.buffer,t.byteOffset,t.byteLength);r.set_iv(e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12))}else r.set_iv(0,0,0,0)}AES_Encrypt_process(e){if(!em(e))throw TypeError("data isn't of expected type");let{heap:t,asm:r}=this.acquire_asm(),i=ey.ENC[this.mode],n=ey.HEAP_DATA,a=this.pos,s=this.len,o=0,c=e.length||0,h=0,u=0,l=new Uint8Array(s+c&-16);for(;c>0;)u=ew(t,a+s,e,o,c),s+=u,o+=u,c-=u,(u=r.cipher(i,n+a,s))&&l.set(t.subarray(a,a+u),h),h+=u,u<s?(a+=u,s-=u):(a=0,s=0);return this.pos=a,this.len=s,l}AES_Encrypt_finish(){let{heap:e,asm:t}=this.acquire_asm(),r=ey.ENC[this.mode],i=ey.HEAP_DATA,n=this.pos,a=this.len,s=16-a%16,o=a;if(this.hasOwnProperty("padding")){if(this.padding){for(let t=0;t<s;++t)e[n+a+t]=s;a+=s,o=a}else if(a%16)throw new ek("data length must be a multiple of the block size")}else a+=s;let c=new Uint8Array(o);return a&&t.cipher(r,i+n,a),o&&c.set(e.subarray(n,n+o)),this.pos=0,this.len=0,this.release_asm(),c}AES_Decrypt_process(e){if(!em(e))throw TypeError("data isn't of expected type");let{heap:t,asm:r}=this.acquire_asm(),i=ey.DEC[this.mode],n=ey.HEAP_DATA,a=this.pos,s=this.len,o=0,c=e.length||0,h=0,u=s+c&-16,l=0,d=0;this.padding&&(l=s+c-u||16,u-=l);let f=new Uint8Array(u);for(;c>0;)d=ew(t,a+s,e,o,c),s+=d,o+=d,c-=d,(d=r.cipher(i,n+a,s-(c?0:l)))&&f.set(t.subarray(a,a+d),h),h+=d,d<s?(a+=d,s-=d):(a=0,s=0);return this.pos=a,this.len=s,f}AES_Decrypt_finish(){let{heap:e,asm:t}=this.acquire_asm(),r=ey.DEC[this.mode],i=ey.HEAP_DATA,n=this.pos,a=this.len,s=a;if(a>0){if(a%16){if(this.hasOwnProperty("padding"))throw new ek("data length must be a multiple of the block size");a+=16-a%16}if(t.cipher(r,i+n,a),this.hasOwnProperty("padding")&&this.padding){let t=e[n+s-1];if(t<1||t>16||t>s)throw new eA("bad padding");let r=0;for(let i=t;i>1;i--)r|=t^e[n+s-i];if(r)throw new eA("bad padding");s-=t}}let o=new Uint8Array(s);return s>0&&o.set(e.subarray(n,n+s)),this.pos=0,this.len=0,this.release_asm(),o}}class eM{static encrypt(e,t,r=!1){return new eM(t,r).encrypt(e)}static decrypt(e,t,r=!1){return new eM(t,r).decrypt(e)}constructor(e,t=!1,r){this.aes=r||new eP(e,void 0,t,"ECB")}encrypt(e){return ev(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return ev(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}function eC(e){let t=function(e){let t=new eM(e);this.encrypt=function(e){return t.encrypt(e)},this.decrypt=function(e){return t.decrypt(e)}};return t.blockSize=t.prototype.blockSize=16,t.keySize=t.prototype.keySize=e/8,t}function ex(e,t,r,i,n,a){let s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],h=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],u=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],f=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696],p,b,y,m,g,w,v,_,k,A,S,E,P,M,C=0,x=t.length,R=32===e.length?3:9;_=3===R?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(x=(t=function(e,t){let r;let i=8-e.length%8;if(2===t&&i<8)r=32;else if(1===t)r=i;else{if(t||!(i<8)){if(8===i)return e;throw Error("des: invalid padding")}r=0}let n=new Uint8Array(e.length+i);for(let t=0;t<e.length;t++)n[t]=e[t];for(let t=0;t<i;t++)n[e.length+t]=r;return n}(t,a)).length);let D=new Uint8Array(x),I=0;for(1===i&&(k=n[C++]<<24|n[C++]<<16|n[C++]<<8|n[C++],S=n[C++]<<24|n[C++]<<16|n[C++]<<8|n[C++],C=0);C<x;){for(w=t[C++]<<24|t[C++]<<16|t[C++]<<8|t[C++],v=t[C++]<<24|t[C++]<<16|t[C++]<<8|t[C++],1===i&&(r?(w^=k,v^=S):(A=k,E=S,k=w,S=v)),y=252645135&(w>>>4^v),v^=y,w^=y<<4,y=65535&(w>>>16^v),v^=y,w^=y<<16,y=858993459&(v>>>2^w),w^=y,v^=y<<2,y=16711935&(v>>>8^w),w^=y,v^=y<<8,y=1431655765&(w>>>1^v),v^=y,w^=y<<1,w=w<<1|w>>>31,v=v<<1|v>>>31,b=0;b<R;b+=3){for(P=_[b+1],M=_[b+2],p=_[b];p!==P;p+=M)m=v^e[p],g=(v>>>4|v<<28)^e[p+1],y=w,w=v,v=y^(o[m>>>24&63]|h[m>>>16&63]|l[m>>>8&63]|f[63&m]|s[g>>>24&63]|c[g>>>16&63]|u[g>>>8&63]|d[63&g]);y=w,w=v,v=y}y=1431655765&((w=w>>>1|w<<31)>>>1^(v=v>>>1|v<<31)),v^=y,w^=y<<1,y=16711935&(v>>>8^w),w^=y,v^=y<<8,y=858993459&(v>>>2^w),w^=y,v^=y<<2,y=65535&(w>>>16^v),v^=y,w^=y<<16,y=252645135&(w>>>4^v),v^=y,w^=y<<4,1===i&&(r?(k=w,S=v):(w^=A,v^=E)),D[I++]=w>>>24,D[I++]=w>>>16&255,D[I++]=w>>>8&255,D[I++]=255&w,D[I++]=v>>>24,D[I++]=v>>>16&255,D[I++]=v>>>8&255,D[I++]=255&v}return r||(D=function(e,t){let r,i=null;if(2===t)r=32;else if(1===t)i=e[e.length-1];else{if(t)throw Error("des: invalid padding");r=0}if(!i){for(i=1;e[e.length-i]===r;)i++;i--}return e.subarray(0,e.length-i)}(D,a)),D}function eR(e){let t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],n=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],h=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],f=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],b=e.length>8?3:1,y=Array(32*b),m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],g,w,v,_=0,k=0;for(let A=0;A<b;A++){let b=e[_++]<<24|e[_++]<<16|e[_++]<<8|e[_++],A=e[_++]<<24|e[_++]<<16|e[_++]<<8|e[_++];v=252645135&(b>>>4^A),A^=v,b^=v<<4,v=65535&(A>>>-16^b),b^=v,A^=v<<-16,v=858993459&(b>>>2^A),A^=v,b^=v<<2,v=65535&(A>>>-16^b),b^=v,A^=v<<-16,v=1431655765&(b>>>1^A),A^=v,b^=v<<1,v=16711935&(A>>>8^b),b^=v,A^=v<<8,v=1431655765&(b>>>1^A),A^=v,b^=v<<1,v=b<<8|A>>>20&240,b=A<<24|A<<8&16711680|A>>>8&65280|A>>>24&240,A=v;for(let e=0;e<16;e++)m[e]?(b=b<<2|b>>>26,A=A<<2|A>>>26):(b=b<<1|b>>>27,A=A<<1|A>>>27),b&=-15,A&=-15,g=t[b>>>28]|r[b>>>24&15]|i[b>>>20&15]|n[b>>>16&15]|a[b>>>12&15]|s[b>>>8&15]|o[b>>>4&15],v=65535&((w=c[A>>>28]|h[A>>>24&15]|u[A>>>20&15]|l[A>>>16&15]|d[A>>>12&15]|f[A>>>8&15]|p[A>>>4&15])>>>16^g),y[k++]=g^v,y[k++]=w^v<<16}return y}function eD(e){this.key=[];for(let t=0;t<3;t++)this.key.push(new Uint8Array(e.subarray(8*t,8*t+8)));this.encrypt=function(e){return ex(eR(this.key[2]),ex(eR(this.key[1]),ex(eR(this.key[0]),e,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}function eI(){this.BlockSize=8,this.KeySize=16,this.setKey=function(e){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),e.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(e),!0},this.reset=function(){for(let e=0;e<16;e++)this.masking[e]=0,this.rotate[e]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(e){let t=Array(e.length);for(let a=0;a<e.length;a+=8){let s,o=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3],c=e[a+4]<<24|e[a+5]<<16|e[a+6]<<8|e[a+7];s=c,c=o^r(c,this.masking[0],this.rotate[0]),o=s,s=c,c=o^i(c,this.masking[1],this.rotate[1]),o=s,s=c,c=o^n(c,this.masking[2],this.rotate[2]),o=s,s=c,c=o^r(c,this.masking[3],this.rotate[3]),o=s,s=c,c=o^i(c,this.masking[4],this.rotate[4]),o=s,s=c,c=o^n(c,this.masking[5],this.rotate[5]),o=s,s=c,c=o^r(c,this.masking[6],this.rotate[6]),o=s,s=c,c=o^i(c,this.masking[7],this.rotate[7]),o=s,s=c,c=o^n(c,this.masking[8],this.rotate[8]),o=s,s=c,c=o^r(c,this.masking[9],this.rotate[9]),o=s,s=c,c=o^i(c,this.masking[10],this.rotate[10]),o=s,s=c,c=o^n(c,this.masking[11],this.rotate[11]),o=s,s=c,c=o^r(c,this.masking[12],this.rotate[12]),o=s,s=c,c=o^i(c,this.masking[13],this.rotate[13]),o=s,s=c,c=o^n(c,this.masking[14],this.rotate[14]),o=s,s=c,c=o^r(c,this.masking[15],this.rotate[15]),o=s,t[a]=c>>>24&255,t[a+1]=c>>>16&255,t[a+2]=c>>>8&255,t[a+3]=255&c,t[a+4]=o>>>24&255,t[a+5]=o>>>16&255,t[a+6]=o>>>8&255,t[a+7]=255&o}return t},this.decrypt=function(e){let t=Array(e.length);for(let a=0;a<e.length;a+=8){let s,o=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3],c=e[a+4]<<24|e[a+5]<<16|e[a+6]<<8|e[a+7];s=c,c=o^r(c,this.masking[15],this.rotate[15]),o=s,s=c,c=o^n(c,this.masking[14],this.rotate[14]),o=s,s=c,c=o^i(c,this.masking[13],this.rotate[13]),o=s,s=c,c=o^r(c,this.masking[12],this.rotate[12]),o=s,s=c,c=o^n(c,this.masking[11],this.rotate[11]),o=s,s=c,c=o^i(c,this.masking[10],this.rotate[10]),o=s,s=c,c=o^r(c,this.masking[9],this.rotate[9]),o=s,s=c,c=o^n(c,this.masking[8],this.rotate[8]),o=s,s=c,c=o^i(c,this.masking[7],this.rotate[7]),o=s,s=c,c=o^r(c,this.masking[6],this.rotate[6]),o=s,s=c,c=o^n(c,this.masking[5],this.rotate[5]),o=s,s=c,c=o^i(c,this.masking[4],this.rotate[4]),o=s,s=c,c=o^r(c,this.masking[3],this.rotate[3]),o=s,s=c,c=o^n(c,this.masking[2],this.rotate[2]),o=s,s=c,c=o^i(c,this.masking[1],this.rotate[1]),o=s,s=c,c=o^r(c,this.masking[0],this.rotate[0]),o=s,t[a]=c>>>24&255,t[a+1]=c>>>16&255,t[a+2]=c>>>8&255,t[a+3]=255&c,t[a+4]=o>>>24&255,t[a+5]=o>>16&255,t[a+6]=o>>8&255,t[a+7]=255&o}return t};let e=[,,,,];e[0]=[,,,,],e[0][0]=[4,0,13,15,12,14,8],e[0][1]=[5,2,16,18,17,19,10],e[0][2]=[6,3,23,22,21,20,9],e[0][3]=[7,1,26,25,27,24,11],e[1]=[,,,,],e[1][0]=[0,6,21,23,20,22,16],e[1][1]=[1,4,0,2,1,3,18],e[1][2]=[2,5,7,6,5,4,17],e[1][3]=[3,7,10,9,11,8,19],e[2]=[,,,,],e[2][0]=[4,0,13,15,12,14,8],e[2][1]=[5,2,16,18,17,19,10],e[2][2]=[6,3,23,22,21,20,9],e[2][3]=[7,1,26,25,27,24,11],e[3]=[,,,,],e[3][0]=[0,6,21,23,20,22,16],e[3][1]=[1,4,0,2,1,3,18],e[3][2]=[2,5,7,6,5,4,17],e[3][3]=[3,7,10,9,11,8,19];let t=[,,,,];function r(e,t,r){let i=t+e,n=i<<r|i>>>32-r;return(a[0][n>>>24]^a[1][n>>>16&255])-a[2][n>>>8&255]+a[3][255&n]}function i(e,t,r){let i=t^e,n=i<<r|i>>>32-r;return a[0][n>>>24]-a[1][n>>>16&255]+a[2][n>>>8&255]^a[3][255&n]}function n(e,t,r){let i=t-e,n=i<<r|i>>>32-r;return(a[0][n>>>24]+a[1][n>>>16&255]^a[2][n>>>8&255])-a[3][255&n]}t[0]=[,,,,],t[0][0]=[24,25,23,22,18],t[0][1]=[26,27,21,20,22],t[0][2]=[28,29,19,18,25],t[0][3]=[30,31,17,16,28],t[1]=[,,,,],t[1][0]=[3,2,12,13,8],t[1][1]=[1,0,14,15,13],t[1][2]=[7,6,8,9,3],t[1][3]=[5,4,10,11,7],t[2]=[,,,,],t[2][0]=[19,18,28,29,25],t[2][1]=[17,16,30,31,28],t[2][2]=[23,22,24,25,18],t[2][3]=[21,20,26,27,22],t[3]=[,,,,],t[3][0]=[8,9,7,6,3],t[3][1]=[10,11,5,4,7],t[3][2]=[12,13,3,2,8],t[3][3]=[14,15,1,0,13],this.keySchedule=function(r){let i;let n=[,,,,,,,,],s=Array(32);for(let e=0;e<4;e++)i=4*e,n[e]=r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3];let o=[6,7,4,5],c,h=0;for(let r=0;r<2;r++)for(let r=0;r<4;r++){for(i=0;i<4;i++){let t=e[r][i];c=n[t[1]]^a[4][n[t[2]>>>2]>>>24-8*(3&t[2])&255]^a[5][n[t[3]>>>2]>>>24-8*(3&t[3])&255]^a[6][n[t[4]>>>2]>>>24-8*(3&t[4])&255]^a[7][n[t[5]>>>2]>>>24-8*(3&t[5])&255]^a[o[i]][n[t[6]>>>2]>>>24-8*(3&t[6])&255],n[t[0]]=c}for(i=0;i<4;i++){let e=t[r][i];c=a[4][n[e[0]>>>2]>>>24-8*(3&e[0])&255]^a[5][n[e[1]>>>2]>>>24-8*(3&e[1])&255]^a[6][n[e[2]>>>2]>>>24-8*(3&e[2])&255]^a[7][n[e[3]>>>2]>>>24-8*(3&e[3])&255]^a[4+i][n[e[4]>>>2]>>>24-8*(3&e[4])&255],s[h]=c,h++}}for(let e=0;e<16;e++)this.masking[e]=s[e],this.rotate[e]=31&s[16+e]};let a=[,,,,,,,,];a[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],a[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],a[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],a[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],a[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],a[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],a[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],a[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function eU(e){this.cast5=new eI,this.cast5.setKey(e),this.encrypt=function(e){return this.cast5.encrypt(e)}}function eB(e,t){return(e<<t|e>>>32-t)&4294967295}function eT(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function eK(e,t,r){e.splice(t,4,255&r,r>>>8&255,r>>>16&255,r>>>24&255)}function ez(e,t){return e>>>8*t&255}function eq(e){this.tf=function(){let e=null,t=null,r=-1,i=[],n=[[],[],[],[]];function a(e){return n[0][ez(e,0)]^n[1][ez(e,1)]^n[2][ez(e,2)]^n[3][ez(e,3)]}function s(e){return n[0][ez(e,3)]^n[1][ez(e,0)]^n[2][ez(e,1)]^n[3][ez(e,2)]}return{name:"twofish",blocksize:16,open:function(t){let r,a,s,o,c,h,u,l,d;e=t;let f=[],p=[],b=[],y=[],m=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],g=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],w=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],v=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],_=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],k=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],A=[[],[]],S=[[],[],[],[]];function E(e){return e^e>>2^[0,90,180,238][3&e]}function P(e){return e^e>>1^e>>2^[0,238,180,90][3&e]}function M(e,t){let r=t>>4,i=15&t,n=m[e][r^i],a=g[e][_[i]^k[r]];return v[e][_[a]^k[n]]<<4|w[e][n^a]}function C(e,t){let r=ez(e,0),i=ez(e,1),n=ez(e,2),a=ez(e,3);switch(h){case 4:r=A[1][r]^ez(t[3],0),i=A[0][i]^ez(t[3],1),n=A[0][n]^ez(t[3],2),a=A[1][a]^ez(t[3],3);case 3:r=A[1][r]^ez(t[2],0),i=A[1][i]^ez(t[2],1),n=A[0][n]^ez(t[2],2),a=A[0][a]^ez(t[2],3);case 2:r=A[0][A[0][r]^ez(t[1],0)]^ez(t[0],0),i=A[0][A[1][i]^ez(t[1],1)]^ez(t[0],1),n=A[1][A[0][n]^ez(t[1],2)]^ez(t[0],2),a=A[1][A[1][a]^ez(t[1],3)]^ez(t[0],3)}return S[0][r]^S[1][i]^S[2][n]^S[3][a]}for(r=(e=e.slice(0,32)).length;16!==r&&24!==r&&32!==r;)e[r++]=0;for(r=0;r<e.length;r+=4)b[r>>2]=eT(e,r);for(r=0;r<256;r++)A[0][r]=M(0,r),A[1][r]=M(1,r);for(r=0;r<256;r++)l=E(u=A[1][r]),d=P(u),S[0][r]=u+(l<<8)+(d<<16)+(d<<24),S[2][r]=l+(d<<8)+(u<<16)+(d<<24),l=E(u=A[0][r]),d=P(u),S[1][r]=d+(d<<8)+(l<<16)+(u<<24),S[3][r]=l+(u<<8)+(d<<16)+(l<<24);for(h=b.length/2,r=0;r<h;r++)a=b[r+r],f[r]=a,s=b[r+r+1],p[r]=s,y[h-r-1]=function(e,t){let r,i,n;for(r=0;r<8;r++)i=t>>>24,t=t<<8&4294967295|e>>>24,e=e<<8&4294967295,n=i<<1,128&i&&(n^=333),t^=i^n<<16,n^=i>>>1,1&i&&(n^=166),t^=n<<24|n<<8;return t}(a,s);for(r=0;r<40;r+=2)s=(a=16843009*r)+16843009,a=C(a,f),s=eB(C(s,p),8),i[r]=a+s&4294967295,i[r+1]=eB(a+2*s,9);for(r=0;r<256;r++)switch(a=s=o=c=r,h){case 4:a=A[1][a]^ez(y[3],0),s=A[0][s]^ez(y[3],1),o=A[0][o]^ez(y[3],2),c=A[1][c]^ez(y[3],3);case 3:a=A[1][a]^ez(y[2],0),s=A[1][s]^ez(y[2],1),o=A[0][o]^ez(y[2],2),c=A[0][c]^ez(y[2],3);case 2:n[0][r]=S[0][A[0][A[0][a]^ez(y[1],0)]^ez(y[0],0)],n[1][r]=S[1][A[0][A[1][s]^ez(y[1],1)]^ez(y[0],1)],n[2][r]=S[2][A[1][A[0][o]^ez(y[1],2)]^ez(y[0],2)],n[3][r]=S[3][A[1][A[1][c]^ez(y[1],3)]^ez(y[0],3)]}},close:function(){i=[],n=[[],[],[],[]]},encrypt:function(e,n){t=e,r=n;let o=[eT(t,r)^i[0],eT(t,r+4)^i[1],eT(t,r+8)^i[2],eT(t,r+12)^i[3]];for(let e=0;e<8;e++)(function(e,t){let r=a(t[0]),n=s(t[1]);t[2]=eB(t[2]^r+n+i[4*e+8]&4294967295,31),t[3]=eB(t[3],1)^r+2*n+i[4*e+9]&4294967295,r=a(t[2]),n=s(t[3]),t[0]=eB(t[0]^r+n+i[4*e+10]&4294967295,31),t[1]=eB(t[1],1)^r+2*n+i[4*e+11]&4294967295})(e,o);return eK(t,r,o[2]^i[4]),eK(t,r+4,o[3]^i[5]),eK(t,r+8,o[0]^i[6]),eK(t,r+12,o[1]^i[7]),r+=16,t},decrypt:function(e,n){t=e,r=n;let o=[eT(t,r)^i[4],eT(t,r+4)^i[5],eT(t,r+8)^i[6],eT(t,r+12)^i[7]];for(let e=7;e>=0;e--)(function(e,t){let r=a(t[0]),n=s(t[1]);t[2]=eB(t[2],1)^r+n+i[4*e+10]&4294967295,t[3]=eB(t[3]^r+2*n+i[4*e+11]&4294967295,31),r=a(t[2]),n=s(t[3]),t[0]=eB(t[0],1)^r+n+i[4*e+8]&4294967295,t[1]=eB(t[1]^r+2*n+i[4*e+9]&4294967295,31)})(e,o);eK(t,r,o[2]^i[0]),eK(t,r+4,o[3]^i[1]),eK(t,r+8,o[0]^i[2]),eK(t,r+12,o[1]^i[3]),r+=16},finalize:function(){return t}}}(),this.tf.open(Array.from(e),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}function eF(){}function eO(e){this.bf=new eF,this.bf.init(e),this.encrypt=function(e){return this.bf.encryptBlock(e)}}eD.keySize=eD.prototype.keySize=24,eD.blockSize=eD.prototype.blockSize=8,eU.blockSize=eU.prototype.blockSize=8,eU.keySize=eU.prototype.keySize=16,eq.keySize=eq.prototype.keySize=32,eq.blockSize=eq.prototype.blockSize=16,eF.prototype.BLOCKSIZE=8,eF.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],eF.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],eF.prototype.NN=16,eF.prototype._clean=function(e){return e<0&&(e=(2147483647&e)+2147483648),e},eF.prototype._F=function(e){let t=255&e,r=255&(e>>>=8),i=255&(e>>>=8),n=255&(e>>>=8);return(this.sboxes[0][n]+this.sboxes[1][i]^this.sboxes[2][r])+this.sboxes[3][t]},eF.prototype._encryptBlock=function(e){let t,r=e[0],i=e[1];for(t=0;t<this.NN;++t){r^=this.parray[t],i=this._F(r)^i;let e=r;r=i,i=e}r^=this.parray[this.NN+0],i^=this.parray[this.NN+1],e[0]=this._clean(i),e[1]=this._clean(r)},eF.prototype.encryptBlock=function(e){let t;let r=[0,0],i=this.BLOCKSIZE/2;for(t=0;t<this.BLOCKSIZE/2;++t)r[0]=r[0]<<8|255&e[t+0],r[1]=r[1]<<8|255&e[t+i];this._encryptBlock(r);let n=[];for(t=0;t<this.BLOCKSIZE/2;++t)n[t+0]=r[0]>>>24-8*t&255,n[t+i]=r[1]>>>24-8*t&255;return n},eF.prototype._decryptBlock=function(e){let t,r=e[0],i=e[1];for(t=this.NN+1;t>1;--t){r^=this.parray[t],i=this._F(r)^i;let e=r;r=i,i=e}r^=this.parray[1],i^=this.parray[0],e[0]=this._clean(i),e[1]=this._clean(r)},eF.prototype.init=function(e){let t,r=0;for(this.parray=[],t=0;t<this.NN+2;++t){let i=0;for(let t=0;t<4;++t)i=i<<8|255&e[r],++r>=e.length&&(r=0);this.parray[t]=this.PARRAY[t]^i}for(this.sboxes=[],t=0;t<4;++t)for(this.sboxes[t]=[],r=0;r<256;++r)this.sboxes[t][r]=this.SBOXES[t][r];let i=[0,0];for(t=0;t<this.NN+2;t+=2)this._encryptBlock(i),this.parray[t+0]=i[0],this.parray[t+1]=i[1];for(t=0;t<4;++t)for(r=0;r<256;r+=2)this._encryptBlock(i),this.sboxes[t][r+0]=i[0],this.sboxes[t][r+1]=i[1]},eO.keySize=eO.prototype.keySize=16,eO.blockSize=eO.prototype.blockSize=8;const eL=eC(128),eN=eC(192),ej=eC(256);var eW=Object.freeze({__proto__:null,aes128:eL,aes192:eN,aes256:ej,des:function(e){this.key=e,this.encrypt=function(e,t){return ex(eR(this.key),e,!0,0,null,t)},this.decrypt=function(e,t){return ex(eR(this.key),e,!1,0,null,t)}},tripledes:eD,cast5:eU,twofish:eq,blowfish:eO,idea:function(){throw Error("IDEA symmetric-key algorithm not implemented")}}),eH=function(e,t,r){"use asm";var i=0,n=0,a=0,s=0,o=0,c=0,h=0;var u=0,l=0,d=0,f=0,p=0,b=0,y=0,m=0,g=0,w=0;var v=new e.Uint8Array(r);function _(e,t,r,c,h,u,l,d,f,p,b,y,m,g,w,v){e=e|0;t=t|0;r=r|0;c=c|0;h=h|0;u=u|0;l=l|0;d=d|0;f=f|0;p=p|0;b=b|0;y=y|0;m=m|0;g=g|0;w=w|0;v=v|0;var _=0,k=0,A=0,S=0,E=0,P=0,M=0,C=0,x=0,R=0,D=0,I=0,U=0,B=0,T=0,K=0,z=0,q=0,F=0,O=0,L=0,N=0,j=0,W=0,H=0,G=0,V=0,Z=0,$=0,Y=0,X=0,Q=0,J=0,ee=0,et=0,er=0,ei=0,en=0,ea=0,es=0,eo=0,ec=0,eh=0,eu=0,el=0,ed=0,ef=0,ep=0,eb=0,ey=0,em=0,eg=0,ew=0,ev=0,e_=0,ek=0,eA=0,eS=0,eE=0,eP=0,eM=0,eC=0,ex=0,eR=0,eD=0,eI=0,eU=0,eB=0,eT=0,eK=0,ez=0;_=i;k=n;A=a;S=s;E=o;M=e+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=t+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=r+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=c+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=h+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=u+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=l+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=d+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=f+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=p+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=b+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=y+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=m+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=g+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=w+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;M=v+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=g^f^r^e;C=P<<1|P>>>31;M=C+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=w^p^c^t;x=P<<1|P>>>31;M=x+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=v^b^h^r;R=P<<1|P>>>31;M=R+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=C^y^u^c;D=P<<1|P>>>31;M=D+(_<<5|_>>>27)+E+(k&A|~k&S)+1518500249|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=x^m^l^h;I=P<<1|P>>>31;M=I+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=R^g^d^u;U=P<<1|P>>>31;M=U+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=D^w^f^l;B=P<<1|P>>>31;M=B+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=I^v^p^d;T=P<<1|P>>>31;M=T+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=U^C^b^f;K=P<<1|P>>>31;M=K+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=B^x^y^p;z=P<<1|P>>>31;M=z+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=T^R^m^b;q=P<<1|P>>>31;M=q+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=K^D^g^y;F=P<<1|P>>>31;M=F+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=z^I^w^m;O=P<<1|P>>>31;M=O+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=q^U^v^g;L=P<<1|P>>>31;M=L+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=F^B^C^w;N=P<<1|P>>>31;M=N+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=O^T^x^v;j=P<<1|P>>>31;M=j+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=L^K^R^C;W=P<<1|P>>>31;M=W+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=N^z^D^x;H=P<<1|P>>>31;M=H+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=j^q^I^R;G=P<<1|P>>>31;M=G+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=W^F^U^D;V=P<<1|P>>>31;M=V+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=H^O^B^I;Z=P<<1|P>>>31;M=Z+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=G^L^T^U;$=P<<1|P>>>31;M=$+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=V^N^K^B;Y=P<<1|P>>>31;M=Y+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=Z^j^z^T;X=P<<1|P>>>31;M=X+(_<<5|_>>>27)+E+(k^A^S)+1859775393|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=$^W^q^K;Q=P<<1|P>>>31;M=Q+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=Y^H^F^z;J=P<<1|P>>>31;M=J+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=X^G^O^q;ee=P<<1|P>>>31;M=ee+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=Q^V^L^F;et=P<<1|P>>>31;M=et+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=J^Z^N^O;er=P<<1|P>>>31;M=er+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=ee^$^j^L;ei=P<<1|P>>>31;M=ei+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=et^Y^W^N;en=P<<1|P>>>31;M=en+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=er^X^H^j;ea=P<<1|P>>>31;M=ea+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=ei^Q^G^W;es=P<<1|P>>>31;M=es+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=en^J^V^H;eo=P<<1|P>>>31;M=eo+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=ea^ee^Z^G;ec=P<<1|P>>>31;M=ec+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=es^et^$^V;eh=P<<1|P>>>31;M=eh+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eo^er^Y^Z;eu=P<<1|P>>>31;M=eu+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=ec^ei^X^$;el=P<<1|P>>>31;M=el+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eh^en^Q^Y;ed=P<<1|P>>>31;M=ed+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eu^ea^J^X;ef=P<<1|P>>>31;M=ef+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=el^es^ee^Q;ep=P<<1|P>>>31;M=ep+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=ed^eo^et^J;eb=P<<1|P>>>31;M=eb+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=ef^ec^er^ee;ey=P<<1|P>>>31;M=ey+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=ep^eh^ei^et;em=P<<1|P>>>31;M=em+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-1894007588|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eb^eu^en^er;eg=P<<1|P>>>31;M=eg+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=ey^el^ea^ei;ew=P<<1|P>>>31;M=ew+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=em^ed^es^en;ev=P<<1|P>>>31;M=ev+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eg^ef^eo^ea;e_=P<<1|P>>>31;M=e_+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=ew^ep^ec^es;ek=P<<1|P>>>31;M=ek+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=ev^eb^eh^eo;eA=P<<1|P>>>31;M=eA+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=e_^ey^eu^ec;eS=P<<1|P>>>31;M=eS+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=ek^em^el^eh;eE=P<<1|P>>>31;M=eE+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eA^eg^ed^eu;eP=P<<1|P>>>31;M=eP+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eS^ew^ef^el;eM=P<<1|P>>>31;M=eM+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eE^ev^ep^ed;eC=P<<1|P>>>31;M=eC+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eP^e_^eb^ef;ex=P<<1|P>>>31;M=ex+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eM^ek^ey^ep;eR=P<<1|P>>>31;M=eR+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eC^eA^em^eb;eD=P<<1|P>>>31;M=eD+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=ex^eS^eg^ey;eI=P<<1|P>>>31;M=eI+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eR^eE^ew^em;eU=P<<1|P>>>31;M=eU+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eD^eP^ev^eg;eB=P<<1|P>>>31;M=eB+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eI^eM^e_^ew;eT=P<<1|P>>>31;M=eT+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eU^eC^ek^ev;eK=P<<1|P>>>31;M=eK+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;P=eB^ex^eA^e_;ez=P<<1|P>>>31;M=ez+(_<<5|_>>>27)+E+(k^A^S)-899497514|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=M;i=i+_|0;n=n+k|0;a=a+A|0;s=s+S|0;o=o+E|0}function k(e){e=e|0;_(v[e|0]<<24|v[e|1]<<16|v[e|2]<<8|v[e|3],v[e|4]<<24|v[e|5]<<16|v[e|6]<<8|v[e|7],v[e|8]<<24|v[e|9]<<16|v[e|10]<<8|v[e|11],v[e|12]<<24|v[e|13]<<16|v[e|14]<<8|v[e|15],v[e|16]<<24|v[e|17]<<16|v[e|18]<<8|v[e|19],v[e|20]<<24|v[e|21]<<16|v[e|22]<<8|v[e|23],v[e|24]<<24|v[e|25]<<16|v[e|26]<<8|v[e|27],v[e|28]<<24|v[e|29]<<16|v[e|30]<<8|v[e|31],v[e|32]<<24|v[e|33]<<16|v[e|34]<<8|v[e|35],v[e|36]<<24|v[e|37]<<16|v[e|38]<<8|v[e|39],v[e|40]<<24|v[e|41]<<16|v[e|42]<<8|v[e|43],v[e|44]<<24|v[e|45]<<16|v[e|46]<<8|v[e|47],v[e|48]<<24|v[e|49]<<16|v[e|50]<<8|v[e|51],v[e|52]<<24|v[e|53]<<16|v[e|54]<<8|v[e|55],v[e|56]<<24|v[e|57]<<16|v[e|58]<<8|v[e|59],v[e|60]<<24|v[e|61]<<16|v[e|62]<<8|v[e|63])}function A(e){e=e|0;v[e|0]=i>>>24;v[e|1]=i>>>16&255;v[e|2]=i>>>8&255;v[e|3]=i&255;v[e|4]=n>>>24;v[e|5]=n>>>16&255;v[e|6]=n>>>8&255;v[e|7]=n&255;v[e|8]=a>>>24;v[e|9]=a>>>16&255;v[e|10]=a>>>8&255;v[e|11]=a&255;v[e|12]=s>>>24;v[e|13]=s>>>16&255;v[e|14]=s>>>8&255;v[e|15]=s&255;v[e|16]=o>>>24;v[e|17]=o>>>16&255;v[e|18]=o>>>8&255;v[e|19]=o&255}function S(){i=1732584193;n=4023233417;a=2562383102;s=271733878;o=3285377520;c=h=0}function E(e,t,r,u,l,d,f){e=e|0;t=t|0;r=r|0;u=u|0;l=l|0;d=d|0;f=f|0;i=e;n=t;a=r;s=u;o=l;c=d;h=f}function P(e,t){e=e|0;t=t|0;var r=0;if(e&63)return -1;while((t|0)>=64){k(e);e=e+64|0;t=t-64|0;r=r+64|0}c=c+r|0;if(c>>>0<r>>>0)h=h+1|0;return r|0}function M(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0;if(e&63)return -1;if(~r){if(r&31)return -1}if((t|0)>=64){i=P(e,t)|0;if((i|0)==-1)return -1;e=e+i|0;t=t-i|0}i=i+t|0;c=c+t|0;if(c>>>0<t>>>0)h=h+1|0;v[e|t]=128;if((t|0)>=56){for(n=t+1|0;(n|0)<64;n=n+1|0)v[e|n]=0;k(e);t=0;v[e|0]=0}for(n=t+1|0;(n|0)<59;n=n+1|0)v[e|n]=0;v[e|56]=h>>>21&255;v[e|57]=h>>>13&255;v[e|58]=h>>>5&255;v[e|59]=h<<3&255|c>>>29;v[e|60]=c>>>21&255;v[e|61]=c>>>13&255;v[e|62]=c>>>5&255;v[e|63]=c<<3&255;k(e);if(~r)A(r);return i|0}function C(){i=u;n=l;a=d;s=f;o=p;c=64;h=0}function x(){i=b;n=y;a=m;s=g;o=w;c=64;h=0}function R(e,t,r,v,k,A,E,P,M,C,x,R,D,I,U,B){e=e|0;t=t|0;r=r|0;v=v|0;k=k|0;A=A|0;E=E|0;P=P|0;M=M|0;C=C|0;x=x|0;R=R|0;D=D|0;I=I|0;U=U|0;B=B|0;S();_(e^1549556828,t^1549556828,r^1549556828,v^1549556828,k^1549556828,A^1549556828,E^1549556828,P^1549556828,M^1549556828,C^1549556828,x^1549556828,R^1549556828,D^1549556828,I^1549556828,U^1549556828,B^1549556828);b=i;y=n;m=a;g=s;w=o;S();_(e^909522486,t^909522486,r^909522486,v^909522486,k^909522486,A^909522486,E^909522486,P^909522486,M^909522486,C^909522486,x^909522486,R^909522486,D^909522486,I^909522486,U^909522486,B^909522486);u=i;l=n;d=a;f=s;p=o;c=64;h=0}function D(e,t,r){e=e|0;t=t|0;r=r|0;var c=0,h=0,u=0,l=0,d=0,f=0;if(e&63)return -1;if(~r){if(r&31)return -1}f=M(e,t,-1)|0;c=i,h=n,u=a,l=s,d=o;x();_(c,h,u,l,d,2147483648,0,0,0,0,0,0,0,0,0,672);if(~r)A(r);return f|0}function I(e,t,r,c,h){e=e|0;t=t|0;r=r|0;c=c|0;h=h|0;var u=0,l=0,d=0,f=0,p=0,b=0,y=0,m=0,g=0,w=0;if(e&63)return -1;if(~h){if(h&31)return -1}v[e+t|0]=r>>>24;v[e+t+1|0]=r>>>16&255;v[e+t+2|0]=r>>>8&255;v[e+t+3|0]=r&255;D(e,t+4|0,-1);u=b=i,l=y=n,d=m=a,f=g=s,p=w=o;c=c-1|0;while((c|0)>0){C();_(b,y,m,g,w,2147483648,0,0,0,0,0,0,0,0,0,672);b=i,y=n,m=a,g=s,w=o;x();_(b,y,m,g,w,2147483648,0,0,0,0,0,0,0,0,0,672);b=i,y=n,m=a,g=s,w=o;u=u^i;l=l^n;d=d^a;f=f^s;p=p^o;c=c-1|0}i=u;n=l;a=d;s=f;o=p;if(~h)A(h);return 0}return{reset:S,init:E,process:P,finish:M,hmac_reset:C,hmac_init:R,hmac_finish:D,pbkdf2_generate_block:I}};class eG{constructor(){this.pos=0,this.len=0}reset(){let{asm:e}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,e.reset(),this}process(e){if(null!==this.result)throw new e_("state must be reset before processing new data");let{asm:t,heap:r}=this.acquire_asm(),i=this.pos,n=this.len,a=0,s=e.length,o=0;for(;s>0;)o=ew(r,i+n,e,a,s),n+=o,a+=o,s-=o,o=t.process(i,n),i+=o,(n-=o)||(i=0);return this.pos=i,this.len=n,this}finish(){if(null!==this.result)throw new e_("state must be reset before processing new data");let{asm:e,heap:t}=this.acquire_asm();return e.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(t.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}}const eV=[],eZ=[];class e$ extends eG{constructor(){super(),this.NAME="sha1",this.BLOCK_SIZE=64,this.HASH_SIZE=20,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=eV.pop()||eg(),this.asm=eZ.pop()||eH({Uint8Array:Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(eV.push(this.heap),eZ.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return(new e$).process(e).finish().result}}e$.NAME="sha1",e$.heap_pool=[],e$.asm_pool=[],e$.asm_function=eH;const eY=[],eX=[];class eQ extends eG{constructor(){super(),this.NAME="sha256",this.BLOCK_SIZE=64,this.HASH_SIZE=32,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=eY.pop()||eg(),this.asm=eX.pop()||function(e,t,r){"use asm";var i=0,n=0,a=0,s=0,o=0,c=0,h=0,u=0,l=0,d=0,f=0,p=0,b=0,y=0,m=0,g=0,w=0,v=0,_=0,k=0,A=0,S=0,E=0,P=0,M=0,C=0,x=new e.Uint8Array(r);function R(e,t,r,l,d,f,p,b,y,m,g,w,v,_,k,A){e=e|0;t=t|0;r=r|0;l=l|0;d=d|0;f=f|0;p=p|0;b=b|0;y=y|0;m=m|0;g=g|0;w=w|0;v=v|0;_=_|0;k=k|0;A=A|0;var S=0,E=0,P=0,M=0,C=0,x=0,R=0,D=0;S=i;E=n;P=a;M=s;C=o;x=c;R=h;D=u;D=e+D+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(R^C&(x^R))+1116352408|0;M=M+D|0;D=D+(S&E^P&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;R=t+R+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(x^M&(C^x))+1899447441|0;P=P+R|0;R=R+(D&S^E&(D^S))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;x=r+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(C^P&(M^C))+3049323471|0;E=E+x|0;x=x+(R&D^S&(R^D))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;C=l+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(M^E&(P^M))+3921009573|0;S=S+C|0;C=C+(x&R^D&(x^R))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;M=d+M+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(P^S&(E^P))+961987163|0;D=D+M|0;M=M+(C&x^R&(C^x))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;P=f+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(S^E))+1508970993|0;R=R+P|0;P=P+(M&C^x&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;E=p+E+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(S^R&(D^S))+2453635748|0;x=x+E|0;E=E+(P&M^C&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;S=b+S+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(D^x&(R^D))+2870763221|0;C=C+S|0;S=S+(E&P^M&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;D=y+D+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(R^C&(x^R))+3624381080|0;M=M+D|0;D=D+(S&E^P&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;R=m+R+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(x^M&(C^x))+310598401|0;P=P+R|0;R=R+(D&S^E&(D^S))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;x=g+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(C^P&(M^C))+607225278|0;E=E+x|0;x=x+(R&D^S&(R^D))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;C=w+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(M^E&(P^M))+1426881987|0;S=S+C|0;C=C+(x&R^D&(x^R))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;M=v+M+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(P^S&(E^P))+1925078388|0;D=D+M|0;M=M+(C&x^R&(C^x))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;P=_+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(S^E))+2162078206|0;R=R+P|0;P=P+(M&C^x&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;E=k+E+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(S^R&(D^S))+2614888103|0;x=x+E|0;E=E+(P&M^C&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;S=A+S+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(D^x&(R^D))+3248222580|0;C=C+S|0;S=S+(E&P^M&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+m|0;D=e+D+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(R^C&(x^R))+3835390401|0;M=M+D|0;D=D+(S&E^P&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+t+g|0;R=t+R+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(x^M&(C^x))+4022224774|0;P=P+R|0;R=R+(D&S^E&(D^S))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;r=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+w|0;x=r+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(C^P&(M^C))+264347078|0;E=E+x|0;x=x+(R&D^S&(R^D))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;l=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+l+v|0;C=l+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(M^E&(P^M))+604807628|0;S=S+C|0;C=C+(x&R^D&(x^R))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;d=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+d+_|0;M=d+M+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(P^S&(E^P))+770255983|0;D=D+M|0;M=M+(C&x^R&(C^x))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;f=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+f+k|0;P=f+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(S^E))+1249150122|0;R=R+P|0;P=P+(M&C^x&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;p=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+p+A|0;E=p+E+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(S^R&(D^S))+1555081692|0;x=x+E|0;E=E+(P&M^C&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;b=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+b+e|0;S=b+S+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(D^x&(R^D))+1996064986|0;C=C+S|0;S=S+(E&P^M&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;y=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+y+t|0;D=y+D+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(R^C&(x^R))+2554220882|0;M=M+D|0;D=D+(S&E^P&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;m=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+m+r|0;R=m+R+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(x^M&(C^x))+2821834349|0;P=P+R|0;R=R+(D&S^E&(D^S))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;g=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+g+l|0;x=g+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(C^P&(M^C))+2952996808|0;E=E+x|0;x=x+(R&D^S&(R^D))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;w=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+w+d|0;C=w+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(M^E&(P^M))+3210313671|0;S=S+C|0;C=C+(x&R^D&(x^R))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;v=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+v+f|0;M=v+M+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(P^S&(E^P))+3336571891|0;D=D+M|0;M=M+(C&x^R&(C^x))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;_=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+_+p|0;P=_+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(S^E))+3584528711|0;R=R+P|0;P=P+(M&C^x&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;k=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+k+b|0;E=k+E+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(S^R&(D^S))+113926993|0;x=x+E|0;E=E+(P&M^C&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;A=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+A+y|0;S=A+S+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(D^x&(R^D))+338241895|0;C=C+S|0;S=S+(E&P^M&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+m|0;D=e+D+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(R^C&(x^R))+666307205|0;M=M+D|0;D=D+(S&E^P&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+t+g|0;R=t+R+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(x^M&(C^x))+773529912|0;P=P+R|0;R=R+(D&S^E&(D^S))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;r=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+w|0;x=r+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(C^P&(M^C))+1294757372|0;E=E+x|0;x=x+(R&D^S&(R^D))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;l=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+l+v|0;C=l+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(M^E&(P^M))+1396182291|0;S=S+C|0;C=C+(x&R^D&(x^R))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;d=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+d+_|0;M=d+M+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(P^S&(E^P))+1695183700|0;D=D+M|0;M=M+(C&x^R&(C^x))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;f=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+f+k|0;P=f+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(S^E))+1986661051|0;R=R+P|0;P=P+(M&C^x&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;p=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+p+A|0;E=p+E+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(S^R&(D^S))+2177026350|0;x=x+E|0;E=E+(P&M^C&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;b=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+b+e|0;S=b+S+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(D^x&(R^D))+2456956037|0;C=C+S|0;S=S+(E&P^M&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;y=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+y+t|0;D=y+D+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(R^C&(x^R))+2730485921|0;M=M+D|0;D=D+(S&E^P&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;m=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+m+r|0;R=m+R+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(x^M&(C^x))+2820302411|0;P=P+R|0;R=R+(D&S^E&(D^S))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;g=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+g+l|0;x=g+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(C^P&(M^C))+3259730800|0;E=E+x|0;x=x+(R&D^S&(R^D))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;w=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+w+d|0;C=w+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(M^E&(P^M))+3345764771|0;S=S+C|0;C=C+(x&R^D&(x^R))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;v=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+v+f|0;M=v+M+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(P^S&(E^P))+3516065817|0;D=D+M|0;M=M+(C&x^R&(C^x))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;_=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+_+p|0;P=_+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(S^E))+3600352804|0;R=R+P|0;P=P+(M&C^x&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;k=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+k+b|0;E=k+E+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(S^R&(D^S))+4094571909|0;x=x+E|0;E=E+(P&M^C&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;A=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+A+y|0;S=A+S+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(D^x&(R^D))+275423344|0;C=C+S|0;S=S+(E&P^M&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+m|0;D=e+D+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(R^C&(x^R))+430227734|0;M=M+D|0;D=D+(S&E^P&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+t+g|0;R=t+R+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(x^M&(C^x))+506948616|0;P=P+R|0;R=R+(D&S^E&(D^S))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;r=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+w|0;x=r+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(C^P&(M^C))+659060556|0;E=E+x|0;x=x+(R&D^S&(R^D))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;l=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+l+v|0;C=l+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(M^E&(P^M))+883997877|0;S=S+C|0;C=C+(x&R^D&(x^R))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;d=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+d+_|0;M=d+M+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(P^S&(E^P))+958139571|0;D=D+M|0;M=M+(C&x^R&(C^x))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;f=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+f+k|0;P=f+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(S^E))+1322822218|0;R=R+P|0;P=P+(M&C^x&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;p=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+p+A|0;E=p+E+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(S^R&(D^S))+1537002063|0;x=x+E|0;E=E+(P&M^C&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;b=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+b+e|0;S=b+S+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(D^x&(R^D))+1747873779|0;C=C+S|0;S=S+(E&P^M&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;y=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+y+t|0;D=y+D+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(R^C&(x^R))+1955562222|0;M=M+D|0;D=D+(S&E^P&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;m=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+m+r|0;R=m+R+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(x^M&(C^x))+2024104815|0;P=P+R|0;R=R+(D&S^E&(D^S))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;g=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+g+l|0;x=g+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(C^P&(M^C))+2227730452|0;E=E+x|0;x=x+(R&D^S&(R^D))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;w=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+w+d|0;C=w+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(M^E&(P^M))+2361852424|0;S=S+C|0;C=C+(x&R^D&(x^R))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;v=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+v+f|0;M=v+M+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(P^S&(E^P))+2428436474|0;D=D+M|0;M=M+(C&x^R&(C^x))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;_=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+_+p|0;P=_+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(S^E))+2756734187|0;R=R+P|0;P=P+(M&C^x&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;k=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+k+b|0;E=k+E+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(S^R&(D^S))+3204031479|0;x=x+E|0;E=E+(P&M^C&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;A=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+A+y|0;S=A+S+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(D^x&(R^D))+3329325298|0;C=C+S|0;S=S+(E&P^M&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;i=i+S|0;n=n+E|0;a=a+P|0;s=s+M|0;o=o+C|0;c=c+x|0;h=h+R|0;u=u+D|0}function D(e){e=e|0;R(x[e|0]<<24|x[e|1]<<16|x[e|2]<<8|x[e|3],x[e|4]<<24|x[e|5]<<16|x[e|6]<<8|x[e|7],x[e|8]<<24|x[e|9]<<16|x[e|10]<<8|x[e|11],x[e|12]<<24|x[e|13]<<16|x[e|14]<<8|x[e|15],x[e|16]<<24|x[e|17]<<16|x[e|18]<<8|x[e|19],x[e|20]<<24|x[e|21]<<16|x[e|22]<<8|x[e|23],x[e|24]<<24|x[e|25]<<16|x[e|26]<<8|x[e|27],x[e|28]<<24|x[e|29]<<16|x[e|30]<<8|x[e|31],x[e|32]<<24|x[e|33]<<16|x[e|34]<<8|x[e|35],x[e|36]<<24|x[e|37]<<16|x[e|38]<<8|x[e|39],x[e|40]<<24|x[e|41]<<16|x[e|42]<<8|x[e|43],x[e|44]<<24|x[e|45]<<16|x[e|46]<<8|x[e|47],x[e|48]<<24|x[e|49]<<16|x[e|50]<<8|x[e|51],x[e|52]<<24|x[e|53]<<16|x[e|54]<<8|x[e|55],x[e|56]<<24|x[e|57]<<16|x[e|58]<<8|x[e|59],x[e|60]<<24|x[e|61]<<16|x[e|62]<<8|x[e|63])}function I(e){e=e|0;x[e|0]=i>>>24;x[e|1]=i>>>16&255;x[e|2]=i>>>8&255;x[e|3]=i&255;x[e|4]=n>>>24;x[e|5]=n>>>16&255;x[e|6]=n>>>8&255;x[e|7]=n&255;x[e|8]=a>>>24;x[e|9]=a>>>16&255;x[e|10]=a>>>8&255;x[e|11]=a&255;x[e|12]=s>>>24;x[e|13]=s>>>16&255;x[e|14]=s>>>8&255;x[e|15]=s&255;x[e|16]=o>>>24;x[e|17]=o>>>16&255;x[e|18]=o>>>8&255;x[e|19]=o&255;x[e|20]=c>>>24;x[e|21]=c>>>16&255;x[e|22]=c>>>8&255;x[e|23]=c&255;x[e|24]=h>>>24;x[e|25]=h>>>16&255;x[e|26]=h>>>8&255;x[e|27]=h&255;x[e|28]=u>>>24;x[e|29]=u>>>16&255;x[e|30]=u>>>8&255;x[e|31]=u&255}function U(){i=1779033703;n=3144134277;a=1013904242;s=2773480762;o=1359893119;c=2600822924;h=528734635;u=1541459225;l=d=0}function B(e,t,r,f,p,b,y,m,g,w){e=e|0;t=t|0;r=r|0;f=f|0;p=p|0;b=b|0;y=y|0;m=m|0;g=g|0;w=w|0;i=e;n=t;a=r;s=f;o=p;c=b;h=y;u=m;l=g;d=w}function T(e,t){e=e|0;t=t|0;var r=0;if(e&63)return -1;while((t|0)>=64){D(e);e=e+64|0;t=t-64|0;r=r+64|0}l=l+r|0;if(l>>>0<r>>>0)d=d+1|0;return r|0}function K(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0;if(e&63)return -1;if(~r){if(r&31)return -1}if((t|0)>=64){i=T(e,t)|0;if((i|0)==-1)return -1;e=e+i|0;t=t-i|0}i=i+t|0;l=l+t|0;if(l>>>0<t>>>0)d=d+1|0;x[e|t]=128;if((t|0)>=56){for(n=t+1|0;(n|0)<64;n=n+1|0)x[e|n]=0;D(e);t=0;x[e|0]=0}for(n=t+1|0;(n|0)<59;n=n+1|0)x[e|n]=0;x[e|56]=d>>>21&255;x[e|57]=d>>>13&255;x[e|58]=d>>>5&255;x[e|59]=d<<3&255|l>>>29;x[e|60]=l>>>21&255;x[e|61]=l>>>13&255;x[e|62]=l>>>5&255;x[e|63]=l<<3&255;D(e);if(~r)I(r);return i|0}function z(){i=f;n=p;a=b;s=y;o=m;c=g;h=w;u=v;l=64;d=0}function q(){i=_;n=k;a=A;s=S;o=E;c=P;h=M;u=C;l=64;d=0}function F(e,t,r,x,D,I,B,T,K,z,q,F,O,L,N,j){e=e|0;t=t|0;r=r|0;x=x|0;D=D|0;I=I|0;B=B|0;T=T|0;K=K|0;z=z|0;q=q|0;F=F|0;O=O|0;L=L|0;N=N|0;j=j|0;U();R(e^1549556828,t^1549556828,r^1549556828,x^1549556828,D^1549556828,I^1549556828,B^1549556828,T^1549556828,K^1549556828,z^1549556828,q^1549556828,F^1549556828,O^1549556828,L^1549556828,N^1549556828,j^1549556828);_=i;k=n;A=a;S=s;E=o;P=c;M=h;C=u;U();R(e^909522486,t^909522486,r^909522486,x^909522486,D^909522486,I^909522486,B^909522486,T^909522486,K^909522486,z^909522486,q^909522486,F^909522486,O^909522486,L^909522486,N^909522486,j^909522486);f=i;p=n;b=a;y=s;m=o;g=c;w=h;v=u;l=64;d=0}function O(e,t,r){e=e|0;t=t|0;r=r|0;var l=0,d=0,f=0,p=0,b=0,y=0,m=0,g=0,w=0;if(e&63)return -1;if(~r){if(r&31)return -1}w=K(e,t,-1)|0;l=i,d=n,f=a,p=s,b=o,y=c,m=h,g=u;q();R(l,d,f,p,b,y,m,g,2147483648,0,0,0,0,0,0,768);if(~r)I(r);return w|0}function L(e,t,r,l,d){e=e|0;t=t|0;r=r|0;l=l|0;d=d|0;var f=0,p=0,b=0,y=0,m=0,g=0,w=0,v=0,_=0,k=0,A=0,S=0,E=0,P=0,M=0,C=0;if(e&63)return -1;if(~d){if(d&31)return -1}x[e+t|0]=r>>>24;x[e+t+1|0]=r>>>16&255;x[e+t+2|0]=r>>>8&255;x[e+t+3|0]=r&255;O(e,t+4|0,-1);f=_=i,p=k=n,b=A=a,y=S=s,m=E=o,g=P=c,w=M=h,v=C=u;l=l-1|0;while((l|0)>0){z();R(_,k,A,S,E,P,M,C,2147483648,0,0,0,0,0,0,768);_=i,k=n,A=a,S=s,E=o,P=c,M=h,C=u;q();R(_,k,A,S,E,P,M,C,2147483648,0,0,0,0,0,0,768);_=i,k=n,A=a,S=s,E=o,P=c,M=h,C=u;f=f^i;p=p^n;b=b^a;y=y^s;m=m^o;g=g^c;w=w^h;v=v^u;l=l-1|0}i=f;n=p;a=b;s=y;o=m;c=g;h=w;u=v;if(~d)I(d);return 0}return{reset:U,init:B,process:T,finish:K,hmac_reset:z,hmac_init:F,hmac_finish:O,pbkdf2_generate_block:L}}({Uint8Array:Uint8Array},0,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(eY.push(this.heap),eX.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return(new eQ).process(e).finish().result}}eQ.NAME="sha256";var eJ=e0;function e0(e,t){if(!e)throw Error(t||"Assertion failed")}e0.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var e1=void 0!==l?l:"undefined"!=typeof window?window:void 0!==u?u:"undefined"!=typeof self?self:{};function e2(e,t){return e(t={exports:{}},t.exports),t.exports}function e3(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var e5=e2(function(e){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}});function e6(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function e4(e){return 1===e.length?"0"+e:e}function e8(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var e7={inherits:e5,toArray:function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e){if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var i=0;i<e.length;i++){var n=e.charCodeAt(i),a=n>>8,s=255&n;a?r.push(a,s):r.push(s)}}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},toHex:function(e){for(var t="",r=0;r<e.length;r++)t+=e4(e[r].toString(16));return t},htonl:e6,toHex32:function(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];"little"===t&&(n=e6(n)),r+=e8(n.toString(16))}return r},zero2:e4,zero8:e8,join32:function(e,t,r,i){var n,a=r-t;eJ(a%4==0);for(var s=Array(a/4),o=0,c=t;o<s.length;o++,c+=4)n="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[o]=n>>>0;return s},split32:function(e,t){for(var r=Array(4*e.length),i=0,n=0;i<e.length;i++,n+=4){var a=e[i];"big"===t?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=255&a):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=255&a)}return r},rotr32:function(e,t){return e>>>t|e<<32-t},rotl32:function(e,t){return e<<t|e>>>32-t},sum32:function(e,t){return e+t>>>0},sum32_3:function(e,t,r){return e+t+r>>>0},sum32_4:function(e,t,r,i){return e+t+r+i>>>0},sum32_5:function(e,t,r,i,n){return e+t+r+i+n>>>0},sum64:function(e,t,r,i){var n=e[t],a=i+e[t+1]>>>0;e[t]=(a<i?1:0)+r+n>>>0,e[t+1]=a},sum64_hi:function(e,t,r,i){return(t+i>>>0<t?1:0)+e+r>>>0},sum64_lo:function(e,t,r,i){return t+i>>>0},sum64_4_hi:function(e,t,r,i,n,a,s,o){var c=t;return e+r+n+s+(0+(((c=c+i>>>0)<t?1:0)+((c=c+a>>>0)<a?1:0)+((c=c+o>>>0)<o?1:0)))>>>0},sum64_4_lo:function(e,t,r,i,n,a,s,o){return t+i+a+o>>>0},sum64_5_hi:function(e,t,r,i,n,a,s,o,c,h){var u=t;return e+r+n+s+c+(0+(((u=u+i>>>0)<t?1:0)+((u=u+a>>>0)<a?1:0)+((u=u+o>>>0)<o?1:0)+((u=u+h>>>0)<h?1:0)))>>>0},sum64_5_lo:function(e,t,r,i,n,a,s,o,c,h){return t+i+a+o+h>>>0},rotr64_hi:function(e,t,r){return(t<<32-r|e>>>r)>>>0},rotr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0},shr64_hi:function(e,t,r){return e>>>r},shr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0}};function e9(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e9.prototype.update=function(e,t){if(e=e7.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=e7.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},e9.prototype.digest=function(e){return this.update(this._pad()),eJ(null===this.pending),this._digest(e)},e9.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=255&e}else for(i[n++]=255&e,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,a=8;a<this.padLength;a++)i[n++]=0;return i};var te={BlockHash:e9},tt=e7.rotr32;function tr(e,t,r){return e&t^e&r^t&r}var ti={ft_1:function(e,t,r,i){return 0===e?t&r^~t&i:1===e||3===e?t^r^i:2===e?tr(t,r,i):void 0},ch32:function(e,t,r){return e&t^~e&r},maj32:tr,s0_256:function(e){return tt(e,2)^tt(e,13)^tt(e,22)},s1_256:function(e){return tt(e,6)^tt(e,11)^tt(e,25)},g0_256:function(e){return tt(e,7)^tt(e,18)^e>>>3},g1_256:function(e){return tt(e,17)^tt(e,19)^e>>>10}},tn=e7.sum32,ta=e7.sum32_4,ts=e7.sum32_5,to=ti.ch32,tc=ti.maj32,th=ti.s0_256,tu=ti.s1_256,tl=ti.g0_256,td=ti.g1_256,tf=te.BlockHash,tp=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function tb(){if(!(this instanceof tb))return new tb;tf.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=tp,this.W=Array(64)}function ty(){if(!(this instanceof ty))return new ty;tb.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}e7.inherits(tb,tf),tb.blockSize=512,tb.outSize=256,tb.hmacStrength=192,tb.padLength=64,tb.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=ta(td(r[i-2]),r[i-7],tl(r[i-15]),r[i-16]);var n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],h=this.h[5],u=this.h[6],l=this.h[7];for(eJ(this.k.length===r.length),i=0;i<r.length;i++){var d=ts(l,tu(c),to(c,h,u),this.k[i],r[i]),f=tn(th(n),tc(n,a,s));l=u,u=h,h=c,c=tn(o,d),o=s,s=a,a=n,n=tn(d,f)}this.h[0]=tn(this.h[0],n),this.h[1]=tn(this.h[1],a),this.h[2]=tn(this.h[2],s),this.h[3]=tn(this.h[3],o),this.h[4]=tn(this.h[4],c),this.h[5]=tn(this.h[5],h),this.h[6]=tn(this.h[6],u),this.h[7]=tn(this.h[7],l)},tb.prototype._digest=function(e){return"hex"===e?e7.toHex32(this.h,"big"):e7.split32(this.h,"big")},e7.inherits(ty,tb),ty.blockSize=512,ty.outSize=224,ty.hmacStrength=192,ty.padLength=64,ty.prototype._digest=function(e){return"hex"===e?e7.toHex32(this.h.slice(0,7),"big"):e7.split32(this.h.slice(0,7),"big")};var tm=e7.rotr64_hi,tg=e7.rotr64_lo,tw=e7.shr64_hi,tv=e7.shr64_lo,t_=e7.sum64,tk=e7.sum64_hi,tA=e7.sum64_lo,tS=e7.sum64_4_hi,tE=e7.sum64_4_lo,tP=e7.sum64_5_hi,tM=e7.sum64_5_lo,tC=te.BlockHash,tx=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function tR(){if(!(this instanceof tR))return new tR;tC.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=tx,this.W=Array(160)}function tD(){if(!(this instanceof tD))return new tD;tR.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}e7.inherits(tR,tC),tR.blockSize=1024,tR.outSize=512,tR.hmacStrength=192,tR.padLength=128,tR.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=function(e,t){var r=tm(e,t,19)^tm(t,e,29)^tw(e,t,6);return r<0&&(r+=4294967296),r}(r[i-4],r[i-3]),a=function(e,t){var r=tg(e,t,19)^tg(t,e,29)^tv(e,t,6);return r<0&&(r+=4294967296),r}(r[i-4],r[i-3]),s=r[i-14],o=r[i-13],c=function(e,t){var r=tm(e,t,1)^tm(e,t,8)^tw(e,t,7);return r<0&&(r+=4294967296),r}(r[i-30],r[i-29]),h=function(e,t){var r=tg(e,t,1)^tg(e,t,8)^tv(e,t,7);return r<0&&(r+=4294967296),r}(r[i-30],r[i-29]),u=r[i-32],l=r[i-31];r[i]=tS(n,a,s,o,c,h,u,l),r[i+1]=tE(n,a,s,o,c,h,u,l)}},tR.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],c=this.h[5],h=this.h[6],u=this.h[7],l=this.h[8],d=this.h[9],f=this.h[10],p=this.h[11],b=this.h[12],y=this.h[13],m=this.h[14],g=this.h[15];eJ(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var v=m,_=g,k=function(e,t){var r=tm(e,t,14)^tm(e,t,18)^tm(t,e,9);return r<0&&(r+=4294967296),r}(l,d),A=function(e,t){var r=tg(e,t,14)^tg(e,t,18)^tg(t,e,9);return r<0&&(r+=4294967296),r}(l,d),S=function(e,t,r,i,n){var a=e&r^~e&n;return a<0&&(a+=4294967296),a}(l,0,f,0,b),E=function(e,t,r,i,n,a){var s=t&i^~t&a;return s<0&&(s+=4294967296),s}(0,d,0,p,0,y),P=this.k[w],M=this.k[w+1],C=r[w],x=r[w+1],R=tP(v,_,k,A,S,E,P,M,C,x),D=tM(v,_,k,A,S,E,P,M,C,x);v=function(e,t){var r=tm(e,t,28)^tm(t,e,2)^tm(t,e,7);return r<0&&(r+=4294967296),r}(i,n),_=function(e,t){var r=tg(e,t,28)^tg(t,e,2)^tg(t,e,7);return r<0&&(r+=4294967296),r}(i,n),k=function(e,t,r,i,n){var a=e&r^e&n^r&n;return a<0&&(a+=4294967296),a}(i,0,a,0,o),A=function(e,t,r,i,n,a){var s=t&i^t&a^i&a;return s<0&&(s+=4294967296),s}(0,n,0,s,0,c);var I=tk(v,_,k,A),U=tA(v,_,k,A);m=b,g=y,b=f,y=p,f=l,p=d,l=tk(h,u,R,D),d=tA(u,u,R,D),h=o,u=c,o=a,c=s,a=i,s=n,i=tk(R,D,I,U),n=tA(R,D,I,U)}t_(this.h,0,i,n),t_(this.h,2,a,s),t_(this.h,4,o,c),t_(this.h,6,h,u),t_(this.h,8,l,d),t_(this.h,10,f,p),t_(this.h,12,b,y),t_(this.h,14,m,g)},tR.prototype._digest=function(e){return"hex"===e?e7.toHex32(this.h,"big"):e7.split32(this.h,"big")},e7.inherits(tD,tR),tD.blockSize=1024,tD.outSize=384,tD.hmacStrength=192,tD.padLength=128,tD.prototype._digest=function(e){return"hex"===e?e7.toHex32(this.h.slice(0,12),"big"):e7.split32(this.h.slice(0,12),"big")};var tI=e7.rotl32,tU=e7.sum32,tB=e7.sum32_3,tT=e7.sum32_4,tK=te.BlockHash;function tz(){if(!(this instanceof tz))return new tz;tK.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function tq(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}e7.inherits(tz,tK),tz.blockSize=512,tz.outSize=160,tz.hmacStrength=192,tz.padLength=64,tz.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],a=this.h[3],s=this.h[4],o=r,c=i,h=n,u=a,l=s,d=0;d<80;d++){var f,p,b=tU(tI(tT(r,tq(d,i,n,a),e[tF[d]+t],(f=d)<=15?0:f<=31?1518500249:f<=47?1859775393:f<=63?2400959708:2840853838),tL[d]),s);r=s,s=a,a=tI(n,10),n=i,i=b,b=tU(tI(tT(o,tq(79-d,c,h,u),e[tO[d]+t],(p=d)<=15?1352829926:p<=31?1548603684:p<=47?1836072691:p<=63?2053994217:0),tN[d]),l),o=l,l=u,u=tI(h,10),h=c,c=b}b=tB(this.h[1],n,u),this.h[1]=tB(this.h[2],a,l),this.h[2]=tB(this.h[3],s,o),this.h[3]=tB(this.h[4],r,c),this.h[4]=tB(this.h[0],i,h),this.h[0]=b},tz.prototype._digest=function(e){return"hex"===e?e7.toHex32(this.h,"little"):e7.split32(this.h,"little")};var tF=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],tO=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],tL=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],tN=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],tj={ripemd160:tz};function tW(e,t){let r=e[0],i=e[1],n=e[2],a=e[3];r=tG(r,i,n,a,t[0],7,-680876936),a=tG(a,r,i,n,t[1],12,-389564586),n=tG(n,a,r,i,t[2],17,606105819),i=tG(i,n,a,r,t[3],22,-1044525330),r=tG(r,i,n,a,t[4],7,-176418897),a=tG(a,r,i,n,t[5],12,1200080426),n=tG(n,a,r,i,t[6],17,-1473231341),i=tG(i,n,a,r,t[7],22,-45705983),r=tG(r,i,n,a,t[8],7,1770035416),a=tG(a,r,i,n,t[9],12,-1958414417),n=tG(n,a,r,i,t[10],17,-42063),i=tG(i,n,a,r,t[11],22,-1990404162),r=tG(r,i,n,a,t[12],7,1804603682),a=tG(a,r,i,n,t[13],12,-40341101),n=tG(n,a,r,i,t[14],17,-1502002290),i=tG(i,n,a,r,t[15],22,1236535329),r=tV(r,i,n,a,t[1],5,-165796510),a=tV(a,r,i,n,t[6],9,-1069501632),n=tV(n,a,r,i,t[11],14,643717713),i=tV(i,n,a,r,t[0],20,-373897302),r=tV(r,i,n,a,t[5],5,-701558691),a=tV(a,r,i,n,t[10],9,38016083),n=tV(n,a,r,i,t[15],14,-660478335),i=tV(i,n,a,r,t[4],20,-405537848),r=tV(r,i,n,a,t[9],5,568446438),a=tV(a,r,i,n,t[14],9,-1019803690),n=tV(n,a,r,i,t[3],14,-187363961),i=tV(i,n,a,r,t[8],20,1163531501),r=tV(r,i,n,a,t[13],5,-1444681467),a=tV(a,r,i,n,t[2],9,-51403784),n=tV(n,a,r,i,t[7],14,1735328473),i=tV(i,n,a,r,t[12],20,-1926607734),r=tZ(r,i,n,a,t[5],4,-378558),a=tZ(a,r,i,n,t[8],11,-2022574463),n=tZ(n,a,r,i,t[11],16,1839030562),i=tZ(i,n,a,r,t[14],23,-35309556),r=tZ(r,i,n,a,t[1],4,-1530992060),a=tZ(a,r,i,n,t[4],11,1272893353),n=tZ(n,a,r,i,t[7],16,-155497632),i=tZ(i,n,a,r,t[10],23,-1094730640),r=tZ(r,i,n,a,t[13],4,681279174),a=tZ(a,r,i,n,t[0],11,-358537222),n=tZ(n,a,r,i,t[3],16,-722521979),i=tZ(i,n,a,r,t[6],23,76029189),r=tZ(r,i,n,a,t[9],4,-640364487),a=tZ(a,r,i,n,t[12],11,-421815835),n=tZ(n,a,r,i,t[15],16,530742520),i=tZ(i,n,a,r,t[2],23,-995338651),r=t$(r,i,n,a,t[0],6,-198630844),a=t$(a,r,i,n,t[7],10,1126891415),n=t$(n,a,r,i,t[14],15,-1416354905),i=t$(i,n,a,r,t[5],21,-57434055),r=t$(r,i,n,a,t[12],6,1700485571),a=t$(a,r,i,n,t[3],10,-1894986606),n=t$(n,a,r,i,t[10],15,-1051523),i=t$(i,n,a,r,t[1],21,-2054922799),r=t$(r,i,n,a,t[8],6,1873313359),a=t$(a,r,i,n,t[15],10,-30611744),n=t$(n,a,r,i,t[6],15,-1560198380),i=t$(i,n,a,r,t[13],21,1309151649),r=t$(r,i,n,a,t[4],6,-145523070),a=t$(a,r,i,n,t[11],10,-1120210379),n=t$(n,a,r,i,t[2],15,718787259),i=t$(i,n,a,r,t[9],21,-343485551),e[0]=tX(r,e[0]),e[1]=tX(i,e[1]),e[2]=tX(n,e[2]),e[3]=tX(a,e[3])}function tH(e,t,r,i,n,a){return t=tX(tX(t,e),tX(i,a)),tX(t<<n|t>>>32-n,r)}function tG(e,t,r,i,n,a,s){return tH(t&r|~t&i,e,t,n,a,s)}function tV(e,t,r,i,n,a,s){return tH(t&i|r&~i,e,t,n,a,s)}function tZ(e,t,r,i,n,a,s){return tH(t^r^i,e,t,n,a,s)}function t$(e,t,r,i,n,a,s){return tH(r^(t|~i),e,t,n,a,s)}const tY="0123456789abcdef".split("");function tX(e,t){return e+t&4294967295}const tQ=ee.getWebCrypto(),tJ=ee.getNodeCrypto(),t0=tJ&&tJ.getHashes();function t1(e){if(tJ&&t0.includes(e))return async function(t){let r=tJ.createHash(e);return N(t,e=>{r.update(e)},()=>new Uint8Array(r.digest()))}}function t2(e,t){return async function(r,i=ec){if(m(r)&&(r=await $(r)),!ee.isStream(r)&&tQ&&t&&r.length>=i.minBytesForWebCrypto)return new Uint8Array(await tQ.digest(t,r));let n=e();return N(r,e=>{n.update(e)},()=>new Uint8Array(n.digest()))}}function t3(e,t){return async function(r,i=ec){if(m(r)&&(r=await $(r)),ee.isStream(r)){let t=new e;return N(r,e=>{t.process(e)},()=>t.finish().result)}return tQ&&t&&r.length>=i.minBytesForWebCrypto?new Uint8Array(await tQ.digest(t,r)):e.bytes(r)}}const t5={md5:t1("md5")||async function(e){let t=function(e){let t;let r=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)tW(i,function(e){let t;let r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}(e.substring(t-64,t)));e=e.substring(t-64);let n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(tW(i,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,tW(i,n),i}(ee.uint8ArrayToString(e));return ee.hexToUint8Array(function(e){for(let t=0;t<e.length;t++)e[t]=function(e){let t="",r=0;for(;r<4;r++)t+=tY[e>>8*r+4&15]+tY[e>>8*r&15];return t}(e[t]);return e.join("")}(t))},sha1:t1("sha1")||t3(e$,"SHA-1"),sha224:t1("sha224")||t2(ty),sha256:t1("sha256")||t3(eQ,"SHA-256"),sha384:t1("sha384")||t2(tD,"SHA-384"),sha512:t1("sha512")||t2(tR,"SHA-512"),ripemd:t1("ripemd160")||t2(tz)};var t6={md5:t5.md5,sha1:t5.sha1,sha224:t5.sha224,sha256:t5.sha256,sha384:t5.sha384,sha512:t5.sha512,ripemd:t5.ripemd,digest:function(e,t){switch(e){case eo.hash.md5:return this.md5(t);case eo.hash.sha1:return this.sha1(t);case eo.hash.ripemd:return this.ripemd(t);case eo.hash.sha256:return this.sha256(t);case eo.hash.sha384:return this.sha384(t);case eo.hash.sha512:return this.sha512(t);case eo.hash.sha224:return this.sha224(t);default:throw Error("Invalid hash function.")}},getHashByteLength:function(e){switch(e){case eo.hash.md5:return 16;case eo.hash.sha1:case eo.hash.ripemd:return 20;case eo.hash.sha256:return 32;case eo.hash.sha384:return 48;case eo.hash.sha512:return 64;case eo.hash.sha224:return 28;default:throw Error("Invalid hash algorithm.")}}};class t4{static encrypt(e,t,r){return new t4(t,r).encrypt(e)}static decrypt(e,t,r){return new t4(t,r).decrypt(e)}constructor(e,t,r){this.aes=r||new eP(e,t,!0,"CFB"),delete this.aes.padding}encrypt(e){return ev(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return ev(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}function t8(e){let t=eo.read(eo.symmetric,e);return eW[t]}const t7=ee.getWebCrypto(),t9=ee.getNodeCrypto(),re=t9?t9.getCiphers():[],rt={idea:re.includes("idea-cfb")?"idea-cfb":void 0,tripledes:re.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:re.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:re.includes("bf-cfb")?"bf-cfb":void 0,aes128:re.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:re.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:re.includes("aes-256-cfb")?"aes-256-cfb":void 0};var rr=Object.freeze({__proto__:null,encrypt:async function(e,t,r,i,n){let a=eo.read(eo.symmetric,e);if(ee.getNodeCrypto()&&rt[a])return function(e,t,r,i){let n=eo.read(eo.symmetric,e),a=new t9.createCipheriv(rt[n],t,i);return N(r,e=>new Uint8Array(a.update(e)))}(e,t,r,i);if("aes"===a.substr(0,3))return function(e,t,r,i,n){if(ee.getWebCrypto()&&24!==t.length&&!ee.isStream(r)&&r.length>=3e3*n.minBytesForWebCrypto)return async function(e,t,r,i){let n="AES-CBC",a=await t7.importKey("raw",t,{name:n},!1,["encrypt"]),{blockSize:s}=t8(e),o=ee.concatUint8Array([new Uint8Array(s),r]),c=new Uint8Array(await t7.encrypt({name:n,iv:i},a,o)).subarray(0,r.length);return function(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]^t[r]}(c,r),c}(e,t,r,i);let a=new t4(t,i);return N(r,e=>a.aes.AES_Encrypt_process(e),()=>a.aes.AES_Encrypt_finish())}(e,t,r,i,n);let s=new(t8(e))(t),o=s.blockSize,c=i.slice(),h=new Uint8Array,u=e=>{e&&(h=ee.concatUint8Array([h,e]));let t=new Uint8Array(h.length),r,i=0;for(;e?h.length>=o:h.length;){let e=s.encrypt(c);for(r=0;r<o;r++)c[r]=h[r]^e[r],t[i++]=c[r];h=h.subarray(o)}return t.subarray(0,i)};return N(r,u,u)},decrypt:async function(e,t,r,i){let n=eo.read(eo.symmetric,e);if(ee.getNodeCrypto()&&rt[n])return function(e,t,r,i){let n=eo.read(eo.symmetric,e),a=new t9.createDecipheriv(rt[n],t,i);return N(r,e=>new Uint8Array(a.update(e)))}(e,t,r,i);if("aes"===n.substr(0,3))return function(e,t,r,i){if(ee.isStream(r)){let e=new t4(t,i);return N(r,t=>e.aes.AES_Decrypt_process(t),()=>e.aes.AES_Decrypt_finish())}return t4.decrypt(r,t,i)}(0,t,r,i);let a=new(t8(e))(t),s=a.blockSize,o=i,c=new Uint8Array,h=e=>{e&&(c=ee.concatUint8Array([c,e]));let t=new Uint8Array(c.length),r,i=0;for(;e?c.length>=s:c.length;){let e=a.encrypt(o);for(o=c,r=0;r<s;r++)t[i++]=o[r]^e[r];c=c.subarray(s)}return t.subarray(0,i)};return N(r,h,h)}});class ri{static encrypt(e,t,r){return new ri(t,r).encrypt(e)}static decrypt(e,t,r){return new ri(t,r).encrypt(e)}constructor(e,t,r){this.aes=r||new eP(e,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(t)}encrypt(e){return ev(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return ev(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}AES_CTR_set_options(e,t,r){let{asm:i}=this.aes.acquire_asm();if(void 0!==r){if(r<8||r>48)throw new ek("illegal counter size");let e=Math.pow(2,r)-1;i.set_mask(0,0,e/4294967296|0,0|e)}else r=48,i.set_mask(0,0,65535,4294967295);if(void 0===e)throw Error("nonce is required");{let t=e.length;if(!t||t>16)throw new ek("illegal nonce size");let r=new DataView(new ArrayBuffer(16));new Uint8Array(r.buffer).set(e),i.set_nonce(r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12))}if(void 0!==t){if(t<0||t>=Math.pow(2,r))throw new ek("illegal counter value");i.set_counter(0,0,t/4294967296|0,0|t)}}}class rn{static encrypt(e,t,r=!0,i){return new rn(t,i,r).encrypt(e)}static decrypt(e,t,r=!0,i){return new rn(t,i,r).decrypt(e)}constructor(e,t,r=!0,i){this.aes=i||new eP(e,t,r,"CBC")}encrypt(e){return ev(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return ev(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}const ra=ee.getWebCrypto(),rs=ee.getNodeCrypto();function ro(e,t){let r=e.length-16;for(let i=0;i<16;i++)e[i+r]^=t[i];return e}const rc=new Uint8Array(16);async function rh(e){let t=await async function(e){return ee.getWebCrypto()&&24!==e.length?(e=await ra.importKey("raw",e,{name:"AES-CBC",length:8*e.length},!1,["encrypt"]),async function(t){let r=await ra.encrypt({name:"AES-CBC",iv:rc,length:128},e,t);return new Uint8Array(r).subarray(0,r.byteLength-16)}):ee.getNodeCrypto()?async function(t){let r=new rs.createCipheriv("aes-"+8*e.length+"-cbc",e,rc).update(t);return new Uint8Array(r)}:async function(t){return rn.encrypt(t,e,!1,rc)}}(e),r=ee.double(await t(rc)),i=ee.double(r);return async function(e){return(await t(function(e,t,r){if(e.length&&e.length%16==0)return ro(e,t);let i=new Uint8Array(e.length+(16-e.length%16));return i.set(e),i[e.length]=128,ro(i,r)}(e,r,i))).subarray(-16)}}const ru=ee.getWebCrypto(),rl=ee.getNodeCrypto(),rd=ee.getNodeBuffer(),rf=new Uint8Array(16),rp=new Uint8Array(16);rp[15]=1;const rb=new Uint8Array(16);async function ry(e){let t=await rh(e);return function(e,r){return t(ee.concatUint8Array([e,r]))}}async function rm(e){return ee.getWebCrypto()&&24!==e.length?(e=await ru.importKey("raw",e,{name:"AES-CTR",length:8*e.length},!1,["encrypt"]),async function(t,r){let i=await ru.encrypt({name:"AES-CTR",counter:r,length:128},e,t);return new Uint8Array(i)}):ee.getNodeCrypto()?async function(t,r){let i=new rl.createCipheriv("aes-"+8*e.length+"-ctr",e,r),n=rd.concat([i.update(t),i.final()]);return new Uint8Array(n)}:async function(t,r){return ri.encrypt(t,e,r)}}async function rg(e,t){if(e!==eo.symmetric.aes128&&e!==eo.symmetric.aes192&&e!==eo.symmetric.aes256)throw Error("EAX mode supports only AES cipher");let[r,i]=await Promise.all([ry(t),rm(t)]);return{encrypt:async function(e,t,n){let[a,s]=await Promise.all([r(rf,t),r(rp,n)]),o=await i(e,a),c=await r(rb,o);for(let e=0;e<16;e++)c[e]^=s[e]^a[e];return ee.concatUint8Array([o,c])},decrypt:async function(e,t,n){if(e.length<16)throw Error("Invalid EAX ciphertext");let a=e.subarray(0,-16),s=e.subarray(-16),[o,c,h]=await Promise.all([r(rf,t),r(rp,n),r(rb,a)]);for(let e=0;e<16;e++)h[e]^=c[e]^o[e];if(!ee.equalsUint8Array(s,h))throw Error("Authentication tag mismatch");return await i(a,o)}}}function rw(e){let t=0;for(let r=1;0==(e&r);r<<=1)t++;return t}function rv(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r];return e}function r_(e,t){return rv(e.slice(),t)}rb[15]=2,rg.getNonce=function(e,t){let r=e.slice();for(let e=0;e<t.length;e++)r[8+e]^=t[e];return r},rg.blockLength=16,rg.ivLength=16,rg.tagLength=16;const rk=new Uint8Array(16),rA=new Uint8Array([1]);async function rS(e,t){let r,i,n,a=0;function s(e,t,i,s){let o=t.length/16|0;!function(e,t){let r=ee.nbits(Math.max(e.length,t.length)/16|0)-1;for(let e=a+1;e<=r;e++)n[e]=ee.double(n[e-1]);a=r}(t,s);let c=ee.concatUint8Array([rk.subarray(0,15-i.length),rA,i]),h=63&c[15];c[15]&=192;let u=r(c),l=ee.concatUint8Array([u,r_(u.subarray(0,8),u.subarray(1,9))]),d=ee.shiftRight(l.subarray(0+(h>>3),17+(h>>3)),8-(7&h)).subarray(1),f=new Uint8Array(16),p=new Uint8Array(t.length+16),b,y=0;for(b=0;b<o;b++)rv(d,n[rw(b+1)]),p.set(rv(e(r_(d,t)),d),y),rv(f,e===r?t:p.subarray(y)),t=t.subarray(16),y+=16;if(t.length){rv(d,n.x);let i=r(d);p.set(r_(t,i),y);let a=new Uint8Array(16);a.set(e===r?t:p.subarray(y,-16),0),a[t.length]=128,rv(f,a),y+=t.length}let m=rv(r(rv(rv(f,d),n.$)),function(e){if(!e.length)return rk;let t=e.length/16|0,i=new Uint8Array(16),a=new Uint8Array(16);for(let s=0;s<t;s++)rv(i,n[rw(s+1)]),rv(a,r(r_(i,e))),e=e.subarray(16);if(e.length){rv(i,n.x);let t=new Uint8Array(16);t.set(e,0),t[e.length]=128,rv(t,i),rv(a,r(t))}return a}(s));return p.set(m,y),p}return function(e,t){let a=eo.read(eo.symmetric,e),s=new eW[a](t);r=s.encrypt.bind(s),i=s.decrypt.bind(s);let o=r(rk),c=ee.double(o);(n=[])[0]=ee.double(c),n.x=o,n.$=c}(e,t),{encrypt:async function(e,t,i){return s(r,e,t,i)},decrypt:async function(e,t,r){if(e.length<16)throw Error("Invalid OCB ciphertext");let n=e.subarray(-16);e=e.subarray(0,-16);let a=s(i,e,t,r);if(ee.equalsUint8Array(n,a.subarray(-16)))return a.subarray(0,-16);throw Error("Authentication tag mismatch")}}}rS.getNonce=function(e,t){let r=e.slice();for(let e=0;e<t.length;e++)r[7+e]^=t[e];return r},rS.blockLength=16,rS.ivLength=15,rS.tagLength=16;class rE{constructor(e,t,r,i=16,n){this.tagSize=i,this.gamma0=0,this.counter=1,this.aes=n||new eP(e,void 0,!1,"CTR");let{asm:a,heap:s}=this.aes.acquire_asm();if(a.gcm_init(),this.tagSize<4||this.tagSize>16)throw new ek("illegal tagSize value");let o=t.length||0,c=new Uint8Array(16);12!==o?(this._gcm_mac_process(t),s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=0,s[11]=o>>>29,s[12]=o>>>21&255,s[13]=o>>>13&255,s[14]=o>>>5&255,s[15]=o<<3&255,a.mac(ey.MAC.GCM,ey.HEAP_DATA,16),a.get_iv(ey.HEAP_DATA),a.set_iv(0,0,0,0),c.set(s.subarray(0,16))):(c.set(t),c[15]=1);let h=new DataView(c.buffer);if(this.gamma0=h.getUint32(12),a.set_nonce(h.getUint32(0),h.getUint32(4),h.getUint32(8),0),a.set_mask(0,0,0,4294967295),void 0!==r){if(r.length>68719476704)throw new ek("illegal adata length");r.length?(this.adata=r,this._gcm_mac_process(r)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw RangeError("counter must be a positive 32-bit integer");a.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(e,t,r,i,n){return new rE(t,r,i,n).encrypt(e)}static decrypt(e,t,r,i,n){return new rE(t,r,i,n).decrypt(e)}encrypt(e){return this.AES_GCM_encrypt(e)}decrypt(e){return this.AES_GCM_decrypt(e)}AES_GCM_Encrypt_process(e){let t=0,r=e.length||0,{asm:i,heap:n}=this.aes.acquire_asm(),a=this.counter,s=this.aes.pos,o=this.aes.len,c=0,h=o+r&-16,u=0;if((a-1<<4)+o+r>68719476704)throw RangeError("counter overflow");let l=new Uint8Array(h);for(;r>0;)u=ew(n,s+o,e,t,r),o+=u,t+=u,r-=u,u=i.cipher(ey.ENC.CTR,ey.HEAP_DATA+s,o),(u=i.mac(ey.MAC.GCM,ey.HEAP_DATA+s,u))&&l.set(n.subarray(s,s+u),c),a+=u>>>4,c+=u,u<o?(s+=u,o-=u):(s=0,o=0);return this.counter=a,this.aes.pos=s,this.aes.len=o,l}AES_GCM_Encrypt_finish(){let{asm:e,heap:t}=this.aes.acquire_asm(),r=this.counter,i=this.tagSize,n=this.adata,a=this.aes.pos,s=this.aes.len,o=new Uint8Array(s+i);e.cipher(ey.ENC.CTR,ey.HEAP_DATA+a,s+15&-16),s&&o.set(t.subarray(a,a+s));let c=s;for(;15&c;c++)t[a+c]=0;e.mac(ey.MAC.GCM,ey.HEAP_DATA+a,c);let h=void 0!==n?n.length:0,u=(r-1<<4)+s;return t[0]=0,t[1]=0,t[2]=0,t[3]=h>>>29,t[4]=h>>>21,t[5]=h>>>13&255,t[6]=h>>>5&255,t[7]=h<<3&255,t[8]=t[9]=t[10]=0,t[11]=u>>>29,t[12]=u>>>21&255,t[13]=u>>>13&255,t[14]=u>>>5&255,t[15]=u<<3&255,e.mac(ey.MAC.GCM,ey.HEAP_DATA,16),e.get_iv(ey.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(ey.ENC.CTR,ey.HEAP_DATA,16),o.set(t.subarray(0,i),s),this.counter=1,this.aes.pos=0,this.aes.len=0,o}AES_GCM_Decrypt_process(e){let t=0,r=e.length||0,{asm:i,heap:n}=this.aes.acquire_asm(),a=this.counter,s=this.tagSize,o=this.aes.pos,c=this.aes.len,h=0,u=c+r>s?c+r-s&-16:0,l=c+r-u,d=0;if((a-1<<4)+c+r>68719476704)throw RangeError("counter overflow");let f=new Uint8Array(u);for(;r>l;)d=ew(n,o+c,e,t,r-l),c+=d,t+=d,r-=d,d=i.mac(ey.MAC.GCM,ey.HEAP_DATA+o,d),(d=i.cipher(ey.DEC.CTR,ey.HEAP_DATA+o,d))&&f.set(n.subarray(o,o+d),h),a+=d>>>4,h+=d,o=0,c=0;return r>0&&(c+=ew(n,0,e,t,r)),this.counter=a,this.aes.pos=o,this.aes.len=c,f}AES_GCM_Decrypt_finish(){let{asm:e,heap:t}=this.aes.acquire_asm(),r=this.tagSize,i=this.adata,n=this.counter,a=this.aes.pos,s=this.aes.len,o=s-r;if(s<r)throw new e_("authentication tag not found");let c=new Uint8Array(o),h=new Uint8Array(t.subarray(a+o,a+s)),u=o;for(;15&u;u++)t[a+u]=0;e.mac(ey.MAC.GCM,ey.HEAP_DATA+a,u),e.cipher(ey.DEC.CTR,ey.HEAP_DATA+a,u),o&&c.set(t.subarray(a,a+o));let l=void 0!==i?i.length:0,d=(n-1<<4)+s-r;t[0]=0,t[1]=0,t[2]=0,t[3]=l>>>29,t[4]=l>>>21,t[5]=l>>>13&255,t[6]=l>>>5&255,t[7]=l<<3&255,t[8]=t[9]=t[10]=0,t[11]=d>>>29,t[12]=d>>>21&255,t[13]=d>>>13&255,t[14]=d>>>5&255,t[15]=d<<3&255,e.mac(ey.MAC.GCM,ey.HEAP_DATA,16),e.get_iv(ey.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(ey.ENC.CTR,ey.HEAP_DATA,16);let f=0;for(let e=0;e<r;++e)f|=h[e]^t[e];if(f)throw new eA("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,c}AES_GCM_decrypt(e){let t=this.AES_GCM_Decrypt_process(e),r=this.AES_GCM_Decrypt_finish(),i=new Uint8Array(t.length+r.length);return t.length&&i.set(t),r.length&&i.set(r,t.length),i}AES_GCM_encrypt(e){let t=this.AES_GCM_Encrypt_process(e),r=this.AES_GCM_Encrypt_finish(),i=new Uint8Array(t.length+r.length);return t.length&&i.set(t),r.length&&i.set(r,t.length),i}_gcm_mac_process(e){let{asm:t,heap:r}=this.aes.acquire_asm(),i=0,n=e.length||0,a=0;for(;n>0;){for(a=ew(r,0,e,i,n),i+=a,n-=a;15&a;)r[a++]=0;t.mac(ey.MAC.GCM,ey.HEAP_DATA,a)}}}const rP=ee.getWebCrypto(),rM=ee.getNodeCrypto(),rC=ee.getNodeBuffer(),rx="AES-GCM";async function rR(e,t){if(e!==eo.symmetric.aes128&&e!==eo.symmetric.aes192&&e!==eo.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(ee.getWebCrypto()&&24!==t.length){let e=await rP.importKey("raw",t,{name:rx},!1,["encrypt","decrypt"]);return{encrypt:async function(r,i,n=new Uint8Array){if(!r.length)return rE.encrypt(r,t,i,n);let a=await rP.encrypt({name:rx,iv:i,additionalData:n,tagLength:128},e,r);return new Uint8Array(a)},decrypt:async function(r,i,n=new Uint8Array){if(16===r.length)return rE.decrypt(r,t,i,n);let a=await rP.decrypt({name:rx,iv:i,additionalData:n,tagLength:128},e,r);return new Uint8Array(a)}}}return ee.getNodeCrypto()?{encrypt:async function(e,r,i=new Uint8Array){let n=new rM.createCipheriv("aes-"+8*t.length+"-gcm",t,r);n.setAAD(i);let a=rC.concat([n.update(e),n.final(),n.getAuthTag()]);return new Uint8Array(a)},decrypt:async function(e,r,i=new Uint8Array){let n=new rM.createDecipheriv("aes-"+8*t.length+"-gcm",t,r);n.setAAD(i),n.setAuthTag(e.slice(e.length-16,e.length));let a=rC.concat([n.update(e.slice(0,e.length-16)),n.final()]);return new Uint8Array(a)}}:{encrypt:async function(e,r,i){return rE.encrypt(e,t,r,i)},decrypt:async function(e,r,i){return rE.decrypt(e,t,r,i)}}}rR.getNonce=function(e,t){let r=e.slice();for(let e=0;e<t.length;e++)r[4+e]^=t[e];return r},rR.blockLength=16,rR.ivLength=12,rR.tagLength=16;var rD={cfb:rr,gcm:rR,experimentalGCM:rR,eax:rg,ocb:rS},rI=e2(function(e){!function(e){var t,r=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},i=function(){throw Error("no PRNG")},n=new Uint8Array(32);n[0]=9;var a=r(),s=r([1]),o=r([56129,1]),c=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function f(e,t,r,i){return function(e,t,r,i,n){var a,s=0;for(a=0;a<32;a++)s|=e[t+a]^r[i+a];return(1&s-1>>>8)-1}(e,t,r,i,0)}function p(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function b(e){var t,r,i=1;for(t=0;t<16;t++)i=Math.floor((r=e[t]+i+65535)/65536),e[t]=r-65536*i;e[0]+=i-1+37*(i-1)}function y(e,t,r){for(var i,n=~(r-1),a=0;a<16;a++)i=n&(e[a]^t[a]),e[a]^=i,t[a]^=i}function m(e,t){var i,n,a,s=r(),o=r();for(i=0;i<16;i++)o[i]=t[i];for(b(o),b(o),b(o),n=0;n<2;n++){for(s[0]=o[0]-65517,i=1;i<15;i++)s[i]=o[i]-65535-(s[i-1]>>16&1),s[i-1]&=65535;s[15]=o[15]-32767-(s[14]>>16&1),a=s[15]>>16&1,s[14]&=65535,y(o,s,1-a)}for(i=0;i<16;i++)e[2*i]=255&o[i],e[2*i+1]=o[i]>>8}function g(e,t){var r=new Uint8Array(32),i=new Uint8Array(32);return m(r,e),m(i,t),f(r,0,i,0)}function w(e){var t=new Uint8Array(32);return m(t,e),1&t[0]}function v(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function _(e,t,r){for(var i=0;i<16;i++)e[i]=t[i]+r[i]}function k(e,t,r){for(var i=0;i<16;i++)e[i]=t[i]-r[i]}function A(e,t,r){var i,n,a=0,s=0,o=0,c=0,h=0,u=0,l=0,d=0,f=0,p=0,b=0,y=0,m=0,g=0,w=0,v=0,_=0,k=0,A=0,S=0,E=0,P=0,M=0,C=0,x=0,R=0,D=0,I=0,U=0,B=0,T=0,K=r[0],z=r[1],q=r[2],F=r[3],O=r[4],L=r[5],N=r[6],j=r[7],W=r[8],H=r[9],G=r[10],V=r[11],Z=r[12],$=r[13],Y=r[14],X=r[15];a+=(i=t[0])*K,s+=i*z,o+=i*q,c+=i*F,h+=i*O,u+=i*L,l+=i*N,d+=i*j,f+=i*W,p+=i*H,b+=i*G,y+=i*V,m+=i*Z,g+=i*$,w+=i*Y,v+=i*X,s+=(i=t[1])*K,o+=i*z,c+=i*q,h+=i*F,u+=i*O,l+=i*L,d+=i*N,f+=i*j,p+=i*W,b+=i*H,y+=i*G,m+=i*V,g+=i*Z,w+=i*$,v+=i*Y,_+=i*X,o+=(i=t[2])*K,c+=i*z,h+=i*q,u+=i*F,l+=i*O,d+=i*L,f+=i*N,p+=i*j,b+=i*W,y+=i*H,m+=i*G,g+=i*V,w+=i*Z,v+=i*$,_+=i*Y,k+=i*X,c+=(i=t[3])*K,h+=i*z,u+=i*q,l+=i*F,d+=i*O,f+=i*L,p+=i*N,b+=i*j,y+=i*W,m+=i*H,g+=i*G,w+=i*V,v+=i*Z,_+=i*$,k+=i*Y,A+=i*X,h+=(i=t[4])*K,u+=i*z,l+=i*q,d+=i*F,f+=i*O,p+=i*L,b+=i*N,y+=i*j,m+=i*W,g+=i*H,w+=i*G,v+=i*V,_+=i*Z,k+=i*$,A+=i*Y,S+=i*X,u+=(i=t[5])*K,l+=i*z,d+=i*q,f+=i*F,p+=i*O,b+=i*L,y+=i*N,m+=i*j,g+=i*W,w+=i*H,v+=i*G,_+=i*V,k+=i*Z,A+=i*$,S+=i*Y,E+=i*X,l+=(i=t[6])*K,d+=i*z,f+=i*q,p+=i*F,b+=i*O,y+=i*L,m+=i*N,g+=i*j,w+=i*W,v+=i*H,_+=i*G,k+=i*V,A+=i*Z,S+=i*$,E+=i*Y,P+=i*X,d+=(i=t[7])*K,f+=i*z,p+=i*q,b+=i*F,y+=i*O,m+=i*L,g+=i*N,w+=i*j,v+=i*W,_+=i*H,k+=i*G,A+=i*V,S+=i*Z,E+=i*$,P+=i*Y,M+=i*X,f+=(i=t[8])*K,p+=i*z,b+=i*q,y+=i*F,m+=i*O,g+=i*L,w+=i*N,v+=i*j,_+=i*W,k+=i*H,A+=i*G,S+=i*V,E+=i*Z,P+=i*$,M+=i*Y,C+=i*X,p+=(i=t[9])*K,b+=i*z,y+=i*q,m+=i*F,g+=i*O,w+=i*L,v+=i*N,_+=i*j,k+=i*W,A+=i*H,S+=i*G,E+=i*V,P+=i*Z,M+=i*$,C+=i*Y,x+=i*X,b+=(i=t[10])*K,y+=i*z,m+=i*q,g+=i*F,w+=i*O,v+=i*L,_+=i*N,k+=i*j,A+=i*W,S+=i*H,E+=i*G,P+=i*V,M+=i*Z,C+=i*$,x+=i*Y,R+=i*X,y+=(i=t[11])*K,m+=i*z,g+=i*q,w+=i*F,v+=i*O,_+=i*L,k+=i*N,A+=i*j,S+=i*W,E+=i*H,P+=i*G,M+=i*V,C+=i*Z,x+=i*$,R+=i*Y,D+=i*X,m+=(i=t[12])*K,g+=i*z,w+=i*q,v+=i*F,_+=i*O,k+=i*L,A+=i*N,S+=i*j,E+=i*W,P+=i*H,M+=i*G,C+=i*V,x+=i*Z,R+=i*$,D+=i*Y,I+=i*X,g+=(i=t[13])*K,w+=i*z,v+=i*q,_+=i*F,k+=i*O,A+=i*L,S+=i*N,E+=i*j,P+=i*W,M+=i*H,C+=i*G,x+=i*V,R+=i*Z,D+=i*$,I+=i*Y,U+=i*X,w+=(i=t[14])*K,v+=i*z,_+=i*q,k+=i*F,A+=i*O,S+=i*L,E+=i*N,P+=i*j,M+=i*W,C+=i*H,x+=i*G,R+=i*V,D+=i*Z,I+=i*$,U+=i*Y,B+=i*X,v+=(i=t[15])*K,s+=38*(k+=i*q),o+=38*(A+=i*F),c+=38*(S+=i*O),h+=38*(E+=i*L),u+=38*(P+=i*N),l+=38*(M+=i*j),d+=38*(C+=i*W),f+=38*(x+=i*H),p+=38*(R+=i*G),b+=38*(D+=i*V),y+=38*(I+=i*Z),m+=38*(U+=i*$),g+=38*(B+=i*Y),w+=38*(T+=i*X),a=(i=(a+=38*(_+=i*z))+(n=1)+65535)-65536*(n=Math.floor(i/65536)),s=(i=s+n+65535)-65536*(n=Math.floor(i/65536)),o=(i=o+n+65535)-65536*(n=Math.floor(i/65536)),c=(i=c+n+65535)-65536*(n=Math.floor(i/65536)),h=(i=h+n+65535)-65536*(n=Math.floor(i/65536)),u=(i=u+n+65535)-65536*(n=Math.floor(i/65536)),l=(i=l+n+65535)-65536*(n=Math.floor(i/65536)),d=(i=d+n+65535)-65536*(n=Math.floor(i/65536)),f=(i=f+n+65535)-65536*(n=Math.floor(i/65536)),p=(i=p+n+65535)-65536*(n=Math.floor(i/65536)),b=(i=b+n+65535)-65536*(n=Math.floor(i/65536)),y=(i=y+n+65535)-65536*(n=Math.floor(i/65536)),m=(i=m+n+65535)-65536*(n=Math.floor(i/65536)),g=(i=g+n+65535)-65536*(n=Math.floor(i/65536)),w=(i=w+n+65535)-65536*(n=Math.floor(i/65536)),v=(i=v+n+65535)-65536*(n=Math.floor(i/65536)),a=(i=(a+=n-1+37*(n-1))+(n=1)+65535)-65536*(n=Math.floor(i/65536)),s=(i=s+n+65535)-65536*(n=Math.floor(i/65536)),o=(i=o+n+65535)-65536*(n=Math.floor(i/65536)),c=(i=c+n+65535)-65536*(n=Math.floor(i/65536)),h=(i=h+n+65535)-65536*(n=Math.floor(i/65536)),u=(i=u+n+65535)-65536*(n=Math.floor(i/65536)),l=(i=l+n+65535)-65536*(n=Math.floor(i/65536)),d=(i=d+n+65535)-65536*(n=Math.floor(i/65536)),f=(i=f+n+65535)-65536*(n=Math.floor(i/65536)),p=(i=p+n+65535)-65536*(n=Math.floor(i/65536)),b=(i=b+n+65535)-65536*(n=Math.floor(i/65536)),y=(i=y+n+65535)-65536*(n=Math.floor(i/65536)),m=(i=m+n+65535)-65536*(n=Math.floor(i/65536)),g=(i=g+n+65535)-65536*(n=Math.floor(i/65536)),w=(i=w+n+65535)-65536*(n=Math.floor(i/65536)),v=(i=v+n+65535)-65536*(n=Math.floor(i/65536)),a+=n-1+37*(n-1),e[0]=a,e[1]=s,e[2]=o,e[3]=c,e[4]=h,e[5]=u,e[6]=l,e[7]=d,e[8]=f,e[9]=p,e[10]=b,e[11]=y,e[12]=m,e[13]=g,e[14]=w,e[15]=v}function S(e,t){A(e,t,t)}function E(e,t){var i,n=r();for(i=0;i<16;i++)n[i]=t[i];for(i=253;i>=0;i--)S(n,n),2!==i&&4!==i&&A(n,n,t);for(i=0;i<16;i++)e[i]=n[i]}function P(e,t,i){var n,a,s=new Uint8Array(32),c=new Float64Array(80),h=r(),u=r(),l=r(),d=r(),f=r(),p=r();for(a=0;a<31;a++)s[a]=t[a];for(s[31]=127&t[31]|64,s[0]&=248,v(c,i),a=0;a<16;a++)u[a]=c[a],d[a]=h[a]=l[a]=0;for(h[0]=d[0]=1,a=254;a>=0;--a)y(h,u,n=s[a>>>3]>>>(7&a)&1),y(l,d,n),_(f,h,l),k(h,h,l),_(l,u,d),k(u,u,d),S(d,f),S(p,h),A(h,l,h),A(l,u,f),_(f,h,l),k(h,h,l),S(u,h),k(l,d,p),A(h,l,o),_(h,h,d),A(l,l,h),A(h,d,p),A(d,u,c),S(u,f),y(h,u,n),y(l,d,n);for(a=0;a<16;a++)c[a+16]=h[a],c[a+32]=l[a],c[a+48]=u[a],c[a+64]=d[a];var b=c.subarray(32),g=c.subarray(16);return E(b,b),A(g,g,b),m(e,g),0}function M(e,t){var i=r(),n=r(),a=r(),s=r(),o=r(),c=r(),u=r(),l=r(),d=r();k(i,e[1],e[0]),k(d,t[1],t[0]),A(i,i,d),_(n,e[0],e[1]),_(d,t[0],t[1]),A(n,n,d),A(a,e[3],t[3]),A(a,a,h),A(s,e[2],t[2]),_(s,s,s),k(o,n,i),k(c,s,a),_(u,s,a),_(l,n,i),A(e[0],o,c),A(e[1],l,u),A(e[2],u,c),A(e[3],o,l)}function C(e,t,r){var i;for(i=0;i<4;i++)y(e[i],t[i],r)}function x(e,t){var i=r(),n=r(),a=r();E(a,t[2]),A(i,t[0],a),A(n,t[1],a),m(e,n),e[31]^=w(i)<<7}function R(e,t,r){var i,n;for(p(e[0],a),p(e[1],s),p(e[2],s),p(e[3],a),n=255;n>=0;--n)C(e,t,i=r[n/8|0]>>(7&n)&1),M(t,e),M(e,e),C(e,t,i)}function D(e,t){var i=[r(),r(),r(),r()];p(i[0],u),p(i[1],l),p(i[2],s),A(i[3],u,l),R(e,i,t)}function I(t,n,a){var s,o,c=[r(),r(),r(),r()];for(a||i(n,32),(s=e.hash(n.subarray(0,32)))[0]&=248,s[31]&=127,s[31]|=64,D(c,s),x(t,c),o=0;o<32;o++)n[o+32]=t[o];return 0}var U=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function B(e,t){var r,i,n,a;for(i=63;i>=32;--i){for(r=0,n=i-32,a=i-12;n<a;++n)t[n]+=r-16*t[i]*U[n-(i-32)],r=Math.floor((t[n]+128)/256),t[n]-=256*r;t[n]+=r,t[i]=0}for(r=0,n=0;n<32;n++)t[n]+=r-(t[31]>>4)*U[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;n++)t[n]-=r*U[n];for(i=0;i<32;i++)t[i+1]+=t[i]>>8,e[i]=255&t[i]}function T(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;B(e,r)}function K(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}e.scalarMult=function(e,t){if(K(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return P(r,e,t),r},e.box={},e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return i(t,32),P(e,t,n),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(K(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return P(t,e,n),{publicKey:t,secretKey:new Uint8Array(e)}},e.sign=function(t,i){if(K(t,i),64!==i.length)throw Error("bad secret key size");var n=new Uint8Array(64+t.length);return function(t,i,n,a){var s,o,c,h,u,l=new Float64Array(64),d=[r(),r(),r(),r()];(s=e.hash(a.subarray(0,32)))[0]&=248,s[31]&=127,s[31]|=64;var f=n+64;for(h=0;h<n;h++)t[64+h]=i[h];for(h=0;h<32;h++)t[32+h]=s[32+h];for(T(c=e.hash(t.subarray(32,f))),D(d,c),x(t,d),h=32;h<64;h++)t[h]=a[h];for(T(o=e.hash(t.subarray(0,f))),h=0;h<64;h++)l[h]=0;for(h=0;h<32;h++)l[h]=c[h];for(h=0;h<32;h++)for(u=0;u<32;u++)l[h+u]+=o[h]*s[u];B(t.subarray(32),l)}(n,t,t.length,i),n},e.sign.detached=function(t,r){for(var i=e.sign(t,r),n=new Uint8Array(64),a=0;a<n.length;a++)n[a]=i[a];return n},e.sign.detached.verify=function(t,i,n){if(K(t,i,n),64!==i.length)throw Error("bad signature size");if(32!==n.length)throw Error("bad public key size");var o,h=new Uint8Array(64+t.length),u=new Uint8Array(64+t.length);for(o=0;o<64;o++)h[o]=i[o];for(o=0;o<t.length;o++)h[o+64]=t[o];return function(t,i,n,o){var h,u,l,b,y,m,E,P,C,I=new Uint8Array(32),U=[r(),r(),r(),r()],B=[r(),r(),r(),r()];if(n<64||(h=r(),u=r(),l=r(),b=r(),y=r(),m=r(),E=r(),p(B[2],s),v(B[1],o),S(l,B[1]),A(b,l,c),k(l,l,B[2]),_(b,B[2],b),S(y,b),S(m,y),A(E,m,y),A(h,E,l),A(h,h,b),function(e,t){var i,n=r();for(i=0;i<16;i++)n[i]=t[i];for(i=250;i>=0;i--)S(n,n),1!==i&&A(n,n,t);for(i=0;i<16;i++)e[i]=n[i]}(h,h),A(h,h,l),A(h,h,b),A(h,h,b),A(B[0],h,b),S(u,B[0]),A(u,u,b),g(u,l)&&A(B[0],B[0],d),S(u,B[0]),A(u,u,b),g(u,l)?-1:(w(B[0])===o[31]>>7&&k(B[0],a,B[0]),A(B[3],B[0],B[1]),0)))return -1;for(P=0;P<n;P++)t[P]=i[P];for(P=0;P<32;P++)t[P+32]=o[P];if(T(C=e.hash(t.subarray(0,n))),R(U,B,C),D(B,i.subarray(32)),M(U,B),x(I,U),n-=64,f(i,0,I,0)){for(P=0;P<n;P++)t[P]=0;return -1}for(P=0;P<n;P++)t[P]=i[P+64];return n}(u,h,h.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return I(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(K(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(K(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),i=0;i<32;i++)r[i]=e[i];return I(t,r,!0),{publicKey:t,secretKey:r}},e.setPRNG=function(e){i=e},(t="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&t.getRandomValues?e.setPRNG(function(e,r){var i,n=new Uint8Array(r);for(i=0;i<r;i+=65536)t.getRandomValues(n.subarray(i,i+Math.min(r-i,65536)));for(i=0;i<r;i++)e[i]=n[i];(function(e){for(var t=0;t<e.length;t++)e[t]=0})(n)}):void 0!==e3&&(t=void 0)}(e.exports?e.exports:self.nacl=self.nacl||{})});const rU=ee.getNodeCrypto();function rB(e){let t=new Uint8Array(e);if("undefined"!=typeof crypto&&crypto.getRandomValues)crypto.getRandomValues(t);else{if(!rU)throw Error("No secure random number generator available.");{let e=rU.randomBytes(t.length);t.set(e)}}return t}async function rT(e,t){let r=await ee.getBigInteger();if(t.lt(e))throw Error("Illegal parameter value: max <= min");let i=t.sub(e),n=i.byteLength();return new r(await rB(n+8)).mod(i).add(e)}var rK=Object.freeze({__proto__:null,getRandomBytes:rB,getRandomBigInteger:rT});async function rz(e,t,r){let i=await ee.getBigInteger(),n=new i(1),a=n.leftShift(new i(e-1)),s=new i(30),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],c=await rT(a,a.leftShift(n)),h=c.mod(s).toNumber();do c.iadd(new i(o[h])),h=(h+o[h])%o.length,c.bitLength()>e&&(c.imod(a.leftShift(n)).iadd(a),h=c.mod(s).toNumber());while(!await rq(c,t,r))return c}async function rq(e,t,r){return!(t&&!e.dec().gcd(t).isOne())&&!!await async function(e){let t=await ee.getBigInteger();return rF.every(r=>0!==e.mod(new t(r)))}(e)&&!!await async function(e,t){let r=await ee.getBigInteger();return(t=t||new r(2)).modExp(e.dec(),e).isOne()}(e)&&!!await async function(e,t,r){let i=await ee.getBigInteger(),n=e.bitLength();t||(t=Math.max(1,n/48|0));let a=e.dec(),s=0;for(;!a.getBit(s);)s++;let o=e.rightShift(new i(s));for(;t>0;t--){let t,n=(r?r():await rT(new i(2),a)).modExp(o,e);if(!n.isOne()&&!n.equal(a)){for(t=1;t<s;t++){if((n=n.mul(n).mod(e)).isOne())return!1;if(n.equal(a))break}if(t===s)return!1}}return!0}(e,r)}const rF=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999],rO=[];function rL(e,t){let r=e.length;if(r>t-11)throw Error("Message too long");let i=function(e){let t=new Uint8Array(e),r=0;for(;r<e;){let i=rB(e-r);for(let e=0;e<i.length;e++)0!==i[e]&&(t[r++]=i[e])}return t}(t-r-3),n=new Uint8Array(t);return n[1]=2,n.set(i,2),n.set(e,t-r),n}function rN(e,t){let r=2,i=1;for(let t=r;t<e.length;t++)i&=0!==e[t],r+=i;let n=r-2,a=e.subarray(r+1),s=0===e[0]&2===e[1]&n>=8&!i;if(t)return ee.selectUint8Array(s,a,t);if(s)return a;throw Error("Decryption error")}async function rj(e,t,r){let i;if(t.length!==t6.getHashByteLength(e))throw Error("Invalid hash length");let n=new Uint8Array(rO[e].length);for(i=0;i<rO[e].length;i++)n[i]=rO[e][i];let a=n.length+t.length;if(r<a+11)throw Error("Intended encoded message length too short");let s=new Uint8Array(r-a-3).fill(255),o=new Uint8Array(r);return o[1]=1,o.set(s,2),o.set(n,r-a),o.set(t,r-t.length),o}rO[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],rO[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],rO[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],rO[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],rO[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],rO[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],rO[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var rW=Object.freeze({__proto__:null,emeEncode:rL,emeDecode:rN,emsaEncode:rj});const rH=ee.getWebCrypto(),rG=ee.getNodeCrypto(),rV=void 0,rZ=rG?rV.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}):void 0,r$=rG?rV.define("RSAPubliceKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}):void 0;var rY=Object.freeze({__proto__:null,sign:async function(e,t,r,i,n,a,s,o,c){if(t&&!ee.isStream(t)){if(ee.getWebCrypto())try{return await async function(e,t,r,i,n,a,s,o){let c=await async function(e,t,r,i,n,a){let s=await ee.getBigInteger(),o=new s(i),c=new s(n),h=new s(r),u=h.mod(c.dec()),l=h.mod(o.dec());return l=l.toUint8Array(),u=u.toUint8Array(),{kty:"RSA",n:ea(e,!0),e:ea(t,!0),d:ea(r,!0),p:ea(n,!0),q:ea(i,!0),dp:ea(u,!0),dq:ea(l,!0),qi:ea(a,!0),ext:!0}}(r,i,n,a,s,o),h=await rH.importKey("jwk",c,{name:"RSASSA-PKCS1-v1_5",hash:{name:e}},!1,["sign"]);return new Uint8Array(await rH.sign("RSASSA-PKCS1-v1_5",h,t))}(eo.read(eo.webHash,e),t,r,i,n,a,s,o)}catch(e){ee.printDebugError(e)}else if(ee.getNodeCrypto())return async function(e,t,r,i,n,a,s,o){let{default:c}=await Promise.resolve().then(function(){return cW}),h=new c(a),u=new c(s),l=new c(n),d=l.mod(u.subn(1)),f=l.mod(h.subn(1)),p=rG.createSign(eo.read(eo.hash,e));p.write(t),p.end();let b={version:0,modulus:new c(r),publicExponent:new c(i),privateExponent:new c(n),prime1:new c(s),prime2:new c(a),exponent1:d,exponent2:f,coefficient:new c(o)};if(void 0!==rG.createPrivateKey){let e=rZ.encode(b,"der");return new Uint8Array(p.sign({key:e,format:"der",type:"pkcs1"}))}let y=rZ.encode(b,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(p.sign(y))}(e,t,r,i,n,a,s,o)}return async function(e,t,r,i){let n=await ee.getBigInteger();t=new n(t);let a=new n(await rj(e,i,t.byteLength()));if(r=new n(r),a.gte(t))throw Error("Message size cannot exceed modulus size");return a.modExp(r,t).toUint8Array("be",t.byteLength())}(e,r,n,c)},verify:async function(e,t,r,i,n,a){if(t&&!ee.isStream(t)){if(ee.getWebCrypto())try{return await async function(e,t,r,i,n){let a={kty:"RSA",n:ea(i,!0),e:ea(n,!0),ext:!0},s=await rH.importKey("jwk",a,{name:"RSASSA-PKCS1-v1_5",hash:{name:e}},!1,["verify"]);return rH.verify("RSASSA-PKCS1-v1_5",s,r,t)}(eo.read(eo.webHash,e),t,r,i,n)}catch(e){ee.printDebugError(e)}else if(ee.getNodeCrypto())return async function(e,t,r,i,n){let a;let{default:s}=await Promise.resolve().then(function(){return cW}),o=rG.createVerify(eo.read(eo.hash,e));o.write(t),o.end();let c={modulus:new s(i),publicExponent:new s(n)};a=void 0!==rG.createPrivateKey?{key:r$.encode(c,"der"),format:"der",type:"pkcs1"}:r$.encode(c,"pem",{label:"RSA PUBLIC KEY"});try{return await o.verify(a,r)}catch(e){return!1}}(e,t,r,i,n)}return async function(e,t,r,i,n){let a=await ee.getBigInteger();if(r=new a(r),t=new a(t),i=new a(i),t.gte(r))throw Error("Signature size cannot exceed modulus size");let s=t.modExp(i,r).toUint8Array("be",r.byteLength()),o=await rj(e,n,r.byteLength());return ee.equalsUint8Array(s,o)}(e,r,i,n,a)},encrypt:async function(e,t,r){return ee.getNodeCrypto()?async function(e,t,r){let i;let{default:n}=await Promise.resolve().then(function(){return cW}),a={modulus:new n(t),publicExponent:new n(r)};return i=void 0!==rG.createPrivateKey?{key:r$.encode(a,"der"),format:"der",type:"pkcs1",padding:rG.constants.RSA_PKCS1_PADDING}:{key:r$.encode(a,"pem",{label:"RSA PUBLIC KEY"}),padding:rG.constants.RSA_PKCS1_PADDING},new Uint8Array(rG.publicEncrypt(i,e))}(e,t,r):async function(e,t,r){let i=await ee.getBigInteger();if(t=new i(t),e=new i(rL(e,t.byteLength())),r=new i(r),e.gte(t))throw Error("Message size cannot exceed modulus size");return e.modExp(r,t).toUint8Array("be",t.byteLength())}(e,t,r)},decrypt:async function(e,t,r,i,n,a,s,o){return ee.getNodeCrypto()?async function(e,t,r,i,n,a,s,o){let c;let{default:h}=await Promise.resolve().then(function(){return cW}),u=new h(n),l=new h(a),d=new h(i),f=d.mod(l.subn(1)),p=d.mod(u.subn(1)),b={version:0,modulus:new h(t),publicExponent:new h(r),privateExponent:new h(i),prime1:new h(a),prime2:new h(n),exponent1:f,exponent2:p,coefficient:new h(s)};c=void 0!==rG.createPrivateKey?{key:rZ.encode(b,"der"),format:"der",type:"pkcs1",padding:rG.constants.RSA_PKCS1_PADDING}:{key:rZ.encode(b,"pem",{label:"RSA PRIVATE KEY"}),padding:rG.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(rG.privateDecrypt(c,e))}catch(e){if(o)return o;throw Error("Decryption error")}}(e,t,r,i,n,a,s,o):async function(e,t,r,i,n,a,s,o){let c=await ee.getBigInteger();if(e=new c(e),t=new c(t),r=new c(r),i=new c(i),n=new c(n),a=new c(a),s=new c(s),e.gte(t))throw Error("Data too large.");let h=i.mod(a.dec()),u=i.mod(n.dec()),l=(await rT(new c(2),t)).mod(t),d=l.modInv(t).modExp(r,t);e=e.mul(d).mod(t);let f=e.modExp(u,n),p=e.modExp(h,a),b=s.mul(p.sub(f)).mod(a),y=b.mul(n).add(f);return rN((y=y.mul(l).mod(t)).toUint8Array("be",t.byteLength()),o)}(e,t,r,i,n,a,s,o)},generate:async function(e,t){let r,i,n;if(t=new(await ee.getBigInteger())(t),ee.getWebCrypto()){let r={name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:t.toUint8Array(),hash:{name:"SHA-1"}},i=await rH.generateKey(r,!0,["sign","verify"]),n=await rH.exportKey("jwk",i.privateKey);return{n:en(n.n),e:t.toUint8Array(),d:en(n.d),p:en(n.q),q:en(n.p),u:en(n.qi)}}if(ee.getNodeCrypto()&&rG.generateKeyPair&&rZ){let r={modulusLength:e,publicExponent:t.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},i=await new Promise((e,t)=>{rG.generateKeyPair("rsa",r,(r,i,n)=>{r?t(r):e(rZ.decode(n,"der"))})});return{n:i.modulus.toArrayLike(Uint8Array),e:i.publicExponent.toArrayLike(Uint8Array),d:i.privateExponent.toArrayLike(Uint8Array),p:i.prime2.toArrayLike(Uint8Array),q:i.prime1.toArrayLike(Uint8Array),u:i.coefficient.toArrayLike(Uint8Array)}}do i=await rz(e-(e>>1),t,40),n=(r=await rz(e>>1,t,40)).mul(i);while(n.bitLength()!==e)let a=r.dec().imul(i.dec());return i.lt(r)&&([r,i]=[i,r]),{n:n.toUint8Array(),e:t.toUint8Array(),d:t.modInv(a).toUint8Array(),p:r.toUint8Array(),q:i.toUint8Array(),u:r.modInv(i).toUint8Array()}},validateParams:async function(e,t,r,i,n,a){let s=await ee.getBigInteger();if(e=new s(e),i=new s(i),n=new s(n),!i.mul(n).equal(e))return!1;let o=new s(2);if(a=new s(a),!i.mul(a).mod(n).isOne())return!1;t=new s(t),r=new s(r);let c=new s(Math.floor(e.bitLength()/3)),h=await rT(o,o.leftShift(c)),u=h.mul(r).mul(t);return!(!u.mod(i.dec()).equal(h)||!u.mod(n.dec()).equal(h))}}),rX=Object.freeze({__proto__:null,encrypt:async function(e,t,r,i){let n=await ee.getBigInteger();t=new n(t),r=new n(r),i=new n(i);let a=new n(rL(e,t.byteLength())),s=await rT(new n(1),t.dec());return{c1:r.modExp(s,t).toUint8Array(),c2:i.modExp(s,t).imul(a).imod(t).toUint8Array()}},decrypt:async function(e,t,r,i,n){let a=await ee.getBigInteger();return e=new a(e),t=new a(t),r=new a(r),i=new a(i),rN(e.modExp(i,r).modInv(r).imul(t).imod(r).toUint8Array("be",r.byteLength()),n)},validateParams:async function(e,t,r,i){let n=await ee.getBigInteger();e=new n(e),t=new n(t),r=new n(r);let a=new n(1);if(t.lte(a)||t.gte(e))return!1;let s=new n(e.bitLength()),o=new n(1023);if(s.lt(o)||!t.modExp(e.dec(),e).isOne())return!1;let c=t,h=new n(1),u=new n(2).leftShift(new n(17));for(;h.lt(u);){if((c=c.mul(t).imod(e)).isOne())return!1;h.iinc()}i=new n(i);let l=new n(2),d=await rT(l.leftShift(s.dec()),l.leftShift(s)),f=e.dec().imul(d).iadd(i);return!!r.equal(t.modExp(f,e))}});class rQ{constructor(e){if(e instanceof rQ)this.oid=e.oid;else if(ee.isArray(e)||ee.isUint8Array(e)){if(6===(e=new Uint8Array(e))[0]){if(e[1]!==e.length-2)throw Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){let t=e[0];if(e.length>=1+t)return this.oid=e.subarray(1,1+t),1+this.oid.length}throw Error("Invalid oid")}write(){return ee.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return ee.uint8ArrayToHex(this.oid)}getName(){let e=this.toHex();if(eo.curve[e])return eo.write(eo.curve,e);throw Error("Unknown curve object identifier.")}}function rJ(e,t){return e.keyPair({priv:t})}function r0(e,t){let r=e.keyPair({pub:t});if(!0!==r.validate().result)throw Error("Invalid elliptic public key");return r}async function r1(e){if(!ec.useIndutnyElliptic)throw Error("This curve is only supported in the full build of OpenPGP.js");let{default:t}=await Promise.resolve().then(function(){return hF});return new t.ec(e)}function r2(e){let t,r=0,i=e[0];return i<192?([r]=e,t=1):i<255?(r=(e[0]-192<<8)+e[1]+192,t=2):255===i&&(r=ee.readNumber(e.subarray(1,5)),t=5),{len:r,offset:t}}function r3(e){return e<192?new Uint8Array([e]):e>191&&e<8384?new Uint8Array([192+(e-192>>8),e-192&255]):ee.concatUint8Array([new Uint8Array([255]),ee.writeNumber(e,4)])}function r5(e){return new Uint8Array([192|e])}function r6(e,t){return ee.concatUint8Array([r5(e),r3(t)])}function r4(e){return[eo.packet.literalData,eo.packet.compressedData,eo.packet.symmetricallyEncryptedData,eo.packet.symEncryptedIntegrityProtectedData,eo.packet.aeadEncryptedData].includes(e)}async function r8(e,t){let r,i;let n=z(e);try{let a=await n.peekBytes(2);if(!a||a.length<2||0==(128&a[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");let s=await n.readByte(),o,c,h=-1,u=-1;u=0,0!=(64&s)&&(u=1),u?h=63&s:(h=(63&s)>>2,c=3&s);let l=r4(h),d,f=null;if(l){if("array"===ee.isStream(e)){let e=new y;r=q(e),f=e}else{let e=new I;r=q(e.writable),f=e.readable}i=t({tag:h,packet:f})}else f=[];do{if(u){let e=await n.readByte();if(d=!1,e<192)o=e;else if(e>=192&&e<224)o=(e-192<<8)+await n.readByte()+192;else if(e>223&&e<255){if(o=1<<(31&e),d=!0,!l)throw TypeError("This packet type does not support partial lengths.")}else o=await n.readByte()<<24|await n.readByte()<<16|await n.readByte()<<8|await n.readByte()}else switch(c){case 0:o=await n.readByte();break;case 1:o=await n.readByte()<<8|await n.readByte();break;case 2:o=await n.readByte()<<24|await n.readByte()<<16|await n.readByte()<<8|await n.readByte();break;default:o=1/0}if(o>0){let e=0;for(;;){r&&await r.ready;let{done:t,value:i}=await n.read();if(t){if(o===1/0)break;throw Error("Unexpected end of packet")}let a=o===1/0?i:i.subarray(0,o-e);if(r?await r.write(a):f.push(a),(e+=i.length)>=o){n.unshift(i.subarray(o-e+i.length));break}}}}while(d)let p=await n.peekBytes(l?1/0:2);return r?(await r.ready,await r.close()):(f=ee.concatUint8Array(f),await t({tag:h,packet:f})),!p||!p.length}catch(e){if(r)return await r.abort(e),!0;throw e}finally{r&&await i,n.releaseLock()}}class r7 extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,r7),this.name="UnsupportedError"}}class r9{constructor(e,t){this.tag=e,this.rawContent=t}write(){return this.rawContent}}const ie=ee.getWebCrypto(),it=ee.getNodeCrypto(),ir={p256:"P-256",p384:"P-384",p521:"P-521"},ii=it?it.getCurves():[],ia=it?{secp256k1:ii.includes("secp256k1")?"secp256k1":void 0,p256:ii.includes("prime256v1")?"prime256v1":void 0,p384:ii.includes("secp384r1")?"secp384r1":void 0,p521:ii.includes("secp521r1")?"secp521r1":void 0,ed25519:ii.includes("ED25519")?"ED25519":void 0,curve25519:ii.includes("X25519")?"X25519":void 0,brainpoolP256r1:ii.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:ii.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:ii.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},is={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:eo.publicKey.ecdsa,hash:eo.hash.sha256,cipher:eo.symmetric.aes128,node:ia.p256,web:ir.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:eo.publicKey.ecdsa,hash:eo.hash.sha384,cipher:eo.symmetric.aes192,node:ia.p384,web:ir.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:eo.publicKey.ecdsa,hash:eo.hash.sha512,cipher:eo.symmetric.aes256,node:ia.p521,web:ir.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:eo.publicKey.ecdsa,hash:eo.hash.sha256,cipher:eo.symmetric.aes128,node:ia.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:eo.publicKey.eddsa,hash:eo.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:eo.publicKey.ecdh,hash:eo.hash.sha256,cipher:eo.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:eo.publicKey.ecdsa,hash:eo.hash.sha256,cipher:eo.symmetric.aes128,node:ia.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:eo.publicKey.ecdsa,hash:eo.hash.sha384,cipher:eo.symmetric.aes192,node:ia.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:eo.publicKey.ecdsa,hash:eo.hash.sha512,cipher:eo.symmetric.aes256,node:ia.brainpoolP512r1,payloadSize:64}};class io{constructor(e,t){try{(ee.isArray(e)||ee.isUint8Array(e))&&(e=new rQ(e)),e instanceof rQ&&(e=e.getName()),this.name=eo.write(eo.curve,e)}catch(e){throw new r7("Unknown curve")}t=t||is[this.name],this.keyType=t.keyType,this.oid=t.oid,this.hash=t.hash,this.cipher=t.cipher,this.node=t.node&&is[this.name],this.web=t.web&&is[this.name],this.payloadSize=t.payloadSize,this.web&&ee.getWebCrypto()?this.type="web":this.node&&ee.getNodeCrypto()?this.type="node":"curve25519"===this.name?this.type="curve25519":"ed25519"===this.name&&(this.type="ed25519")}async genKeyPair(){let e;switch(this.type){case"web":try{return await async function(e){let t=await ie.generateKey({name:"ECDSA",namedCurve:ir[e]},!0,["sign","verify"]),r=await ie.exportKey("jwk",t.privateKey),i=await ie.exportKey("jwk",t.publicKey);return{publicKey:ih(i),privateKey:en(r.d)}}(this.name)}catch(e){ee.printDebugError("Browser did not support generating ec key "+e.message);break}case"node":return async function(e){let t=it.createECDH(ia[e]);return await t.generateKeys(),{publicKey:new Uint8Array(t.getPublicKey()),privateKey:new Uint8Array(t.getPrivateKey())}}(this.name);case"curve25519":{let t=rB(32);t[0]=127&t[0]|64,t[31]&=248;let r=t.slice().reverse();return e=rI.box.keyPair.fromSecretKey(r),{publicKey:ee.concatUint8Array([new Uint8Array([64]),e.publicKey]),privateKey:t}}case"ed25519":{let e=rB(32),t=rI.sign.keyPair.fromSeed(e);return{publicKey:ee.concatUint8Array([new Uint8Array([64]),t.publicKey]),privateKey:e}}}let t=await r1(this.name);return e=await t.genKeyPair({entropy:ee.uint8ArrayToString(rB(32))}),{publicKey:new Uint8Array(e.getPublic("array",!1)),privateKey:e.getPrivate().toArrayLike(Uint8Array)}}}async function ic(e,t,r,i){let n=t.getName();if(!({p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:e===eo.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0})[n])return!1;if("curve25519"===n){i=i.slice().reverse();let{publicKey:e}=rI.box.keyPair.fromSecretKey(i);r=new Uint8Array(r);let t=new Uint8Array([64,...e]);return!!ee.equalsUint8Array(t,r)}let a=await r1(n);try{r=r0(a,r).getPublic()}catch(e){return!1}return!!rJ(a,i).getPublic().eq(r)}function ih(e){let t=en(e.x),r=en(e.y),i=new Uint8Array(t.length+r.length+1);return i[0]=4,i.set(t,1),i.set(r,t.length+1),i}function iu(e,t,r){let i=r.slice(1,e+1),n=r.slice(e+1,2*e+1);return{kty:"EC",crv:t,x:ea(i,!0),y:ea(n,!0),ext:!0}}function il(e,t,r,i){let n=iu(e,t,r);return n.d=ea(i,!0),n}const id=ee.getWebCrypto(),ip=ee.getNodeCrypto();async function ib(e,t,r,i,n,a){let s=new io(e);if(r&&!ee.isStream(r)){let e={publicKey:i,privateKey:n};switch(s.type){case"web":try{return await async function(e,t,r,i){let n=e.payloadSize,a=il(e.payloadSize,ir[e.name],i.publicKey,i.privateKey),s=await id.importKey("jwk",a,{name:"ECDSA",namedCurve:ir[e.name],hash:{name:eo.read(eo.webHash,e.hash)}},!1,["sign"]),o=new Uint8Array(await id.sign({name:"ECDSA",namedCurve:ir[e.name],hash:{name:eo.read(eo.webHash,t)}},s,r));return{r:o.slice(0,n),s:o.slice(n,n<<1)}}(s,t,r,e)}catch(e){if("p521"!==s.name&&("DataError"===e.name||"OperationError"===e.name))throw e;ee.printDebugError("Browser did not support signing: "+e.message)}break;case"node":{let i=await async function(e,t,r,i){let n=ip.createSign(eo.read(eo.hash,t));n.write(r),n.end();let a=iw.encode({version:1,parameters:e.oid,privateKey:Array.from(i.privateKey),publicKey:{unused:0,data:Array.from(i.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return ig.decode(n.sign(a),"der")}(s,t,r,e);return{r:i.r.toArrayLike(Uint8Array),s:i.s.toArrayLike(Uint8Array)}}}}return async function(e,t,r){let i=await r1(e.name),n=rJ(i,r),a=n.sign(t);return{r:a.r.toArrayLike(Uint8Array),s:a.s.toArrayLike(Uint8Array)}}(s,a,n)}async function iy(e,t,r,i,n,a){let s=new io(e);if(i&&!ee.isStream(i))switch(s.type){case"web":try{return await async function(e,t,{r:r,s:i},n,a){let s=iu(e.payloadSize,ir[e.name],a),o=await id.importKey("jwk",s,{name:"ECDSA",namedCurve:ir[e.name],hash:{name:eo.read(eo.webHash,e.hash)}},!1,["verify"]),c=ee.concatUint8Array([r,i]).buffer;return id.verify({name:"ECDSA",namedCurve:ir[e.name],hash:{name:eo.read(eo.webHash,t)}},o,c,n)}(s,t,r,i,n)}catch(e){if("p521"!==s.name&&("DataError"===e.name||"OperationError"===e.name))throw e;ee.printDebugError("Browser did not support verifying: "+e.message)}break;case"node":return async function(e,t,{r:r,s:i},n,a){let{default:s}=await Promise.resolve().then(function(){return cW}),o=ip.createVerify(eo.read(eo.hash,t));o.write(n),o.end();let c=i_.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:e.oid},subjectPublicKey:{unused:0,data:Array.from(a)}},"pem",{label:"PUBLIC KEY"}),h=ig.encode({r:new s(r),s:new s(i)},"der");try{return o.verify(c,h)}catch(e){return!1}}(s,t,r,i,n)}return async function(e,t,r,i){let n=await r1(e.name),a=r0(n,i);return a.verify(r,t)}(s,r,void 0===t?i:a,n)}const im=void 0,ig=ip?im.define("ECDSASignature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}):void 0,iw=ip?im.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}):void 0,iv=ip?im.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}):void 0,i_=ip?im.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(iv),this.key("subjectPublicKey").bitstr())}):void 0;var ik=Object.freeze({__proto__:null,sign:ib,verify:iy,validateParams:async function(e,t,r){let i=new io(e);if(i.keyType!==eo.publicKey.ecdsa)return!1;switch(i.type){case"web":case"node":{let i=rB(8),n=eo.hash.sha256,a=await t6.digest(n,i);try{let s=await ib(e,n,i,t,r,a);return await iy(e,n,s,i,t,a)}catch(e){return!1}}default:return ic(eo.publicKey.ecdsa,e,t,r)}}});rI.hash=e=>new Uint8Array(tR().update(e).digest());var iA=Object.freeze({__proto__:null,sign:async function(e,t,r,i,n,a){if(t6.getHashByteLength(t)<t6.getHashByteLength(eo.hash.sha256))throw Error("Hash algorithm too weak: sha256 or stronger is required for EdDSA.");let s=ee.concatUint8Array([n,i.subarray(1)]),o=rI.sign.detached(a,s);return{r:o.subarray(0,32),s:o.subarray(32)}},verify:async function(e,t,{r:r,s:i},n,a,s){let o=ee.concatUint8Array([r,i]);return rI.sign.detached.verify(s,o,a.subarray(1))},validateParams:async function(e,t,r){if("ed25519"!==e.getName())return!1;let{publicKey:i}=rI.sign.keyPair.fromSeed(r),n=new Uint8Array([64,...i]);return ee.equalsUint8Array(t,n)}});function iS(e,t){let r=new eW["aes"+8*e.length](e),i=new Uint32Array([2795939494,2795939494]),n=iP(t),a=i,s=n.length/2,o=new Uint32Array([0,0]),c=new Uint32Array(4);for(let e=0;e<=5;++e)for(let t=0;t<s;++t)o[1]=s*e+(1+t),c[0]=a[0],c[1]=a[1],c[2]=n[2*t],c[3]=n[2*t+1],a=(c=iP(r.encrypt(iM(c)))).subarray(0,2),a[0]^=o[0],a[1]^=o[1],n[2*t]=c[2],n[2*t+1]=c[3];return iM(a,n)}function iE(e,t){let r=new eW["aes"+8*e.length](e),i=new Uint32Array([2795939494,2795939494]),n=iP(t),a=n.subarray(0,2),s=n.subarray(2),o=n.length/2-1,c=new Uint32Array([0,0]),h=new Uint32Array(4);for(let e=5;e>=0;--e)for(let t=o-1;t>=0;--t)c[1]=o*e+(t+1),h[0]=a[0]^c[0],h[1]=a[1]^c[1],h[2]=s[2*t],h[3]=s[2*t+1],a=(h=iP(r.decrypt(iM(h)))).subarray(0,2),s[2*t]=h[2],s[2*t+1]=h[3];if(a[0]===i[0]&&a[1]===i[1])return iM(s);throw Error("Key Data Integrity failed")}function iP(e){let{length:t}=e,r=function(e){if(ee.isString(e)){let{length:t}=e,r=new ArrayBuffer(t),i=new Uint8Array(r);for(let r=0;r<t;++r)i[r]=e.charCodeAt(r);return r}return new Uint8Array(e).buffer}(e),i=new DataView(r),n=new Uint32Array(t/4);for(let e=0;e<t/4;++e)n[e]=i.getUint32(4*e);return n}function iM(){let e=0;for(let t=0;t<arguments.length;++t)e+=4*arguments[t].length;let t=new ArrayBuffer(e),r=new DataView(t),i=0;for(let e=0;e<arguments.length;++e){for(let t=0;t<arguments[e].length;++t)r.setUint32(i+4*t,arguments[e][t]);i+=4*arguments[e].length}return new Uint8Array(t)}var iC=Object.freeze({__proto__:null,wrap:iS,unwrap:iE});function ix(e){let t=8-e.length%8,r=new Uint8Array(e.length+t).fill(t);return r.set(e),r}function iR(e){let t=e.length;if(t>0){let r=e[t-1];if(r>=1){let i=e.subarray(t-r),n=new Uint8Array(r).fill(r);if(ee.equalsUint8Array(i,n))return e.subarray(0,t-r)}}throw Error("Invalid padding")}var iD=Object.freeze({__proto__:null,encode:ix,decode:iR});const iI=ee.getWebCrypto(),iU=ee.getNodeCrypto();function iB(e,t,r,i){return ee.concatUint8Array([t.write(),new Uint8Array([e]),r.write(),ee.stringToUint8Array("Anonymous Sender    "),i.subarray(0,20)])}async function iT(e,t,r,i,n=!1,a=!1){let s;if(n){for(s=0;s<t.length&&0===t[s];s++);t=t.subarray(s)}if(a){for(s=t.length-1;s>=0&&0===t[s];s--);t=t.subarray(0,s+1)}return(await t6.digest(e,ee.concatUint8Array([new Uint8Array([0,0,0,1]),t,i]))).subarray(0,r)}async function iK(e,t){switch(e.type){case"curve25519":{let r=rB(32),{secretKey:i,sharedKey:n}=await iz(e,t,null,r),{publicKey:a}=rI.box.keyPair.fromSecretKey(i);return{publicKey:a=ee.concatUint8Array([new Uint8Array([64]),a]),sharedKey:n}}case"web":if(e.web&&ee.getWebCrypto())try{return await async function(e,t){let r=iu(e.payloadSize,e.web.web,t),i=iI.generateKey({name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]),n=iI.importKey("jwk",r,{name:"ECDH",namedCurve:e.web.web},!1,[]);[i,n]=await Promise.all([i,n]);let a=iI.deriveBits({name:"ECDH",namedCurve:e.web.web,public:n},i.privateKey,e.web.sharedSize),s=iI.exportKey("jwk",i.publicKey);[a,s]=await Promise.all([a,s]);let o=new Uint8Array(a),c=new Uint8Array(ih(s));return{publicKey:c,sharedKey:o}}(e,t)}catch(e){ee.printDebugError(e)}break;case"node":return async function(e,t){let r=iU.createECDH(e.node.node);r.generateKeys();let i=new Uint8Array(r.computeSecret(t)),n=new Uint8Array(r.getPublicKey());return{publicKey:n,sharedKey:i}}(e,t)}return async function(e,t){let r=await r1(e.name),i=await e.genKeyPair();t=r0(r,t);let n=rJ(r,i.privateKey),a=i.publicKey,s=n.derive(t.getPublic()),o=r.curve.p.byteLength(),c=s.toArrayLike(Uint8Array,"be",o);return{publicKey:a,sharedKey:c}}(e,t)}async function iz(e,t,r,i){if(i.length!==e.payloadSize){let t=new Uint8Array(e.payloadSize);t.set(i,e.payloadSize-i.length),i=t}switch(e.type){case"curve25519":{let e=i.slice().reverse();return{secretKey:e,sharedKey:rI.scalarMult(e,t.subarray(1))}}case"web":if(e.web&&ee.getWebCrypto())try{return await async function(e,t,r,i){let n=il(e.payloadSize,e.web.web,r,i),a=iI.importKey("jwk",n,{name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]),s=iu(e.payloadSize,e.web.web,t),o=iI.importKey("jwk",s,{name:"ECDH",namedCurve:e.web.web},!0,[]);[a,o]=await Promise.all([a,o]);let c=iI.deriveBits({name:"ECDH",namedCurve:e.web.web,public:o},a,e.web.sharedSize),h=iI.exportKey("jwk",a);[c,h]=await Promise.all([c,h]);let u=new Uint8Array(c);return{secretKey:en(h.d),sharedKey:u}}(e,t,r,i)}catch(e){ee.printDebugError(e)}break;case"node":return async function(e,t,r){let i=iU.createECDH(e.node.node);i.setPrivateKey(r);let n=new Uint8Array(i.computeSecret(t));return{secretKey:new Uint8Array(i.getPrivateKey()),sharedKey:n}}(e,t,i)}return async function(e,t,r){let i=await r1(e.name);t=r0(i,t),r=rJ(i,r);let n=new Uint8Array(r.getPrivate()),a=r.derive(t.getPublic()),s=i.curve.p.byteLength(),o=a.toArrayLike(Uint8Array,"be",s);return{secretKey:n,sharedKey:o}}(e,t,i)}var iq=Object.freeze({__proto__:null,validateParams:async function(e,t,r){return ic(eo.publicKey.ecdh,e,t,r)},encrypt:async function(e,t,r,i,n){let a=ix(r),s=new io(e),{publicKey:o,sharedKey:c}=await iK(s,i),h=iB(eo.publicKey.ecdh,e,t,n),{keySize:u}=t8(t.cipher);return{publicKey:o,wrappedKey:iS(await iT(t.hash,c,u,h),a)}},decrypt:async function(e,t,r,i,n,a,s){let o;let c=new io(e),{sharedKey:h}=await iz(c,r,n,a),u=iB(eo.publicKey.ecdh,e,t,s),{keySize:l}=t8(t.cipher);for(let e=0;e<3;e++)try{return iR(iE(await iT(t.hash,h,l,u,1===e,2===e),i))}catch(e){o=e}throw o}}),iF={rsa:rY,elgamal:rX,elliptic:Object.freeze({__proto__:null,Curve:io,ecdh:iq,ecdsa:ik,eddsa:iA,generate:async function(e){let t=await ee.getBigInteger();e=new io(e);let r=await e.genKeyPair(),i=new t(r.publicKey).toUint8Array(),n=new t(r.privateKey).toUint8Array("be",e.payloadSize);return{oid:e.oid,Q:i,secret:n,hash:e.hash,cipher:e.cipher}},getPreferredHashAlgo:function(e){return is[eo.write(eo.curve,e.toHex())].hash}}),dsa:Object.freeze({__proto__:null,sign:async function(e,t,r,i,n,a){let s,o,c,h;let u=await ee.getBigInteger(),l=new u(1);i=new u(i),n=new u(n),r=new u(r),a=new u(a),r=r.mod(i),a=a.mod(n);let d=new u(t.subarray(0,n.byteLength())).mod(n);for(;;){if(s=await rT(l,n),(o=r.modExp(s,i).imod(n)).isZero())continue;let e=a.mul(o).imod(n);if(h=d.add(e).imod(n),!(c=s.modInv(n).imul(h).imod(n)).isZero())break}return{r:o.toUint8Array("be",n.byteLength()),s:c.toUint8Array("be",n.byteLength())}},verify:async function(e,t,r,i,n,a,s,o){let c=await ee.getBigInteger(),h=new c(0);if(t=new c(t),r=new c(r),a=new c(a),s=new c(s),n=new c(n),o=new c(o),t.lte(h)||t.gte(s)||r.lte(h)||r.gte(s))return ee.printDebug("invalid DSA Signature"),!1;let u=new c(i.subarray(0,s.byteLength())).imod(s),l=r.modInv(s);if(l.isZero())return ee.printDebug("invalid DSA Signature"),!1;n=n.mod(a),o=o.mod(a);let d=u.mul(l).imod(s),f=t.mul(l).imod(s),p=n.modExp(d,a),b=o.modExp(f,a);return p.mul(b).imod(a).imod(s).equal(t)},validateParams:async function(e,t,r,i,n){let a=await ee.getBigInteger();e=new a(e),t=new a(t),r=new a(r),i=new a(i);let s=new a(1);if(r.lte(s)||r.gte(e)||!e.dec().mod(t).isZero()||!r.modExp(t,e).isOne())return!1;let o=new a(t.bitLength()),c=new a(150);if(o.lt(c)||!await rq(t,null,32))return!1;n=new a(n);let h=new a(2),u=await rT(h.leftShift(o.dec()),h.leftShift(o)),l=t.mul(u).add(n);return!!i.equal(r.modExp(l,e))}}),nacl:rI},iO=Object.freeze({__proto__:null,parseSignatureParams:function(e,t){let r=0;switch(e){case eo.publicKey.rsaEncryptSign:case eo.publicKey.rsaEncrypt:case eo.publicKey.rsaSign:return{s:ee.readMPI(t.subarray(r))};case eo.publicKey.dsa:case eo.publicKey.ecdsa:{let e=ee.readMPI(t.subarray(r));return r+=e.length+2,{r:e,s:ee.readMPI(t.subarray(r))}}case eo.publicKey.eddsa:{let e=ee.readMPI(t.subarray(r));r+=e.length+2,e=ee.leftPad(e,32);let i=ee.readMPI(t.subarray(r));return{r:e,s:i=ee.leftPad(i,32)}}default:throw new r7("Unknown signature algorithm.")}},verify:async function(e,t,r,i,n,a){switch(e){case eo.publicKey.rsaEncryptSign:case eo.publicKey.rsaEncrypt:case eo.publicKey.rsaSign:{let{n:e,e:s}=i,o=ee.leftPad(r.s,e.length);return iF.rsa.verify(t,n,o,e,s,a)}case eo.publicKey.dsa:{let{g:e,p:n,q:s,y:o}=i,{r:c,s:h}=r;return iF.dsa.verify(t,c,h,a,e,n,s,o)}case eo.publicKey.ecdsa:{let{oid:e,Q:s}=i,o=new iF.elliptic.Curve(e).payloadSize,c=ee.leftPad(r.r,o),h=ee.leftPad(r.s,o);return iF.elliptic.ecdsa.verify(e,t,{r:c,s:h},n,s,a)}case eo.publicKey.eddsa:{let{oid:e,Q:s}=i;return iF.elliptic.eddsa.verify(e,t,r,n,s,a)}default:throw Error("Unknown signature algorithm.")}},sign:async function(e,t,r,i,n,a){if(!r||!i)throw Error("Missing key parameters");switch(e){case eo.publicKey.rsaEncryptSign:case eo.publicKey.rsaEncrypt:case eo.publicKey.rsaSign:{let{n:e,e:s}=r,{d:o,p:c,q:h,u:u}=i;return{s:await iF.rsa.sign(t,n,e,s,o,c,h,u,a)}}case eo.publicKey.dsa:{let{g:e,p:n,q:s}=r,{x:o}=i;return iF.dsa.sign(t,a,e,n,s,o)}case eo.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case eo.publicKey.ecdsa:{let{oid:e,Q:s}=r,{d:o}=i;return iF.elliptic.ecdsa.sign(e,t,n,s,o,a)}case eo.publicKey.eddsa:{let{oid:e,Q:s}=r,{seed:o}=i;return iF.elliptic.eddsa.sign(e,t,n,s,o,a)}default:throw Error("Unknown signature algorithm.")}}});class iL{constructor(e){e=void 0===e?new Uint8Array([]):ee.isString(e)?ee.stringToUint8Array(e):new Uint8Array(e),this.data=e}read(e){if(e.length>=1){let t=e[0];if(e.length>=1+t)return this.data=e.subarray(1,1+t),1+this.data.length}throw Error("Invalid symmetric key")}write(){return ee.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class iN{constructor(e){if(e){let{hash:t,cipher:r}=e;this.hash=t,this.cipher=r}else this.hash=null,this.cipher=null}read(e){if(e.length<4||3!==e[0]||1!==e[1])throw Error("Cannot read KDFParams");return this.hash=e[2],this.cipher=e[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}function ij(e){try{e.getName()}catch(e){throw new r7("Unknown curve OID")}}var iW=Object.freeze({__proto__:null,publicKeyEncrypt:async function(e,t,r,i){switch(e){case eo.publicKey.rsaEncrypt:case eo.publicKey.rsaEncryptSign:{let{n:e,e:i}=t;return{c:await iF.rsa.encrypt(r,e,i)}}case eo.publicKey.elgamal:{let{p:e,g:i,y:n}=t;return iF.elgamal.encrypt(r,e,i,n)}case eo.publicKey.ecdh:{let{oid:e,Q:n,kdfParams:a}=t,{publicKey:s,wrappedKey:o}=await iF.elliptic.ecdh.encrypt(e,a,r,n,i);return{V:s,C:new iL(o)}}default:return[]}},publicKeyDecrypt:async function(e,t,r,i,n,a){switch(e){case eo.publicKey.rsaEncryptSign:case eo.publicKey.rsaEncrypt:{let{c:e}=i,{n:n,e:s}=t,{d:o,p:c,q:h,u:u}=r;return iF.rsa.decrypt(e,n,s,o,c,h,u,a)}case eo.publicKey.elgamal:{let{c1:e,c2:n}=i,s=t.p,o=r.x;return iF.elgamal.decrypt(e,n,s,o,a)}case eo.publicKey.ecdh:{let{oid:e,Q:a,kdfParams:s}=t,{d:o}=r,{V:c,C:h}=i;return iF.elliptic.ecdh.decrypt(e,s,c,h.data,a,o,n)}default:throw Error("Unknown public key encryption algorithm.")}},parsePublicKeyParams:function(e,t){let r=0;switch(e){case eo.publicKey.rsaEncrypt:case eo.publicKey.rsaEncryptSign:case eo.publicKey.rsaSign:{let e=ee.readMPI(t.subarray(r));r+=e.length+2;let i=ee.readMPI(t.subarray(r));return{read:r+=i.length+2,publicParams:{n:e,e:i}}}case eo.publicKey.dsa:{let e=ee.readMPI(t.subarray(r));r+=e.length+2;let i=ee.readMPI(t.subarray(r));r+=i.length+2;let n=ee.readMPI(t.subarray(r));r+=n.length+2;let a=ee.readMPI(t.subarray(r));return{read:r+=a.length+2,publicParams:{p:e,q:i,g:n,y:a}}}case eo.publicKey.elgamal:{let e=ee.readMPI(t.subarray(r));r+=e.length+2;let i=ee.readMPI(t.subarray(r));r+=i.length+2;let n=ee.readMPI(t.subarray(r));return{read:r+=n.length+2,publicParams:{p:e,g:i,y:n}}}case eo.publicKey.ecdsa:{let e=new rQ;r+=e.read(t),ij(e);let i=ee.readMPI(t.subarray(r));return{read:r+=i.length+2,publicParams:{oid:e,Q:i}}}case eo.publicKey.eddsa:{let e=new rQ;r+=e.read(t),ij(e);let i=ee.readMPI(t.subarray(r));return r+=i.length+2,i=ee.leftPad(i,33),{read:r,publicParams:{oid:e,Q:i}}}case eo.publicKey.ecdh:{let e=new rQ;r+=e.read(t),ij(e);let i=ee.readMPI(t.subarray(r));r+=i.length+2;let n=new iN;return{read:r+=n.read(t.subarray(r)),publicParams:{oid:e,Q:i,kdfParams:n}}}default:throw new r7("Unknown public key encryption algorithm.")}},parsePrivateKeyParams:function(e,t,r){let i=0;switch(e){case eo.publicKey.rsaEncrypt:case eo.publicKey.rsaEncryptSign:case eo.publicKey.rsaSign:{let e=ee.readMPI(t.subarray(i));i+=e.length+2;let r=ee.readMPI(t.subarray(i));i+=r.length+2;let n=ee.readMPI(t.subarray(i));i+=n.length+2;let a=ee.readMPI(t.subarray(i));return{read:i+=a.length+2,privateParams:{d:e,p:r,q:n,u:a}}}case eo.publicKey.dsa:case eo.publicKey.elgamal:{let e=ee.readMPI(t.subarray(i));return{read:i+=e.length+2,privateParams:{x:e}}}case eo.publicKey.ecdsa:case eo.publicKey.ecdh:{let e=new io(r.oid),n=ee.readMPI(t.subarray(i));return i+=n.length+2,n=ee.leftPad(n,e.payloadSize),{read:i,privateParams:{d:n}}}case eo.publicKey.eddsa:{let e=new io(r.oid),n=ee.readMPI(t.subarray(i));return i+=n.length+2,n=ee.leftPad(n,e.payloadSize),{read:i,privateParams:{seed:n}}}default:throw new r7("Unknown public key encryption algorithm.")}},parseEncSessionKeyParams:function(e,t){let r=0;switch(e){case eo.publicKey.rsaEncrypt:case eo.publicKey.rsaEncryptSign:return{c:ee.readMPI(t.subarray(r))};case eo.publicKey.elgamal:{let e=ee.readMPI(t.subarray(r));return r+=e.length+2,{c1:e,c2:ee.readMPI(t.subarray(r))}}case eo.publicKey.ecdh:{let e=ee.readMPI(t.subarray(r));r+=e.length+2;let i=new iL;return i.read(t.subarray(r)),{V:e,C:i}}default:throw new r7("Unknown public key encryption algorithm.")}},serializeParams:function(e,t){let r=Object.keys(t).map(e=>{let r=t[e];return ee.isUint8Array(r)?ee.uint8ArrayToMPI(r):r.write()});return ee.concatUint8Array(r)},generateParams:function(e,t,r){switch(e){case eo.publicKey.rsaEncrypt:case eo.publicKey.rsaEncryptSign:case eo.publicKey.rsaSign:return iF.rsa.generate(t,65537).then(({n:e,e:t,d:r,p:i,q:n,u:a})=>({privateParams:{d:r,p:i,q:n,u:a},publicParams:{n:e,e:t}}));case eo.publicKey.ecdsa:return iF.elliptic.generate(r).then(({oid:e,Q:t,secret:r})=>({privateParams:{d:r},publicParams:{oid:new rQ(e),Q:t}}));case eo.publicKey.eddsa:return iF.elliptic.generate(r).then(({oid:e,Q:t,secret:r})=>({privateParams:{seed:r},publicParams:{oid:new rQ(e),Q:t}}));case eo.publicKey.ecdh:return iF.elliptic.generate(r).then(({oid:e,Q:t,secret:r,hash:i,cipher:n})=>({privateParams:{d:r},publicParams:{oid:new rQ(e),Q:t,kdfParams:new iN({hash:i,cipher:n})}}));case eo.publicKey.dsa:case eo.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}},validateParams:async function(e,t,r){if(!t||!r)throw Error("Missing key parameters");switch(e){case eo.publicKey.rsaEncrypt:case eo.publicKey.rsaEncryptSign:case eo.publicKey.rsaSign:{let{n:e,e:i}=t,{d:n,p:a,q:s,u:o}=r;return iF.rsa.validateParams(e,i,n,a,s,o)}case eo.publicKey.dsa:{let{p:e,q:i,g:n,y:a}=t,{x:s}=r;return iF.dsa.validateParams(e,i,n,a,s)}case eo.publicKey.elgamal:{let{p:e,g:i,y:n}=t,{x:a}=r;return iF.elgamal.validateParams(e,i,n,a)}case eo.publicKey.ecdsa:case eo.publicKey.ecdh:{let i=iF.elliptic[eo.read(eo.publicKey,e)],{oid:n,Q:a}=t,{d:s}=r;return i.validateParams(n,a,s)}case eo.publicKey.eddsa:{let{oid:e,Q:i}=t,{seed:n}=r;return iF.elliptic.eddsa.validateParams(e,i,n)}default:throw Error("Unknown public key algorithm.")}},getPrefixRandom:async function(e){let{blockSize:t}=t8(e),r=await rB(t),i=new Uint8Array([r[r.length-2],r[r.length-1]]);return ee.concat([r,i])},generateSessionKey:function(e){let{keySize:t}=t8(e);return rB(t)},getAEADMode:function(e){let t=eo.read(eo.aead,e);return rD[t]},getCipher:t8});const iH={cipher:eW,hash:t6,mode:rD,publicKey:iF,signature:iO,random:rK,pkcs1:rW,pkcs5:iD,aesKW:iC};Object.assign(iH,iW);var iG="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function iV(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}const iZ={arraySet:function(e,t,r,i,n){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+i),n);else for(let a=0;a<i;a++)e[n+a]=t[r+a]},flattenChunks:function(e){let t,r,i,n,a;for(i=0,t=0,r=e.length;t<r;t++)i+=e[t].length;let s=new Uint8Array(i);for(n=0,t=0,r=e.length;t<r;t++)a=e[t],s.set(a,n),n+=a.length;return s}},i$={arraySet:function(e,t,r,i,n){for(let a=0;a<i;a++)e[n+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};let iY=iG?Uint8Array:Array,iX=iG?Uint16Array:Array,iQ=iG?Int32Array:Array,iJ=iG?iZ.flattenChunks:i$.flattenChunks,i0=iG?iZ.arraySet:i$.arraySet;function i1(e){let t=e.length;for(;--t>=0;)e[t]=0}const i2=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],i3=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],i5=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],i6=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],i4=Array(576);i1(i4);const i8=Array(60);i1(i8);const i7=Array(512);i1(i7);const i9=Array(256);i1(i9);const ne=Array(29);i1(ne);const nt=Array(30);function nr(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}function ni(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function nn(e){return e<256?i7[e]:i7[256+(e>>>7)]}function na(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function ns(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,na(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function no(e,t,r){ns(e,r[2*t],r[2*t+1])}function nc(e,t){let r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0)return r>>>1}function nh(e,t,r){let i=Array(16),n,a,s=0;for(n=1;n<=15;n++)i[n]=s=s+r[n-1]<<1;for(a=0;a<=t;a++){let t=e[2*a+1];0!==t&&(e[2*a]=nc(i[t]++,t))}}function nu(e){let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function nl(e){e.bi_valid>8?na(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function nd(e,t,r,i){let n=2*t,a=2*r;return e[n]<e[a]||e[n]===e[a]&&i[t]<=i[r]}function nf(e,t,r){let i=e.heap[r],n=r<<1;for(;n<=e.heap_len&&(n<e.heap_len&&nd(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!nd(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i}function np(e,t,r){let i,n,a,s,o=0;if(0!==e.last_lit)do i=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],n=e.pending_buf[e.l_buf+o],o++,0===i?no(e,n,t):(no(e,(a=i9[n])+256+1,t),0!==(s=i2[a])&&ns(e,n-=ne[a],s),no(e,a=nn(--i),r),0!==(s=i3[a])&&ns(e,i-=nt[a],s));while(o<e.last_lit)no(e,256,t)}function nb(e,t){let r=t.dyn_tree,i=t.stat_desc.static_tree,n=t.stat_desc.has_stree,a=t.stat_desc.elems,s,o,c,h=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<a;s++)0!==r[2*s]?(e.heap[++e.heap_len]=h=s,e.depth[s]=0):r[2*s+1]=0;for(;e.heap_len<2;)r[2*(c=e.heap[++e.heap_len]=h<2?++h:0)]=1,e.depth[c]=0,e.opt_len--,n&&(e.static_len-=i[2*c+1]);for(t.max_code=h,s=e.heap_len>>1;s>=1;s--)nf(e,r,s);c=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],nf(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,r[2*c]=r[2*s]+r[2*o],e.depth[c]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,r[2*s+1]=r[2*o+1]=c,e.heap[1]=c++,nf(e,r,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],function(e,t){let r=t.dyn_tree,i=t.max_code,n=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length,h,u,l,d,f,p,b=0;for(d=0;d<=15;d++)e.bl_count[d]=0;for(r[2*e.heap[e.heap_max]+1]=0,h=e.heap_max+1;h<573;h++)(d=r[2*r[2*(u=e.heap[h])+1]+1]+1)>c&&(d=c,b++),r[2*u+1]=d,u>i||(e.bl_count[d]++,f=0,u>=o&&(f=s[u-o]),p=r[2*u],e.opt_len+=p*(d+f),a&&(e.static_len+=p*(n[2*u+1]+f)));if(0!==b){do{for(d=c-1;0===e.bl_count[d];)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[c]--,b-=2}while(b>0)for(d=c;0!==d;d--)for(u=e.bl_count[d];0!==u;)(l=e.heap[--h])>i||(r[2*l+1]!==d&&(e.opt_len+=(d-r[2*l+1])*r[2*l],r[2*l+1]=d),u--)}}(e,t),nh(r,h,e.bl_count)}function ny(e,t,r){let i,n,a=-1,s=t[1],o=0,c=7,h=4;for(0===s&&(c=138,h=3),t[2*(r+1)+1]=65535,i=0;i<=r;i++)n=s,s=t[2*(i+1)+1],++o<c&&n===s||(o<h?e.bl_tree[2*n]+=o:0!==n?(n!==a&&e.bl_tree[2*n]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,a=n,0===s?(c=138,h=3):n===s?(c=6,h=3):(c=7,h=4))}function nm(e,t,r){let i,n,a=-1,s=t[1],o=0,c=7,h=4;for(0===s&&(c=138,h=3),i=0;i<=r;i++)if(n=s,s=t[2*(i+1)+1],!(++o<c&&n===s)){if(o<h)do no(e,n,e.bl_tree);while(0!=--o)else 0!==n?(n!==a&&(no(e,n,e.bl_tree),o--),no(e,16,e.bl_tree),ns(e,o-3,2)):o<=10?(no(e,17,e.bl_tree),ns(e,o-3,3)):(no(e,18,e.bl_tree),ns(e,o-11,7));o=0,a=n,0===s?(c=138,h=3):n===s?(c=6,h=3):(c=7,h=4)}}i1(nt);let ng=!1;function nw(e,t,r,i){ns(e,0+(i?1:0),3),nl(e),na(e,r),na(e,~r),i0(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function nv(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(i9[r]+256+1)]++,e.dyn_dtree[2*nn(t)]++),e.last_lit===e.lit_bufsize-1}function n_(e,t,r,i){let n=65535&e|0,a=e>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do a=a+(n=n+t[i++]|0)|0;while(--s)n%=65521,a%=65521}return n|a<<16|0}const nk=function(){let e;let t=[];for(let r=0;r<256;r++){e=r;for(let t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();function nA(e,t,r,i){let n=i+r;e^=-1;for(let r=i;r<n;r++)e=e>>>8^nk[255&(e^t[r])];return -1^e}var nS={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function nE(e,t){return e.msg=nS[t],t}function nP(e){return(e<<1)-(e>4?9:0)}function nM(e){let t=e.length;for(;--t>=0;)e[t]=0}function nC(e){let t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i0(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function nx(e,t){var r,i;let n,a,s;r=e.block_start>=0?e.block_start:-1,i=e.strstart-e.block_start,s=0,e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),nb(e,e.l_desc),nb(e,e.d_desc),s=function(e){let t;for(ny(e,e.dyn_ltree,e.l_desc.max_code),ny(e,e.dyn_dtree,e.d_desc.max_code),nb(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*i6[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),n=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=n&&(n=a)):n=a=i+5,i+4<=n&&-1!==r?nw(e,r,i,t):4===e.strategy||a===n?(ns(e,2+(t?1:0),3),np(e,i4,i8)):(ns(e,4+(t?1:0),3),function(e,t,r,i){let n;for(ns(e,t-257,5),ns(e,r-1,5),ns(e,i-4,4),n=0;n<i;n++)ns(e,e.bl_tree[2*i6[n]+1],3);nm(e,e.dyn_ltree,t-1),nm(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),np(e,e.dyn_ltree,e.dyn_dtree)),nu(e),t&&nl(e),e.block_start=e.strstart,nC(e.strm)}function nR(e,t){e.pending_buf[e.pending++]=t}function nD(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function nI(e,t){let r,i,n=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match,c=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,h=e.window,u=e.w_mask,l=e.prev,d=e.strstart+258,f=h[a+s-1],p=h[a+s];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do if(h[(r=t)+s]===p&&h[r+s-1]===f&&h[r]===h[a]&&h[++r]===h[a+1]){a+=2,r++;do;while(h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&a<d)if(i=258-(d-a),a=d-258,i>s){if(e.match_start=t,s=i,i>=o)break;f=h[a+s-1],p=h[a+s]}}while((t=l[t&u])>c&&0!=--n)return s<=e.lookahead?s:e.lookahead}function nU(e){let t,r,i,n,a;let s=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-262)){i0(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=r=e.hash_size;do i=e.head[--t],e.head[t]=i>=s?i-s:0;while(--r)t=r=s;do i=e.prev[--t],e.prev[t]=i>=s?i-s:0;while(--r)n+=s}if(0===e.strm.avail_in)break;if(r=function(e,t,r,i){let n=e.avail_in;return n>i&&(n=i),0===n?0:(e.avail_in-=n,i0(t,e.input,e.next_in,n,r),1===e.state.wrap?e.adler=n_(e.adler,t,n,r):2===e.state.wrap&&(e.adler=nA(e.adler,t,n,r)),e.next_in+=n,e.total_in+=n,n)}(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function nB(e,t){let r,i;for(;;){if(e.lookahead<262){if(nU(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=nI(e,r)),e.match_length>=3){if(i=nv(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask}else i=nv(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(nx(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(nx(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(nx(e,!1),0===e.strm.avail_out)?1:2}function nT(e,t){let r,i,n;for(;;){if(e.lookahead<262){if(nU(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=nI(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-3,i=nv(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=2,e.strstart++,i&&(nx(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=nv(e,0,e.window[e.strstart-1]))&&nx(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=nv(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(nx(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(nx(e,!1),0===e.strm.avail_out)?1:2}class nK{constructor(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}}const nz=[new nK(0,0,0,0,function(e,t){let r=65535;for(65535>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(nU(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;let i=e.block_start+r;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,nx(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-262&&(nx(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(nx(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(nx(e,!1),e.strm.avail_out),1)}),new nK(4,4,8,4,nB),new nK(4,5,16,8,nB),new nK(4,6,32,32,nB),new nK(4,4,16,16,nT),new nK(8,16,32,32,nT),new nK(8,16,128,128,nT),new nK(8,32,128,256,nT),new nK(32,128,258,1024,nT),new nK(32,258,258,4096,nT)];class nq{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new iX(1146),this.dyn_dtree=new iX(122),this.bl_tree=new iX(78),nM(this.dyn_ltree),nM(this.dyn_dtree),nM(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new iX(16),this.heap=new iX(573),nM(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new iX(573),nM(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}}try{String.fromCharCode.call(null,0)}catch(e){}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){}const nF=new iY(256);for(let e=0;e<256;e++)nF[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;function nO(e){let t,r,i,n,a=0,s=e.length;for(i=0;i<s;i++)55296==(64512&(t=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(t=65536+(t-55296<<10)+(r-56320),i++),a+=t<128?1:t<2048?2:t<65536?3:4;let o=new iY(a);for(n=0,i=0;n<a;i++)55296==(64512&(t=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(t=65536+(t-55296<<10)+(r-56320),i++),t<128?o[n++]=t:(t<2048?o[n++]=192|t>>>6:(t<65536?o[n++]=224|t>>>12:(o[n++]=240|t>>>18,o[n++]=128|t>>>12&63),o[n++]=128|t>>>6&63),o[n++]=128|63&t);return o}nF[254]=nF[254]=1;class nL{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}class nN{constructor(e){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,...e||{}};let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nL,this.strm.avail_out=0;var r,i,o=function(e,t,r,i,o,c){if(!e)return -2;let h=1;if(-1===t&&(t=6),i<0?(h=0,i=-i):i>15&&(h=2,i-=16),o<1||o>9||8!==r||i<8||i>15||t<0||t>9||c<0||c>4)return nE(e,-2);8===i&&(i=9);let u=new nq;return e.state=u,u.strm=e,u.wrap=h,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new iY(2*u.w_size),u.head=new iX(u.hash_size),u.prev=new iX(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new iY(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=c,u.method=r,function(e){var t;let r;let i=e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(r=e.state).pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap?42:113,e.adler=2===r.wrap?0:1,r.last_flush=0,ng||(function(){let e,t,r,i,o;let c=Array(16);for(r=0,i=0;i<28;i++)for(ne[i]=r,e=0;e<1<<i2[i];e++)i9[r++]=i;for(i9[r-1]=i,o=0,i=0;i<16;i++)for(nt[i]=o,e=0;e<1<<i3[i];e++)i7[o++]=i;for(o>>=7;i<30;i++)for(nt[i]=o<<7,e=0;e<1<<i3[i]-7;e++)i7[256+o++]=i;for(t=0;t<=15;t++)c[t]=0;for(e=0;e<=143;)i4[2*e+1]=8,e++,c[8]++;for(;e<=255;)i4[2*e+1]=9,e++,c[9]++;for(;e<=279;)i4[2*e+1]=7,e++,c[7]++;for(;e<=287;)i4[2*e+1]=8,e++,c[8]++;for(nh(i4,287,c),e=0;e<30;e++)i8[2*e+1]=5,i8[2*e]=nc(e,5);n=new nr(i4,i2,257,286,15),a=new nr(i8,i3,0,30,15),s=new nr([],i5,0,19,7)}(),ng=!0),r.l_desc=new ni(r.dyn_ltree,n),r.d_desc=new ni(r.dyn_dtree,a),r.bl_desc=new ni(r.bl_tree,s),r.bi_buf=0,r.bi_valid=0,nu(r),0):nE(e,-2);return 0===i&&((t=e.state).window_size=2*t.w_size,nM(t.head),t.max_lazy_match=nz[t.level].max_lazy,t.good_match=nz[t.level].good_length,t.nice_match=nz[t.level].nice_length,t.max_chain_length=nz[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),i}(e)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==o)throw Error(nS[o]);if(t.header&&(r=this.strm,i=t.header,r&&r.state&&(2!==r.state.wrap||(r.state.gzhead=i))),t.dictionary){let e;if(e="string"==typeof t.dictionary?nO(t.dictionary):t.dictionary instanceof ArrayBuffer?new Uint8Array(t.dictionary):t.dictionary,0!==(o=function(e,t){let r,i,n,a,s,o,c,h,u=t.length;if(!e||!e.state||2===(a=(r=e.state).wrap)||1===a&&42!==r.status||r.lookahead)return -2;for(1===a&&(e.adler=n_(e.adler,t,u,0)),r.wrap=0,u>=r.w_size&&(0===a&&(nM(r.head),r.strstart=0,r.block_start=0,r.insert=0),i0(h=new iY(r.w_size),t,u-r.w_size,r.w_size,0),t=h,u=r.w_size),s=e.avail_in,o=e.next_in,c=e.input,e.avail_in=u,e.next_in=0,e.input=t,nU(r);r.lookahead>=3;){i=r.strstart,n=r.lookahead-2;do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+3-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--n)r.strstart=i,r.lookahead=2,nU(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=o,e.input=c,e.avail_in=s,r.wrap=a,0}(this.strm,e)))throw Error(nS[o]);this._dict_set=!0}}push(e,t){var r,i,n;let a;let{strm:s,options:{chunkSize:o}}=this;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=nO(e):e instanceof ArrayBuffer?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new iY(o),s.next_out=0,s.avail_out=o),1!==(r=function(e,t){let r,i,n,a;if(!e||!e.state||t>5||t<0)return e?nE(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return nE(e,0===e.avail_out?-5:-2);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status){if(2===i.wrap)e.adler=0,nR(i,31),nR(i,139),nR(i,8),i.gzhead?(nR(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),nR(i,255&i.gzhead.time),nR(i,i.gzhead.time>>8&255),nR(i,i.gzhead.time>>16&255),nR(i,i.gzhead.time>>24&255),nR(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),nR(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(nR(i,255&i.gzhead.extra.length),nR(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=nA(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(nR(i,0),nR(i,0),nR(i,0),nR(i,0),nR(i,0),nR(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),nR(i,3),i.status=113);else{let t=8+(i.w_bits-8<<4)<<8;t|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(t|=32),t+=31-t%31,i.status=113,nD(i,t),0!==i.strstart&&(nD(i,e.adler>>>16),nD(i,65535&e.adler)),e.adler=1}}if(69===i.status){if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=nA(e.adler,i.pending_buf,i.pending-n,n)),nC(e),n=i.pending,i.pending!==i.pending_buf_size));)nR(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=nA(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73}if(73===i.status){if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=nA(e.adler,i.pending_buf,i.pending-n,n)),nC(e),n=i.pending,i.pending===i.pending_buf_size)){a=1;break}a=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,nR(i,a)}while(0!==a)i.gzhead.hcrc&&i.pending>n&&(e.adler=nA(e.adler,i.pending_buf,i.pending-n,n)),0===a&&(i.gzindex=0,i.status=91)}else i.status=91}if(91===i.status){if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=nA(e.adler,i.pending_buf,i.pending-n,n)),nC(e),n=i.pending,i.pending===i.pending_buf_size)){a=1;break}a=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,nR(i,a)}while(0!==a)i.gzhead.hcrc&&i.pending>n&&(e.adler=nA(e.adler,i.pending_buf,i.pending-n,n)),0===a&&(i.status=103)}else i.status=103}if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&nC(e),i.pending+2<=i.pending_buf_size&&(nR(i,255&e.adler),nR(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(nC(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&nP(t)<=nP(r)&&4!==t)return nE(e,-5);if(666===i.status&&0!==e.avail_in)return nE(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var s=2===i.strategy?function(e,t){let r;for(;;){if(0===e.lookahead&&(nU(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=nv(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(nx(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(nx(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(nx(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){let r,i,n,a;let s=e.window;for(;;){if(e.lookahead<=258){if(nU(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=s[n=e.strstart-1])===s[++n]&&i===s[++n]&&i===s[++n]){a=e.strstart+258;do;while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<a)e.match_length=258-(a-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=nv(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=nv(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(nx(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(nx(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(nx(e,!1),0===e.strm.avail_out)?1:2}(i,t):nz[i.level].func(i,t);if(3!==s&&4!==s||(i.status=666),1===s||3===s)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===s&&(1===t?(ns(i,2,3),no(i,256,i4),16===i.bi_valid?(na(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=255&i.bi_buf,i.bi_buf>>=8,i.bi_valid-=8)):5!==t&&(nw(i,0,0,!1),3===t&&(nM(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),nC(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(nR(i,255&e.adler),nR(i,e.adler>>8&255),nR(i,e.adler>>16&255),nR(i,e.adler>>24&255),nR(i,255&e.total_in),nR(i,e.total_in>>8&255),nR(i,e.total_in>>16&255),nR(i,e.total_in>>24&255)):(nD(i,e.adler>>>16),nD(i,65535&e.adler)),nC(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)}(s,i))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==i&&2!==i)||this.onData(iV(s.output,s.next_out))}while((s.avail_in>0||0===s.avail_out)&&1!==r)return 4===i?(r=(n=this.strm)&&n.state?42!==(a=n.state.status)&&69!==a&&73!==a&&91!==a&&103!==a&&113!==a&&666!==a?nE(n,-2):(n.state=null,113===a?nE(n,-3):0):-2,this.onEnd(r),this.ended=!0,0===r):2!==i||(this.onEnd(0),s.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){0===e&&(this.result=iJ(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}const nj=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],nW=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],nH=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],nG=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function nV(e,t,r,i,n,a,s,o){let c=o.bits,h,u,l,d,f,p=0,b=0,y=0,m=0,g=0,w=0,v=0,_=0,k=0,A=0,S=null,E=0,P=new iX(16),M=new iX(16),C,x,R,D=null,I=0;for(p=0;p<=15;p++)P[p]=0;for(b=0;b<i;b++)P[t[r+b]]++;for(g=c,m=15;m>=1&&0===P[m];m--);if(g>m&&(g=m),0===m)return n[a++]=20971520,n[a++]=20971520,o.bits=1,0;for(y=1;y<m&&0===P[y];y++);for(g<y&&(g=y),_=1,p=1;p<=15;p++)if(_<<=1,(_-=P[p])<0)return -1;if(_>0&&(0===e||1!==m))return -1;for(M[1]=0,p=1;p<15;p++)M[p+1]=M[p]+P[p];for(b=0;b<i;b++)0!==t[r+b]&&(s[M[t[r+b]]++]=b);0===e?(S=D=s,f=19):1===e?(S=nj,E-=257,D=nW,I-=257,f=256):(S=nH,D=nG,f=-1),A=0,b=0,p=y,d=a,w=g,v=0,l=-1,k=1<<g;let U=k-1;if(1===e&&k>852||2===e&&k>592)return 1;for(;;){C=p-v,s[b]<f?(x=0,R=s[b]):s[b]>f?(x=D[I+s[b]],R=S[E+s[b]]):(x=96,R=0),h=1<<p-v,y=u=1<<w;do n[d+(A>>v)+(u-=h)]=C<<24|x<<16|R|0;while(0!==u)for(h=1<<p-1;A&h;)h>>=1;if(0!==h?(A&=h-1,A+=h):A=0,b++,0==--P[p]){if(p===m)break;p=t[r+s[b]]}if(p>g&&(A&U)!==l){for(0===v&&(v=g),d+=y,_=1<<(w=p-v);w+v<m&&!((_-=P[w+v])<=0);)w++,_<<=1;if(k+=1<<w,1===e&&k>852||2===e&&k>592)return 1;n[l=A&U]=g<<24|w<<16|d-a|0}}return 0!==A&&(n[d+A]=p-v<<24|4194304),o.bits=g,0}function nZ(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}class n${constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new iX(320),this.work=new iX(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}}let nY,nX,nQ=!0;function nJ(e,t,r,i){let n;let a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new iY(a.wsize)),i>=a.wsize?(i0(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((n=a.wsize-a.wnext)>i&&(n=i),i0(a.window,t,r-i,n,a.wnext),(i-=n)?(i0(a.window,t,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0}function n0(e,t){let r;let i=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?-2:11===r.mode&&n_(1,t,i,0)!==r.check?-3:(nJ(e,t,i,i),r.havedict=1,0):-2}class n1{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}class n2{constructor(e){var t,r,i,n,a;let s,o,c,h,u,l,d;this.options={chunkSize:16384,windowBits:0,...e||{}};let f=this.options;f.raw&&f.windowBits>=0&&f.windowBits<16&&(f.windowBits=-f.windowBits,0===f.windowBits&&(f.windowBits=-15)),!(f.windowBits>=0&&f.windowBits<16)||e&&e.windowBits||(f.windowBits+=32),f.windowBits>15&&f.windowBits<48&&0==(15&f.windowBits)&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nL,this.strm.avail_out=0;let p=(t=this.strm,r=f.windowBits,t?(o=new n$,t.state=o,o.window=null,i=r,0!=(s=t&&t.state?(h=t.state,i<0?(c=0,i=-i):(c=1+(i>>4),i<48&&(i&=15)),i&&(i<8||i>15)?-2:(null!==h.window&&h.wbits!==i&&(h.window=null),h.wrap=c,h.wbits=i,t&&t.state?((u=t.state).wsize=0,u.whave=0,u.wnext=0,t&&t.state?(l=t.state,t.total_in=t.total_out=l.total=0,t.msg="",l.wrap&&(t.adler=1&l.wrap),l.mode=1,l.last=0,l.havedict=0,l.dmax=32768,l.head=null,l.hold=0,l.bits=0,l.lencode=l.lendyn=new iQ(852),l.distcode=l.distdyn=new iQ(592),l.sane=1,l.back=-1,0):-2):-2)):-2)&&(t.state=null),s):-2);if(0!==p||(this.header=new n1,n=this.strm,a=this.header,n&&n.state&&(0==(2&(d=n.state).wrap)||(d.head=a,a.done=!1)),f.dictionary&&("string"==typeof f.dictionary?f.dictionary=nO(f.dictionary):f.dictionary instanceof ArrayBuffer&&(f.dictionary=new Uint8Array(f.dictionary)),f.raw&&0!==(p=n0(this.strm,f.dictionary)))))throw Error(nS[p])}push(e,t){let{strm:r,options:{chunkSize:i,dictionary:n}}=this,a,s,o=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=function(e){let t=new iY(e.length);for(let r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t}(e):e instanceof ArrayBuffer?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new iY(i),r.next_out=0,r.avail_out=i),2===(a=function(e,t){let r,i,n,a,s,o,c,h,u,l,d,f,p,b,y,m,g,w,v,_,k,A,S,E,P=0,M=new iY(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return -2;12===(r=e.state).mode&&(r.mode=13),s=e.next_out,n=e.output,c=e.avail_out,a=e.next_in,i=e.input,o=e.avail_in,h=r.hold,u=r.bits,l=o,d=c,A=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;u<16;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}if(2&r.wrap&&35615===h){r.check=0,M[0]=255&h,M[1]=h>>>8&255,r.check=nA(r.check,M,2,0),h=0,u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",r.mode=30;break}if((15&h)!=8){e.msg="unknown compression method",r.mode=30;break}if(h>>>=4,u-=4,k=8+(15&h),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&h?10:12,h=0,u=0;break;case 2:for(;u<16;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}if(r.flags=h,(255&r.flags)!=8){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=h>>8&1),512&r.flags&&(M[0]=255&h,M[1]=h>>>8&255,r.check=nA(r.check,M,2,0)),h=0,u=0,r.mode=3;case 3:for(;u<32;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}r.head&&(r.head.time=h),512&r.flags&&(M[0]=255&h,M[1]=h>>>8&255,M[2]=h>>>16&255,M[3]=h>>>24&255,r.check=nA(r.check,M,4,0)),h=0,u=0,r.mode=4;case 4:for(;u<16;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}r.head&&(r.head.xflags=255&h,r.head.os=h>>8),512&r.flags&&(M[0]=255&h,M[1]=h>>>8&255,r.check=nA(r.check,M,2,0)),h=0,u=0,r.mode=5;case 5:if(1024&r.flags){for(;u<16;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}r.length=h,r.head&&(r.head.extra_len=h),512&r.flags&&(M[0]=255&h,M[1]=h>>>8&255,r.check=nA(r.check,M,2,0)),h=0,u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((f=r.length)>o&&(f=o),f&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),i0(r.head.extra,i,a,f,k)),512&r.flags&&(r.check=nA(r.check,i,f,a)),o-=f,a+=f,r.length-=f),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;f=0;do k=i[a+f++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&f<o)if(512&r.flags&&(r.check=nA(r.check,i,f,a)),o-=f,a+=f,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;f=0;do k=i[a+f++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&f<o)if(512&r.flags&&(r.check=nA(r.check,i,f,a)),o-=f,a+=f,k)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;u<16;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}if(h!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}h=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;u<32;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}e.adler=r.check=nZ(h),h=0,u=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=h,r.bits=u,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){h>>>=7&u,u-=7&u,r.mode=27;break}for(;u<3;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}switch(r.last=1&h,u-=1,3&(h>>>=1)){case 0:r.mode=14;break;case 1:if(function(e){if(nQ){let t;for(nY=new iQ(512),nX=new iQ(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(nV(1,e.lens,0,288,nY,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;nV(2,e.lens,0,32,nX,0,e.work,{bits:5}),nQ=!1}e.lencode=nY,e.lenbits=9,e.distcode=nX,e.distbits=5}(r),r.mode=20,6===t){h>>>=2,u-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}h>>>=2,u-=2;break;case 14:for(h>>>=7&u,u-=7&u;u<32;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}if((65535&h)!=(h>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&h,h=0,u=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(f=r.length){if(f>o&&(f=o),f>c&&(f=c),0===f)break e;i0(n,i,a,f,s),o-=f,a+=f,c-=f,s+=f,r.length-=f;break}r.mode=12;break;case 17:for(;u<14;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}if(r.nlen=257+(31&h),h>>>=5,u-=5,r.ndist=1+(31&h),h>>>=5,u-=5,r.ncode=4+(15&h),h>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;u<3;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}r.lens[C[r.have++]]=7&h,h>>>=3,u-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},A=nV(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,A){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;y=(P=r.lencode[h&(1<<r.lenbits)-1])>>>24,m=P>>>16&255,g=65535&P,!(y<=u);){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}if(g<16)h>>>=y,u-=y,r.lens[r.have++]=g;else{if(16===g){for(E=y+2;u<E;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}if(h>>>=y,u-=y,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}k=r.lens[r.have-1],f=3+(3&h),h>>>=2,u-=2}else if(17===g){for(E=y+3;u<E;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}h>>>=y,u-=y,k=0,f=3+(7&h),h>>>=3,u-=3}else{for(E=y+7;u<E;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}h>>>=y,u-=y,k=0,f=11+(127&h),h>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;f--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},A=nV(1,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,A){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},A=nV(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,A){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=h,r.bits=u,function(e,t){let r,i,n,a,s,o,c,h,u,l;let d=e.state;r=e.next_in;let f=e.input,p=r+(e.avail_in-5);i=e.next_out;let b=e.output,y=i-(t-e.avail_out),m=i+(e.avail_out-257),g=d.dmax,w=d.wsize,v=d.whave,_=d.wnext,k=d.window;n=d.hold,a=d.bits;let A=d.lencode,S=d.distcode,E=(1<<d.lenbits)-1,P=(1<<d.distbits)-1;e:do for(a<15&&(n+=f[r++]<<a,a+=8,n+=f[r++]<<a,a+=8),s=A[n&E];;){if(n>>>=o=s>>>24,a-=o,0==(o=s>>>16&255))b[i++]=65535&s;else{if(!(16&o)){if(0==(64&o)){s=A[(65535&s)+(n&(1<<o)-1)];continue}if(32&o){d.mode=12;break e}e.msg="invalid literal/length code",d.mode=30;break e}for(c=65535&s,(o&=15)&&(a<o&&(n+=f[r++]<<a,a+=8),c+=n&(1<<o)-1,n>>>=o,a-=o),a<15&&(n+=f[r++]<<a,a+=8,n+=f[r++]<<a,a+=8),s=S[n&P];;){if(n>>>=o=s>>>24,a-=o,!(16&(o=s>>>16&255))){if(0==(64&o)){s=S[(65535&s)+(n&(1<<o)-1)];continue}e.msg="invalid distance code",d.mode=30;break e}if(h=65535&s,a<(o&=15)&&(n+=f[r++]<<a,(a+=8)<o&&(n+=f[r++]<<a,a+=8)),(h+=n&(1<<o)-1)>g){e.msg="invalid distance too far back",d.mode=30;break e}if(n>>>=o,a-=o,h>(o=i-y)){if((o=h-o)>v&&d.sane){e.msg="invalid distance too far back",d.mode=30;break e}if(u=0,l=k,0===_){if(u+=w-o,o<c){c-=o;do b[i++]=k[u++];while(--o)u=i-h,l=b}}else if(_<o){if(u+=w+_-o,(o-=_)<c){c-=o;do b[i++]=k[u++];while(--o)if(u=0,_<c){c-=o=_;do b[i++]=k[u++];while(--o)u=i-h,l=b}}}else if(u+=_-o,o<c){c-=o;do b[i++]=k[u++];while(--o)u=i-h,l=b}for(;c>2;)b[i++]=l[u++],b[i++]=l[u++],b[i++]=l[u++],c-=3;c&&(b[i++]=l[u++],c>1&&(b[i++]=l[u++]))}else{u=i-h;do b[i++]=b[u++],b[i++]=b[u++],b[i++]=b[u++],c-=3;while(c>2)c&&(b[i++]=b[u++],c>1&&(b[i++]=b[u++]))}break}}break}while(r<p&&i<m)r-=c=a>>3,a-=c<<3,n&=(1<<a)-1,e.next_in=r,e.next_out=i,e.avail_in=r<p?p-r+5:5-(r-p),e.avail_out=i<m?m-i+257:257-(i-m),d.hold=n,d.bits=a}(e,d),s=e.next_out,n=e.output,c=e.avail_out,a=e.next_in,i=e.input,o=e.avail_in,h=r.hold,u=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;y=(P=r.lencode[h&(1<<r.lenbits)-1])>>>24,m=P>>>16&255,g=65535&P,!(y<=u);){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}if(m&&0==(240&m)){for(w=y,v=m,_=g;y=(P=r.lencode[_+((h&(1<<w+v)-1)>>w)])>>>24,m=P>>>16&255,g=65535&P,!(w+y<=u);){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}h>>>=w,u-=w,r.back+=w}if(h>>>=y,u-=y,r.back+=y,r.length=g,0===m){r.mode=26;break}if(32&m){r.back=-1,r.mode=12;break}if(64&m){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&m,r.mode=22;case 22:if(r.extra){for(E=r.extra;u<E;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;y=(P=r.distcode[h&(1<<r.distbits)-1])>>>24,m=P>>>16&255,g=65535&P,!(y<=u);){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}if(0==(240&m)){for(w=y,v=m,_=g;y=(P=r.distcode[_+((h&(1<<w+v)-1)>>w)])>>>24,m=P>>>16&255,g=65535&P,!(w+y<=u);){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}h>>>=w,u-=w,r.back+=w}if(h>>>=y,u-=y,r.back+=y,64&m){e.msg="invalid distance code",r.mode=30;break}r.offset=g,r.extra=15&m,r.mode=24;case 24:if(r.extra){for(E=r.extra;u<E;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===c)break e;if(f=d-c,r.offset>f){if((f=r.offset-f)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),b=r.window}else b=n,p=s-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do n[s++]=b[p++];while(--f)0===r.length&&(r.mode=21);break;case 26:if(0===c)break e;n[s++]=r.length,c--,r.mode=21;break;case 27:if(r.wrap){for(;u<32;){if(0===o)break e;o--,h|=i[a++]<<u,u+=8}if(d-=c,e.total_out+=d,r.total+=d,d&&(e.adler=r.check=r.flags?nA(r.check,n,d,s-d):n_(r.check,n,d,s-d)),d=c,(r.flags?h:nZ(h))!==r.check){e.msg="incorrect data check",r.mode=30;break}h=0,u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;u<32;){if(0===o)break e;o--,h+=i[a++]<<u,u+=8}if(h!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}h=0,u=0}r.mode=29;case 29:A=1;break e;case 30:A=-3;break e;default:return -2}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=h,r.bits=u,(r.wsize||d!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&nJ(e,e.output,e.next_out,d-e.avail_out),l-=e.avail_in,d-=e.avail_out,e.total_in+=l,e.total_out+=d,r.total+=d,r.wrap&&d&&(e.adler=r.check=r.flags?nA(r.check,n,d,e.next_out-d):n_(r.check,n,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===l&&0===d||4===t)&&0===A&&(A=-5),A}(r,0))&&n&&(a=n0(this.strm,n)),-5===a&&!0===o&&(a=0,o=!1),1!==a&&0!==a)return this.onEnd(a),this.ended=!0,!1;r.next_out&&(0!==r.avail_out&&1!==a&&(0!==r.avail_in||4!==s&&2!==s)||this.onData(iV(r.output,r.next_out))),0===r.avail_in&&0===r.avail_out&&(o=!0)}while((r.avail_in>0||0===r.avail_out)&&1!==a)return 1===a&&(s=4),4===s?(a=function(e){if(!e||!e.state)return -2;let t=e.state;return t.window&&(t.window=null),e.state=null,0}(this.strm),this.onEnd(a),this.ended=!0,0===a):2!==s||(this.onEnd(0),r.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){0===e&&(this.result=iJ(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}var n3=[0,1,3,7,15,31,63,127,255],n5=function(e){this.stream=e,this.bitOffset=0,this.curByte=0,this.hasByte=!1};n5.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},n5.prototype.read=function(e){for(var t=0;e>0;){this._ensureByte();var r=8-this.bitOffset;if(e>=r)t<<=r,t|=n3[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,e-=r;else{t<<=e;var i=r-e;t|=(this.curByte&n3[e]<<i)>>i,this.bitOffset+=e,e=0}}return t},n5.prototype.seek=function(e){var t=e%8;this.bitOffset=t,this.stream.seek((e-t)/8),this.hasByte=!1},n5.prototype.pi=function(){var e,t=new Uint8Array(6);for(e=0;e<t.length;e++)t[e]=this.read(8);return Array.prototype.map.call(t,e=>("00"+e.toString(16)).slice(-2)).join("")};var n6=function(){};n6.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},n6.prototype.read=function(e,t,r){for(var i=0;i<r;){var n=this.readByte();if(n<0)return 0===i?-1:i;e[t++]=n,i++}return i},n6.prototype.seek=function(e){throw Error("abstract method seek() not implemented")},n6.prototype.writeByte=function(e){throw Error("abstract method readByte() not implemented")},n6.prototype.write=function(e,t,r){var i;for(i=0;i<r;i++)this.writeByte(e[t++]);return r},n6.prototype.flush=function(){};var n4,n8=(n4=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var e=4294967295;this.getCRC=function(){return~e>>>0},this.updateCRC=function(t){e=e<<8^n4[255&(e>>>24^t)]},this.updateCRCRun=function(t,r){for(;r-- >0;)e=e<<8^n4[255&(e>>>24^t)]}}),n7=function(e,t){var r,i=e[t];for(r=t;r>0;r--)e[r]=e[r-1];return e[0]=i,i},n9={LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7},ae={};ae[n9.LAST_BLOCK]="Bad file checksum",ae[n9.NOT_BZIP_DATA]="Not bzip data",ae[n9.UNEXPECTED_INPUT_EOF]="Unexpected input EOF",ae[n9.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF",ae[n9.DATA_ERROR]="Data error",ae[n9.OUT_OF_MEMORY]="Out of memory",ae[n9.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var at=function(e,t){var r=ae[e]||"unknown error";t&&(r+=": "+t);var i=TypeError(r);throw i.errorCode=e,i},ar=function(e,t){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(e,t)};ar.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new n8,!0):(this.writeCount=-1,!1)},ar.prototype._start_bunzip=function(e,t){var r=new Uint8Array(4);4===e.read(r,0,4)&&"BZh"===String.fromCharCode(r[0],r[1],r[2])||at(n9.NOT_BZIP_DATA,"bad magic");var i=r[3]-48;(i<1||i>9)&&at(n9.NOT_BZIP_DATA,"level out of range"),this.reader=new n5(e),this.dbufSize=1e5*i,this.nextoutput=0,this.outputStream=t,this.streamCRC=0},ar.prototype._get_next_block=function(){var e,t,r,i=this.reader,n=i.pi();if("177245385090"===n)return!1;"314159265359"!==n&&at(n9.NOT_BZIP_DATA),this.targetBlockCRC=i.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,i.read(1)&&at(n9.OBSOLETE_INPUT);var a=i.read(24);a>this.dbufSize&&at(n9.DATA_ERROR,"initial position out of bounds");var s=i.read(16),o=new Uint8Array(256),c=0;for(e=0;e<16;e++)if(s&1<<15-e){var h=16*e;for(r=i.read(16),t=0;t<16;t++)r&1<<15-t&&(o[c++]=h+t)}var u=i.read(3);(u<2||u>6)&&at(n9.DATA_ERROR);var l=i.read(15);0===l&&at(n9.DATA_ERROR);var d=new Uint8Array(256);for(e=0;e<u;e++)d[e]=e;var f=new Uint8Array(l);for(e=0;e<l;e++){for(t=0;i.read(1);t++)t>=u&&at(n9.DATA_ERROR);f[e]=n7(d,t)}var p,b=c+2,y=[];for(t=0;t<u;t++){var m,g,w=new Uint8Array(b),v=new Uint16Array(21);for(s=i.read(5),e=0;e<b;e++){for(;(s<1||s>20)&&at(n9.DATA_ERROR),i.read(1);)i.read(1)?s--:s++;w[e]=s}for(m=g=w[0],e=1;e<b;e++)w[e]>g?g=w[e]:w[e]<m&&(m=w[e]);p={},y.push(p),p.permute=new Uint16Array(258),p.limit=new Uint32Array(22),p.base=new Uint32Array(21),p.minLen=m,p.maxLen=g;var _=0;for(e=m;e<=g;e++)for(v[e]=p.limit[e]=0,s=0;s<b;s++)w[s]===e&&(p.permute[_++]=s);for(e=0;e<b;e++)v[w[e]]++;for(_=s=0,e=m;e<g;e++)_+=v[e],p.limit[e]=_-1,_<<=1,s+=v[e],p.base[e+1]=_-s;p.limit[g+1]=Number.MAX_VALUE,p.limit[g]=_+v[g]-1,p.base[m]=0}var k=new Uint32Array(256);for(e=0;e<256;e++)d[e]=e;var A,S=0,E=0,P=0,M=this.dbuf=new Uint32Array(this.dbufSize);for(b=0;;){for(b--||(b=49,P>=l&&at(n9.DATA_ERROR),p=y[f[P++]]),e=p.minLen,t=i.read(e);e>p.maxLen&&at(n9.DATA_ERROR),!(t<=p.limit[e]);e++)t=t<<1|i.read(1);((t-=p.base[e])<0||t>=258)&&at(n9.DATA_ERROR);var C=p.permute[t];if(0!==C&&1!==C){if(S)for(S=0,E+s>this.dbufSize&&at(n9.DATA_ERROR),k[A=o[d[0]]]+=s;s--;)M[E++]=A;if(C>c)break;E>=this.dbufSize&&at(n9.DATA_ERROR),k[A=o[A=n7(d,e=C-1)]]++,M[E++]=A}else S||(S=1,s=0),s+=0===C?S:2*S,S<<=1}for((a<0||a>=E)&&at(n9.DATA_ERROR),t=0,e=0;e<256;e++)r=t+k[e],k[e]=t,t=r;for(e=0;e<E;e++)M[k[A=255&M[e]]]|=e<<8,k[A]++;var x=0,R=0,D=0;return E&&(R=255&(x=M[a]),x>>=8,D=-1),this.writePos=x,this.writeCurrent=R,this.writeCount=E,this.writeRun=D,!0},ar.prototype._read_bunzip=function(e,t){if(this.writeCount<0)return 0;var r,i,n,a=this.dbuf,s=this.writePos,o=this.writeCurrent,c=this.writeCount;this.outputsize;for(var h=this.writeRun;c;){for(c--,i=o,o=255&(s=a[s]),s>>=8,3==h++?(r=o,n=i,o=-1):(r=1,n=o),this.blockCRC.updateCRCRun(n,r);r--;)this.outputStream.writeByte(n),this.nextoutput++;o!=i&&(h=0)}return this.writeCount=c,this.blockCRC.getCRC()!==this.targetBlockCRC&&at(n9.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var ai=function(e){if("readByte"in e)return e;var t=new n6;return t.pos=0,t.readByte=function(){return e[this.pos++]},t.seek=function(e){this.pos=e},t.eof=function(){return this.pos>=e.length},t},an=function(e){var t=new n6,r=!0;if(e){if("number"==typeof e)t.buffer=new Uint8Array(e),r=!1;else{if("writeByte"in e)return e;t.buffer=e,r=!1}}else t.buffer=new Uint8Array(16384);return t.pos=0,t.writeByte=function(e){if(r&&this.pos>=this.buffer.length){var t=new Uint8Array(2*this.buffer.length);t.set(this.buffer),this.buffer=t}this.buffer[this.pos++]=e},t.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw TypeError("outputsize does not match decoded input");var e=new Uint8Array(this.pos);e.set(this.buffer.subarray(0,this.pos)),this.buffer=e}return this.buffer},t._coerced=!0,t},aa=function(e,t,r){for(var i=ai(e),n=an(t),a=new ar(i,n);!("eof"in i)||!i.eof();)if(a._init_block())a._read_bunzip();else{var s=a.reader.read(32)>>>0;if(s!==a.streamCRC&&at(n9.DATA_ERROR,"Bad stream CRC (got "+a.streamCRC.toString(16)+" expected "+s.toString(16)+")"),!r||!("eof"in i)||i.eof())break;a._start_bunzip(i,n)}if("getBuffer"in n)return n.getBuffer()};class as{static get tag(){return eo.packet.literalData}constructor(e=new Date){this.format=eo.literal.utf8,this.date=ee.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e,t=eo.literal.utf8){this.format=t,this.text=e,this.data=null}getText(e=!1){return(null===this.text||ee.isStream(this.text))&&(this.text=ee.decodeUTF8(ee.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,t){this.format=t,this.data=e,this.text=null}getBytes(e=!1){return null===this.data&&(this.data=ee.canonicalizeEOL(ee.encodeUTF8(this.text))),e?G(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}async read(e){await W(e,async e=>{let t=await e.readByte(),r=await e.readByte();this.filename=ee.decodeUTF8(await e.readBytes(r)),this.date=ee.readDate(await e.readBytes(4));let i=e.remainder();m(i)&&(i=await $(i)),this.setBytes(i,t)})}writeHeader(){let e=ee.encodeUTF8(this.filename),t=new Uint8Array([e.length]),r=new Uint8Array([this.format]),i=ee.writeDate(this.date);return ee.concatUint8Array([r,t,e,i])}write(){let e=this.writeHeader(),t=this.getBytes();return ee.concat([e,t])}}const ao=Symbol("verified"),ac=new Set([eo.signatureSubpacket.issuer,eo.signatureSubpacket.issuerFingerprint,eo.signatureSubpacket.embeddedSignature]);class ah{static get tag(){return eo.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new eb,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.revoked=null,this[ao]=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version)throw new r7(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=e[t++],this.publicKeyAlgorithm=e[t++],this.hashAlgorithm=e[t++],t+=this.readSubPackets(e.subarray(t,e.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");this.signatureData=e.subarray(0,t),t+=this.readSubPackets(e.subarray(t,e.length),!1),this.signedHashValue=e.subarray(t,t+2),t+=2,this.params=iH.signature.parseSignatureParams(this.publicKeyAlgorithm,e.subarray(t,e.length))}writeParams(){return this.params instanceof Promise?X(async()=>iH.serializeParams(this.publicKeyAlgorithm,await this.params)):iH.serializeParams(this.publicKeyAlgorithm,this.params)}write(){let e=[];return e.push(this.signatureData),e.push(this.writeUnhashedSubPackets()),e.push(this.signedHashValue),e.push(this.writeParams()),ee.concat(e)}async sign(e,t,r=new Date,i=!1){5===e.version?this.version=5:this.version=4;let n=[new Uint8Array([this.version,this.signatureType,this.publicKeyAlgorithm,this.hashAlgorithm])];this.created=ee.normalizeDate(r),this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyID=e.getKeyID(),n.push(this.writeHashedSubPackets()),this.unhashedSubpackets=[],this.signatureData=ee.concat(n);let a=this.toHash(this.signatureType,t,i),s=await this.hash(this.signatureType,t,a,i);this.signedHashValue=Z(H(s),0,2);let o=async()=>iH.signature.sign(this.publicKeyAlgorithm,this.hashAlgorithm,e.publicParams,e.privateParams,a,await $(s));ee.isStream(s)?this.params=o():(this.params=await o(),this[ao]=!0)}writeHashedSubPackets(){let e;let t=eo.signatureSubpacket,r=[];if(null===this.created)throw Error("Missing signature creation time");r.push(au(t.signatureCreationTime,!0,ee.writeDate(this.created))),null!==this.signatureExpirationTime&&r.push(au(t.signatureExpirationTime,!0,ee.writeNumber(this.signatureExpirationTime,4))),null!==this.exportable&&r.push(au(t.exportableCertification,!0,new Uint8Array([this.exportable?1:0]))),null!==this.trustLevel&&(e=new Uint8Array([this.trustLevel,this.trustAmount]),r.push(au(t.trustSignature,!0,e))),null!==this.regularExpression&&r.push(au(t.regularExpression,!0,this.regularExpression)),null!==this.revocable&&r.push(au(t.revocable,!0,new Uint8Array([this.revocable?1:0]))),null!==this.keyExpirationTime&&r.push(au(t.keyExpirationTime,!0,ee.writeNumber(this.keyExpirationTime,4))),null!==this.preferredSymmetricAlgorithms&&(e=ee.stringToUint8Array(ee.uint8ArrayToString(this.preferredSymmetricAlgorithms)),r.push(au(t.preferredSymmetricAlgorithms,!1,e))),null!==this.revocationKeyClass&&(e=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),e=ee.concat([e,this.revocationKeyFingerprint]),r.push(au(t.revocationKey,!1,e))),this.issuerKeyID.isNull()||5===this.issuerKeyVersion||r.push(au(t.issuer,!0,this.issuerKeyID.write())),this.rawNotations.forEach(({name:i,value:n,humanReadable:a,critical:s})=>{e=[new Uint8Array([a?128:0,0,0,0])];let o=ee.encodeUTF8(i);e.push(ee.writeNumber(o.length,2)),e.push(ee.writeNumber(n.length,2)),e.push(o),e.push(n),e=ee.concat(e),r.push(au(t.notationData,s,e))}),null!==this.preferredHashAlgorithms&&(e=ee.stringToUint8Array(ee.uint8ArrayToString(this.preferredHashAlgorithms)),r.push(au(t.preferredHashAlgorithms,!1,e))),null!==this.preferredCompressionAlgorithms&&(e=ee.stringToUint8Array(ee.uint8ArrayToString(this.preferredCompressionAlgorithms)),r.push(au(t.preferredCompressionAlgorithms,!1,e))),null!==this.keyServerPreferences&&(e=ee.stringToUint8Array(ee.uint8ArrayToString(this.keyServerPreferences)),r.push(au(t.keyServerPreferences,!1,e))),null!==this.preferredKeyServer&&r.push(au(t.preferredKeyServer,!1,ee.encodeUTF8(this.preferredKeyServer))),null!==this.isPrimaryUserID&&r.push(au(t.primaryUserID,!1,new Uint8Array([this.isPrimaryUserID?1:0]))),null!==this.policyURI&&r.push(au(t.policyURI,!1,ee.encodeUTF8(this.policyURI))),null!==this.keyFlags&&(e=ee.stringToUint8Array(ee.uint8ArrayToString(this.keyFlags)),r.push(au(t.keyFlags,!0,e))),null!==this.signersUserID&&r.push(au(t.signersUserID,!1,ee.encodeUTF8(this.signersUserID))),null!==this.reasonForRevocationFlag&&(e=ee.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),r.push(au(t.reasonForRevocation,!0,e))),null!==this.features&&(e=ee.stringToUint8Array(ee.uint8ArrayToString(this.features)),r.push(au(t.features,!1,e))),null!==this.signatureTargetPublicKeyAlgorithm&&((e=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])]).push(ee.stringToUint8Array(this.signatureTargetHash)),e=ee.concat(e),r.push(au(t.signatureTarget,!0,e))),null!==this.embeddedSignature&&r.push(au(t.embeddedSignature,!0,this.embeddedSignature.write())),null!==this.issuerFingerprint&&(e=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],e=ee.concat(e),r.push(au(t.issuerFingerprint,5===this.version,e))),null!==this.preferredAEADAlgorithms&&(e=ee.stringToUint8Array(ee.uint8ArrayToString(this.preferredAEADAlgorithms)),r.push(au(t.preferredAEADAlgorithms,!1,e)));let i=ee.concat(r),n=ee.writeNumber(i.length,2);return ee.concat([n,i])}writeUnhashedSubPackets(){let e=[];this.unhashedSubpackets.forEach(t=>{e.push(r3(t.length)),e.push(t)});let t=ee.concat(e),r=ee.writeNumber(t.length,2);return ee.concat([r,t])}readSubPacket(e,t=!0){let r=0,i=!!(128&e[r]),n=127&e[r];if(t||(this.unhashedSubpackets.push(e.subarray(r,e.length)),ac.has(n)))switch(r++,n){case eo.signatureSubpacket.signatureCreationTime:this.created=ee.readDate(e.subarray(r,e.length));break;case eo.signatureSubpacket.signatureExpirationTime:{let t=ee.readNumber(e.subarray(r,e.length));this.signatureNeverExpires=0===t,this.signatureExpirationTime=t;break}case eo.signatureSubpacket.exportableCertification:this.exportable=1===e[r++];break;case eo.signatureSubpacket.trustSignature:this.trustLevel=e[r++],this.trustAmount=e[r++];break;case eo.signatureSubpacket.regularExpression:this.regularExpression=e[r];break;case eo.signatureSubpacket.revocable:this.revocable=1===e[r++];break;case eo.signatureSubpacket.keyExpirationTime:{let t=ee.readNumber(e.subarray(r,e.length));this.keyExpirationTime=t,this.keyNeverExpires=0===t;break}case eo.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...e.subarray(r,e.length)];break;case eo.signatureSubpacket.revocationKey:this.revocationKeyClass=e[r++],this.revocationKeyAlgorithm=e[r++],this.revocationKeyFingerprint=e.subarray(r,r+20);break;case eo.signatureSubpacket.issuer:this.issuerKeyID.read(e.subarray(r,e.length));break;case eo.signatureSubpacket.notationData:{let t=!!(128&e[r]);r+=4;let n=ee.readNumber(e.subarray(r,r+2));r+=2;let a=ee.readNumber(e.subarray(r,r+2));r+=2;let s=ee.decodeUTF8(e.subarray(r,r+n)),o=e.subarray(r+n,r+n+a);this.rawNotations.push({name:s,humanReadable:t,value:o,critical:i}),t&&(this.notations[s]=ee.decodeUTF8(o));break}case eo.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...e.subarray(r,e.length)];break;case eo.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...e.subarray(r,e.length)];break;case eo.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...e.subarray(r,e.length)];break;case eo.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=ee.decodeUTF8(e.subarray(r,e.length));break;case eo.signatureSubpacket.primaryUserID:this.isPrimaryUserID=0!==e[r++];break;case eo.signatureSubpacket.policyURI:this.policyURI=ee.decodeUTF8(e.subarray(r,e.length));break;case eo.signatureSubpacket.keyFlags:this.keyFlags=[...e.subarray(r,e.length)];break;case eo.signatureSubpacket.signersUserID:this.signersUserID=ee.decodeUTF8(e.subarray(r,e.length));break;case eo.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=e[r++],this.reasonForRevocationString=ee.decodeUTF8(e.subarray(r,e.length));break;case eo.signatureSubpacket.features:this.features=[...e.subarray(r,e.length)];break;case eo.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=e[r++],this.signatureTargetHashAlgorithm=e[r++];let t=iH.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=ee.uint8ArrayToString(e.subarray(r,r+t));break}case eo.signatureSubpacket.embeddedSignature:this.embeddedSignature=new ah,this.embeddedSignature.read(e.subarray(r,e.length));break;case eo.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=e[r++],this.issuerFingerprint=e.subarray(r,e.length),5===this.issuerKeyVersion?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case eo.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...e.subarray(r,e.length)];break;default:{let e=Error("Unknown signature subpacket type "+n);if(i)throw e;ee.printDebug(e)}}}readSubPackets(e,t=!0,r){let i=ee.readNumber(e.subarray(0,2)),n=2;for(;n<2+i;){let i=r2(e.subarray(n,e.length));n+=i.offset,this.readSubPacket(e.subarray(n,n+i.len),t,r),n+=i.len}return n}toSign(e,t){let r=eo.signature;switch(e){case r.binary:return null!==t.text?ee.encodeUTF8(t.getText(!0)):t.getBytes(!0);case r.text:{let e=t.getBytes(!0);return ee.canonicalizeEOL(e)}case r.standalone:return new Uint8Array(0);case r.certGeneric:case r.certPersona:case r.certCasual:case r.certPositive:case r.certRevocation:{let e,i;if(t.userID)i=180,e=t.userID;else{if(!t.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");i=209,e=t.userAttribute}let n=e.write();return ee.concat([this.toSign(r.key,t),new Uint8Array([i]),ee.writeNumber(n.length,4),n])}case r.subkeyBinding:case r.subkeyRevocation:case r.keyBinding:return ee.concat([this.toSign(r.key,t),this.toSign(r.key,{key:t.bind})]);case r.key:if(void 0===t.key)throw Error("Key packet is required for this signature.");return t.key.writeForHash(this.version);case r.keyRevocation:return this.toSign(r.key,t);case r.timestamp:return new Uint8Array(0);case r.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(e,t){let r=0;return N(H(this.signatureData),e=>{r+=e.length},()=>{let i=[];return 5!==this.version||this.signatureType!==eo.signature.binary&&this.signatureType!==eo.signature.text||(t?i.push(new Uint8Array(6)):i.push(e.writeHeader())),i.push(new Uint8Array([this.version,255])),5===this.version&&i.push(new Uint8Array(4)),i.push(ee.writeNumber(r,4)),ee.concat(i)})}toHash(e,t,r=!1){let i=this.toSign(e,t);return ee.concat([i,this.signatureData,this.calculateTrailer(t,r)])}async hash(e,t,r,i=!1){return r||(r=this.toHash(e,t,i)),iH.hash.digest(this.hashAlgorithm,r)}async verify(e,t,r,i=new Date,n=!1,a=ec){if(!this.issuerKeyID.equals(e.getKeyID()))throw Error("Signature was not issued by the given public key");if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");let s=t===eo.signature.binary||t===eo.signature.text;if(!(this[ao]&&!s)){let i,a;if(this.hashed?a=await this.hashed:(i=this.toHash(t,r,n),a=await this.hash(t,r,i)),a=await $(a),this.signedHashValue[0]!==a[0]||this.signedHashValue[1]!==a[1])throw Error("Signed digest did not match");if(this.params=await this.params,this[ao]=await iH.signature.verify(this.publicKeyAlgorithm,this.hashAlgorithm,this.params,e.publicParams,i,a),!this[ao])throw Error("Signature verification failed")}let o=ee.normalizeDate(i);if(o&&this.created>o)throw Error("Signature creation time is in the future");if(o&&o>=this.getExpirationTime())throw Error("Signature is expired");if(a.rejectHashAlgorithms.has(this.hashAlgorithm))throw Error("Insecure hash algorithm: "+eo.read(eo.hash,this.hashAlgorithm).toUpperCase());if(a.rejectMessageHashAlgorithms.has(this.hashAlgorithm)&&[eo.signature.binary,eo.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+eo.read(eo.hash,this.hashAlgorithm).toUpperCase());if(this.rawNotations.forEach(({name:e,critical:t})=>{if(t&&0>a.knownNotations.indexOf(e))throw Error("Unknown critical notation: "+e)}),null!==this.revocationKeyClass)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")}isExpired(e=new Date){let t=ee.normalizeDate(e);return null!==t&&!(this.created<=t&&t<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function au(e,t,r){let i=[];return i.push(r3(r.length+1)),i.push(new Uint8Array([(t?128:0)|e])),i.push(r),ee.concat(i)}class al{static get tag(){return eo.packet.onePassSignature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyID=null,this.flags=null}read(e){let t=0;if(this.version=e[t++],3!==this.version)throw new r7(`Version ${this.version} of the one-pass signature packet is unsupported.`);return this.signatureType=e[t++],this.hashAlgorithm=e[t++],this.publicKeyAlgorithm=e[t++],this.issuerKeyID=new eb,this.issuerKeyID.read(e.subarray(t,t+8)),t+=8,this.flags=e[t++],this}write(){let e=new Uint8Array([3,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm]),t=new Uint8Array([this.flags]);return ee.concatUint8Array([e,this.issuerKeyID.write(),t])}calculateTrailer(...e){return X(async()=>ah.prototype.calculateTrailer.apply(await this.correspondingSig,e))}async verify(){let e=await this.correspondingSig;if(!e||e.constructor.tag!==eo.packet.signature)throw Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyID.equals(this.issuerKeyID))throw Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)}}al.prototype.hash=ah.prototype.hash,al.prototype.toHash=ah.prototype.toHash,al.prototype.toSign=ah.prototype.toSign;class ad extends Array{static async fromBinary(e,t,r=ec){let i=new ad;return await i.read(e,t,r),i}async read(e,t,r=ec){r.additionalAllowedPackets.length&&(t={...t,...ee.constructAllowedPackets(r.additionalAllowedPackets)}),this.stream=j(e,async(e,i)=>{let n=q(i);try{for(;;)if(await n.ready,await r8(e,async e=>{try{if(e.tag===eo.packet.marker||e.tag===eo.packet.trust)return;let i=function(e,t){if(!t[e]){let t;try{t=eo.read(eo.packet,e)}catch(t){throw new r7("Unknown packet type with tag: "+e)}throw Error("Packet not allowed in this context: "+t)}return new t[e]}(e.tag,t);i.packets=new ad,i.fromStream=ee.isStream(e.packet),await i.read(e.packet,r),await n.write(i)}catch(a){let t=!r.ignoreUnsupportedPackets&&a instanceof r7,i=!(r.ignoreMalformedPackets||a instanceof r7);if(t||i||r4(e.tag))await n.abort(a);else{let t=new r9(e.tag,e.packet);await n.write(t)}ee.printDebugError(a)}}))return await n.ready,void await n.close()}catch(e){await n.abort(e)}});let i=z(this.stream);for(;;){let{done:e,value:t}=await i.read();if(e?this.stream=null:this.push(t),e||r4(t.constructor.tag))break}i.releaseLock()}write(){let e=[];for(let t=0;t<this.length;t++){let r=this[t]instanceof r9?this[t].tag:this[t].constructor.tag,i=this[t].write();if(ee.isStream(i)&&r4(this[t].constructor.tag)){let t=[],n=0;e.push(r5(r)),e.push(N(i,e=>{if(t.push(e),(n+=e.length)>=512){let e=Math.min(Math.log(n)/Math.LN2|0,30),r=2**e,i=ee.concat([function(e){if(e<0||e>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+e])}(e)].concat(t));return n=(t=[i.subarray(1+r)])[0].length,i.subarray(0,1+r)}},()=>ee.concat([r3(n)].concat(t))))}else{if(ee.isStream(i)){let t=0;e.push(N(H(i),e=>{t+=e.length},()=>r6(r,t)))}else e.push(r6(r,i.length));e.push(i)}}return ee.concat(e)}filterByTag(...e){let t=new ad,r=e=>t=>e===t;for(let i=0;i<this.length;i++)e.some(r(this[i].constructor.tag))&&t.push(this[i]);return t}findPacket(e){return this.find(t=>t.constructor.tag===e)}indexOfTag(...e){let t=[],r=e=>t=>e===t;for(let i=0;i<this.length;i++)e.some(r(this[i].constructor.tag))&&t.push(i);return t}}const af=ee.constructAllowedPackets([as,al,ah]),ap=ee.getNodeZlib();function ab(e){return e}function ay(r,i,n={}){return function(a){return!ee.isStream(a)||m(a)?X(()=>$(a).then(e=>new Promise((t,i)=>{r(e,n,(e,r)=>{if(e)return i(e);t(r)})}))):e(t(a).pipe(i(n)))}}function am(e,t={}){return function(r){let i=new e(t);return N(r,e=>{if(e.length)return i.push(e,2),i.result},()=>{if(e===nN)return i.push([],4),i.result})}}function ag(e){return function(t){return X(async()=>e(await $(t)))}}const aw=ap?{zip:(e,t)=>ay(ap.deflateRaw,ap.createDeflateRaw,{level:t})(e),zlib:(e,t)=>ay(ap.deflate,ap.createDeflate,{level:t})(e)}:{zip:(e,t)=>am(nN,{raw:!0,level:t})(e),zlib:(e,t)=>am(nN,{level:t})(e)},av=ap?{uncompressed:ab,zip:ay(ap.inflateRaw,ap.createInflateRaw),zlib:ay(ap.inflate,ap.createInflate),bzip2:ag(aa)}:{uncompressed:ab,zip:am(n2,{raw:!0}),zlib:am(n2),bzip2:ag(aa)},a_=ee.constructAllowedPackets([as,class e{static get tag(){return eo.packet.compressedData}constructor(e=ec){this.packets=null,this.algorithm=e.preferredCompressionAlgorithm,this.compressed=null,this.deflateLevel=e.deflateLevel}async read(e,t=ec){await W(e,async e=>{this.algorithm=await e.readByte(),this.compressed=e.remainder(),await this.decompress(t)})}write(){return null===this.compressed&&this.compress(),ee.concat([new Uint8Array([this.algorithm]),this.compressed])}async decompress(e=ec){let t=eo.read(eo.compression,this.algorithm),r=av[t];if(!r)throw Error(t+" decompression not supported");this.packets=await ad.fromBinary(r(this.compressed),af,e)}compress(){let e=eo.read(eo.compression,this.algorithm),t=aw[e];if(!t)throw Error(e+" compression not supported");this.compressed=t(this.packets.write(),this.deflateLevel)}},al,ah]);class ak{static get tag(){return eo.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=eo.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(e){await W(e,async e=>{let t=await e.readByte();if(1!==t)throw new r7(`Version ${t} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgorithm=await e.readByte(),this.aeadAlgorithm=await e.readByte(),this.chunkSizeByte=await e.readByte();let r=iH.getAEADMode(this.aeadAlgorithm);this.iv=await e.readBytes(r.ivLength),this.encrypted=e.remainder()})}write(){return ee.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(e,t,r=ec){this.packets=await ad.fromBinary(await this.crypt("decrypt",t,H(this.encrypted)),a_,r)}async encrypt(e,t,r=ec){this.cipherAlgorithm=e;let{ivLength:i}=iH.getAEADMode(this.aeadAlgorithm);this.iv=iH.random.getRandomBytes(i),this.chunkSizeByte=r.aeadChunkSizeByte;let n=this.packets.write();this.encrypted=await this.crypt("encrypt",t,n)}async crypt(e,t,r){let i=iH.getAEADMode(this.aeadAlgorithm),n=await i(this.cipherAlgorithm,t),a="decrypt"===e?i.tagLength:0,s="encrypt"===e?i.tagLength:0,o=2**(this.chunkSizeByte+6)+a,c=new ArrayBuffer(21),h=new Uint8Array(c,0,13),u=new Uint8Array(c),l=new DataView(c),d=new Uint8Array(c,5,8);h.set([192|ak.tag,this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte],0);let f=0,p=Promise.resolve(),b=0,y=0,m=this.iv;return j(r,async(t,r)=>{if("array"!==ee.isStream(t)){let e=new I({},{highWaterMark:ee.getHardwareConcurrency()*2**(this.chunkSizeByte+6),size:e=>e.length});F(e.readable,r),r=e.writable}let c=z(t),g=q(r);try{for(;;){let t,r,w=await c.readBytes(o+a)||new Uint8Array,v=w.subarray(w.length-a);if(w=w.subarray(0,w.length-a),!f||w.length?(c.unshift(v),t=n[e](w,i.getNonce(m,d),h),y+=w.length-a+s):(l.setInt32(17,b),t=n[e](v,i.getNonce(m,d),u),y+=s,r=!0),b+=w.length-a,p=p.then(()=>t).then(async e=>{await g.ready,await g.write(e),y-=e.length}).catch(e=>g.abort(e)),(r||y>g.desiredSize)&&await p,r){await g.close();break}l.setInt32(9,++f)}}catch(e){await g.abort(e)}})}}class aA{constructor(e=ec){this.algorithm=eo.hash.sha256,this.type="iterated",this.c=e.s2kIterationCountByte,this.salt=null}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(e){let t=0;switch(this.type=eo.read(eo.s2k,e[t++]),this.algorithm=e[t++],this.type){case"simple":break;case"salted":this.salt=e.subarray(t,t+8),t+=8;break;case"iterated":this.salt=e.subarray(t,t+8),t+=8,this.c=e[t++];break;case"gnu":if("GNU"!==ee.uint8ArrayToString(e.subarray(t,t+3)))throw Error("Unknown s2k type.");if(t+=3,1001!==1e3+e[t++])throw Error("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw Error("Unknown s2k type.")}return t}write(){if("gnu-dummy"===this.type)return new Uint8Array([101,0,...ee.stringToUint8Array("GNU"),1]);let e=[new Uint8Array([eo.write(eo.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return ee.concatUint8Array(e)}async produceKey(e,t){e=ee.encodeUTF8(e);let r=[],i=0,n=0;for(;i<t;){let t;switch(this.type){case"simple":t=ee.concatUint8Array([new Uint8Array(n),e]);break;case"salted":t=ee.concatUint8Array([new Uint8Array(n),this.salt,e]);break;case"iterated":{let r=ee.concatUint8Array([this.salt,e]),i=r.length,a=Math.max(this.getCount(),i);(t=new Uint8Array(n+a)).set(r,n);for(let e=n+i;e<a;e+=i,i*=2)t.copyWithin(e,n,e);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}let a=await iH.hash.digest(this.algorithm,t);r.push(a),i+=a.length,n++}return ee.concatUint8Array(r).subarray(0,t)}}class aS{static get tag(){return eo.packet.symEncryptedSessionKey}constructor(e=ec){this.version=e.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=eo.symmetric.aes256,this.aeadAlgorithm=eo.write(eo.aead,e.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version)throw new r7(`Version ${this.version} of the SKESK packet is unsupported.`);let r=e[t++];if(5===this.version&&(this.aeadAlgorithm=e[t++]),this.s2k=new aA,t+=this.s2k.read(e.subarray(t,e.length)),5===this.version){let r=iH.getAEADMode(this.aeadAlgorithm);this.iv=e.subarray(t,t+=r.ivLength)}5===this.version||t<e.length?(this.encrypted=e.subarray(t,e.length),this.sessionKeyEncryptionAlgorithm=r):this.sessionKeyAlgorithm=r}write(){let e;let t=null===this.encrypted?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;return 5===this.version?e=ee.concatUint8Array([new Uint8Array([this.version,t,this.aeadAlgorithm]),this.s2k.write(),this.iv,this.encrypted]):(e=ee.concatUint8Array([new Uint8Array([this.version,t]),this.s2k.write()]),null!==this.encrypted&&(e=ee.concatUint8Array([e,this.encrypted]))),e}async decrypt(e){let t=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,{blockSize:r,keySize:i}=iH.getCipher(t),n=await this.s2k.produceKey(e,i);if(5===this.version){let e=iH.getAEADMode(this.aeadAlgorithm),r=new Uint8Array([192|aS.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),i=await e(t,n);this.sessionKey=await i.decrypt(this.encrypted,this.iv,r)}else if(null!==this.encrypted){let e=await iH.mode.cfb.decrypt(t,n,this.encrypted,new Uint8Array(r));this.sessionKeyAlgorithm=eo.write(eo.symmetric,e[0]),this.sessionKey=e.subarray(1,e.length)}else this.sessionKey=n}async encrypt(e,t=ec){let r=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=r,this.s2k=new aA(t),this.s2k.salt=iH.random.getRandomBytes(8);let{blockSize:i,keySize:n}=iH.getCipher(r),a=await this.s2k.produceKey(e,n);if(null===this.sessionKey&&(this.sessionKey=iH.generateSessionKey(this.sessionKeyAlgorithm)),5===this.version){let e=iH.getAEADMode(this.aeadAlgorithm);this.iv=iH.random.getRandomBytes(e.ivLength);let t=new Uint8Array([192|aS.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),i=await e(r,a);this.encrypted=await i.encrypt(this.sessionKey,this.iv,t)}else{let e=ee.concatUint8Array([new Uint8Array([this.sessionKeyAlgorithm]),this.sessionKey]);this.encrypted=await iH.mode.cfb.encrypt(r,a,e,new Uint8Array(i),t)}}}class aE{static get tag(){return eo.packet.publicKey}constructor(e=new Date,t=ec){this.version=t.v5Keys?5:4,this.created=ee.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(e){let t=new aE,{version:r,created:i,algorithm:n,publicParams:a,keyID:s,fingerprint:o}=e;return t.version=r,t.created=i,t.algorithm=n,t.publicParams=a,t.keyID=s,t.fingerprint=o,t}async read(e){let t=0;if(this.version=e[t++],4===this.version||5===this.version){this.created=ee.readDate(e.subarray(t,t+4)),t+=4,this.algorithm=e[t++],5===this.version&&(t+=4);let{read:r,publicParams:i}=iH.parsePublicKeyParams(this.algorithm,e.subarray(t));return this.publicParams=i,t+=r,await this.computeFingerprintAndKeyID(),t}throw new r7(`Version ${this.version} of the key packet is unsupported.`)}write(){let e=[];e.push(new Uint8Array([this.version])),e.push(ee.writeDate(this.created)),e.push(new Uint8Array([this.algorithm]));let t=iH.serializeParams(this.algorithm,this.publicParams);return 5===this.version&&e.push(ee.writeNumber(t.length,4)),e.push(t),ee.concatUint8Array(e)}writeForHash(e){let t=this.writePublicKey();return 5===e?ee.concatUint8Array([new Uint8Array([154]),ee.writeNumber(t.length,4),t]):ee.concatUint8Array([new Uint8Array([153]),ee.writeNumber(t.length,2),t])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}async computeFingerprintAndKeyID(){if(await this.computeFingerprint(),this.keyID=new eb,5===this.version)this.keyID.read(this.fingerprint.subarray(0,8));else{if(4!==this.version)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}}async computeFingerprint(){let e=this.writeForHash(this.version);if(5===this.version)this.fingerprint=await iH.hash.sha256(e);else{if(4!==this.version)throw Error("Unsupported key version");this.fingerprint=await iH.hash.sha1(e)}}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return ee.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&ee.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){let e={};e.algorithm=eo.read(eo.publicKey,this.algorithm);let t=this.publicParams.n||this.publicParams.p;return t?e.bits=ee.uint8ArrayBitLength(t):e.curve=this.publicParams.oid.getName(),e}}aE.prototype.readPublicKey=aE.prototype.read,aE.prototype.writePublicKey=aE.prototype.write;class aP extends aE{static get tag(){return eo.packet.publicSubkey}constructor(e,t){super(e,t)}static fromSecretSubkeyPacket(e){let t=new aP,{version:r,created:i,algorithm:n,publicParams:a,keyID:s,fingerprint:o}=e;return t.version=r,t.created=i,t.algorithm=n,t.publicParams=a,t.keyID=s,t.fingerprint=o,t}}class aM{static get tag(){return eo.packet.userAttribute}constructor(){this.attributes=[]}read(e){let t=0;for(;t<e.length;){let r=r2(e.subarray(t,e.length));t+=r.offset,this.attributes.push(ee.uint8ArrayToString(e.subarray(t,t+r.len))),t+=r.len}}write(){let e=[];for(let t=0;t<this.attributes.length;t++)e.push(r3(this.attributes[t].length)),e.push(ee.stringToUint8Array(this.attributes[t]));return ee.concatUint8Array(e)}equals(e){return!!(e&&e instanceof aM)&&this.attributes.every(function(t,r){return t===e.attributes[r]})}}class aC extends aE{static get tag(){return eo.packet.secretKey}constructor(e=new Date,t=ec){super(e,t),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}async read(e){let t=await this.readPublicKey(e);if(this.s2kUsage=e[t++],5===this.version&&t++,255===this.s2kUsage||254===this.s2kUsage||253===this.s2kUsage){if(this.symmetric=e[t++],253===this.s2kUsage&&(this.aead=e[t++]),this.s2k=new aA,t+=this.s2k.read(e.subarray(t,e.length)),"gnu-dummy"===this.s2k.type)return}else this.s2kUsage&&(this.symmetric=this.s2kUsage);if(this.s2kUsage&&(this.iv=e.subarray(t,t+iH.getCipher(this.symmetric).blockSize),t+=this.iv.length),5===this.version&&(t+=4),this.keyMaterial=e.subarray(t),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){let e=this.keyMaterial.subarray(0,-2);if(!ee.equalsUint8Array(ee.writeChecksum(e),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{let{privateParams:t}=iH.parsePrivateKeyParams(this.algorithm,e,this.publicParams);this.privateParams=t}catch(e){if(e instanceof r7)throw e;throw Error("Error reading MPIs")}}}write(){let e=[this.writePublicKey()];e.push(new Uint8Array([this.s2kUsage]));let t=[];return 255!==this.s2kUsage&&254!==this.s2kUsage&&253!==this.s2kUsage||(t.push(this.symmetric),253===this.s2kUsage&&t.push(this.aead),t.push(...this.s2k.write())),this.s2kUsage&&"gnu-dummy"!==this.s2k.type&&t.push(...this.iv),5===this.version&&e.push(new Uint8Array([t.length])),e.push(new Uint8Array(t)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=iH.serializeParams(this.algorithm,this.privateParams)),5===this.version&&e.push(ee.writeNumber(this.keyMaterial.length,4)),e.push(this.keyMaterial),this.s2kUsage||e.push(ee.writeChecksum(this.keyMaterial))),ee.concatUint8Array(e)}isDecrypted(){return!1===this.isEncrypted}isDummy(){return!(!this.s2k||"gnu-dummy"!==this.s2k.type)}makeDummy(e=ec){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),this.isEncrypted=null,this.keyMaterial=null,this.s2k=new aA(e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=eo.symmetric.aes256)}async encrypt(e,t=ec){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(!e)throw Error("A non-empty passphrase is required for key encryption.");this.s2k=new aA(t),this.s2k.salt=iH.random.getRandomBytes(8);let r=iH.serializeParams(this.algorithm,this.privateParams);this.symmetric=eo.symmetric.aes256;let i=await ax(this.s2k,e,this.symmetric),{blockSize:n}=iH.getCipher(this.symmetric);if(this.iv=iH.random.getRandomBytes(n),t.aeadProtect){this.s2kUsage=253,this.aead=eo.aead.eax;let e=iH.getAEADMode(this.aead),t=await e(this.symmetric,i);this.keyMaterial=await t.encrypt(r,this.iv.subarray(0,e.ivLength),new Uint8Array)}else this.s2kUsage=254,this.keyMaterial=await iH.mode.cfb.encrypt(this.symmetric,i,ee.concatUint8Array([r,await iH.hash.sha1(r,t)]),this.iv,t)}async decrypt(e){let t,r;if(this.isDummy())return!1;if(this.isDecrypted())throw Error("Key packet is already decrypted.");if(254!==this.s2kUsage&&253!==this.s2kUsage)throw 255===this.s2kUsage?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");if(t=await ax(this.s2k,e,this.symmetric),253===this.s2kUsage){let e=iH.getAEADMode(this.aead),i=await e(this.symmetric,t);try{r=await i.decrypt(this.keyMaterial,this.iv.subarray(0,e.ivLength),new Uint8Array)}catch(e){if("Authentication tag mismatch"===e.message)throw Error("Incorrect key passphrase: "+e.message);throw e}}else{let e=await iH.mode.cfb.decrypt(this.symmetric,t,this.keyMaterial,this.iv);r=e.subarray(0,-20);let i=await iH.hash.sha1(r);if(!ee.equalsUint8Array(i,e.subarray(-20)))throw Error("Incorrect key passphrase")}try{let{privateParams:e}=iH.parsePrivateKeyParams(this.algorithm,r,this.publicParams);this.privateParams=e}catch(e){throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0}async validate(){let e;if(!this.isDummy()){if(!this.isDecrypted())throw Error("Key is not decrypted");try{e=await iH.validateParams(this.algorithm,this.publicParams,this.privateParams)}catch(t){e=!1}if(!e)throw Error("Key is invalid")}}async generate(e,t){let{privateParams:r,publicParams:i}=await iH.generateParams(this.algorithm,e,t);this.privateParams=r,this.publicParams=i,this.isEncrypted=!1}clearPrivateParams(){this.isDummy()||(Object.keys(this.privateParams).forEach(e=>{this.privateParams[e].fill(0),delete this.privateParams[e]}),this.privateParams=null,this.isEncrypted=!0)}}async function ax(e,t,r){let{keySize:i}=iH.getCipher(r);return e.produceKey(t,i)}var aR=e2(function(e){!function(t){function r(e){var t,r,n,a,s;function o(){r=0,n=t.length}function c(e,t){return{name:e,tokens:t||"",semantic:t||"",children:[]}}function h(e,t){var r;return null===t?null:((r=c(e)).tokens=t.tokens,r.semantic=t.semantic,r.children.push(t),r)}function u(e,t){return null!==t&&(e.tokens+=t.tokens,e.semantic+=t.semantic),e.children.push(t),e}function l(e){var i;return r<n&&e(i=t[r])?(r+=1,c("token",i)):null}function d(e){return function(){return h("literal",l(function(t){return t===e}))}}function f(){var e=arguments;return function(){var t,i,n,a;for(a=r,i=c("and"),t=0;t<e.length;t+=1){if(null===(n=e[t]()))return r=a,null;u(i,n)}return i}}function p(){var e=arguments;return function(){var t,i,n;for(n=r,t=0;t<e.length;t+=1){if(null!==(i=e[t]()))return i;r=n}return null}}function b(e){return function(){var t,i;return i=r,null!==(t=e())?t:(r=i,c("opt"))}}function y(e){return function(){var t=e();return null!==t&&(t.semantic=""),t}}function m(e){return function(){var t=e();return null!==t&&t.semantic.length>0&&(t.semantic=" "),t}}function g(e,t){return function(){var i,n,a,s;for(s=r,i=c("star"),a=0;null!==(n=e());)a+=1,u(i,n);return a>=(void 0===t?0:t)?i:(r=s,null)}}function w(e){return e.charCodeAt(0)>=128}function v(){return h("cr",d("\r")())}function _(){return h("crlf",f(v,S)())}function k(){return h("dquote",d('"')())}function A(){return h("htab",d("	")())}function S(){return h("lf",d("\n")())}function E(){return h("sp",d(" ")())}function P(){return h("vchar",l(function(t){var r=t.charCodeAt(0),i=33<=r&&r<=126;return e.rfc6532&&(i=i||w(t)),i}))}function M(){return h("wsp",p(E,A)())}function C(){var e=h("quoted-pair",p(f(d("\\"),p(P,M)),ea)());return null===e?null:(e.semantic=e.semantic[1],e)}function x(){return h("fws",p(eo,f(b(f(g(M),y(_))),g(M,1)))())}function R(){return h("ctext",p(function(){return l(function(t){var r=t.charCodeAt(0),i=33<=r&&r<=39||42<=r&&r<=91||93<=r&&r<=126;return e.rfc6532&&(i=i||w(t)),i})},ei)())}function D(){return h("ccontent",p(R,C,I)())}function I(){return h("comment",f(d("("),g(f(b(x),D)),b(x),d(")"))())}function U(){return h("cfws",p(f(g(f(b(x),I),1),b(x)),x)())}function B(){return h("atext",l(function(t){var r="a"<=t&&t<="z"||"A"<=t&&t<="Z"||"0"<=t&&t<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(t)>=0;return e.rfc6532&&(r=r||w(t)),r}))}function T(){return h("atom",f(m(b(U)),g(B,1),m(b(U)))())}function K(){var e,t;return null===(e=h("dot-atom-text",g(B,1)()))||null!==(t=g(f(d("."),g(B,1)))())&&u(e,t),e}function z(){return h("dot-atom",f(y(b(U)),K,y(b(U)))())}function q(){return h("qtext",p(function(){return l(function(t){var r=t.charCodeAt(0),i=33===r||35<=r&&r<=91||93<=r&&r<=126;return e.rfc6532&&(i=i||w(t)),i})},en)())}function F(){return h("qcontent",p(q,C)())}function O(){return h("quoted-string",f(y(b(U)),y(k),g(f(b(m(x)),F)),b(y(x)),y(k),y(b(U)))())}function L(){return h("word",p(T,O)())}function N(){return h("address",p(j,G)())}function j(){return h("mailbox",p(W,et)())}function W(){return h("name-addr",f(b(V),H)())}function H(){return h("angle-addr",p(f(y(b(U)),d("<"),et,d(">"),y(b(U))),ec)())}function G(){return h("group",f(V,d(":"),b(Y),d(";"),y(b(U)))())}function V(){var e;return h("display-name",(null!==(e=h("phrase",p(es,g(L,1))()))&&(e.semantic=e.semantic.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")),e))}function Z(){return h("mailbox-list",p(f(j,g(f(d(","),j))),el)())}function $(){return h("address-list",p(f(N,g(f(d(","),N))),ed)())}function Y(){return h("group-list",p(Z,y(U),ef)())}function X(){return h("local-part",p(ep,z,O)())}function Q(){return h("dtext",p(function(){return l(function(t){var r=t.charCodeAt(0),i=33<=r&&r<=90||94<=r&&r<=126;return e.rfc6532&&(i=i||w(t)),i})},ey)())}function J(){return h("domain-literal",f(y(b(U)),d("["),g(f(b(x),Q)),b(x),d("]"),y(b(U)))())}function ee(){var t;return h("domain",(t=p(eb,z,J)(),e.rejectTLD&&t&&t.semantic&&0>t.semantic.indexOf(".")?null:(t&&(t.semantic=t.semantic.replace(/\s+/g,"")),t)))}function et(){return h("addr-spec",f(X,d("@"),ee)())}function er(){return e.strict?null:h("obs-NO-WS-CTL",l(function(e){var t=e.charCodeAt(0);return 1<=t&&t<=8||11===t||12===t||14<=t&&t<=31||127===t}))}function ei(){return e.strict?null:h("obs-ctext",er())}function en(){return e.strict?null:h("obs-qtext",er())}function ea(){return e.strict?null:h("obs-qp",f(d("\\"),p(d("\x00"),er,S,v))())}function es(){return e.strict?null:e.atInDisplayName?h("obs-phrase",f(L,g(p(L,d("."),d("@"),m(U))))()):h("obs-phrase",f(L,g(p(L,d("."),m(U))))())}function eo(){return e.strict?null:h("obs-FWS",g(f(y(b(_)),M),1)())}function ec(){return e.strict?null:h("obs-angle-addr",f(y(b(U)),d("<"),eh,et,d(">"),y(b(U)))())}function eh(){return e.strict?null:h("obs-route",f(eu,d(":"))())}function eu(){return e.strict?null:h("obs-domain-list",f(g(p(y(U),d(","))),d("@"),ee,g(f(d(","),y(b(U)),b(f(d("@"),ee)))))())}function el(){return e.strict?null:h("obs-mbox-list",f(g(f(y(b(U)),d(","))),j,g(f(d(","),b(f(j,y(U))))))())}function ed(){return e.strict?null:h("obs-addr-list",f(g(f(y(b(U)),d(","))),N,g(f(d(","),b(f(N,y(U))))))())}function ef(){return e.strict?null:h("obs-group-list",f(g(f(y(b(U)),d(",")),1),y(b(U)))())}function ep(){return e.strict?null:h("obs-local-part",f(L,g(f(d("."),L)))())}function eb(){return e.strict?null:h("obs-domain",f(T,g(f(d("."),T)))())}function ey(){return e.strict?null:h("obs-dtext",p(er,C)())}function em(e,t){var r,i,n;if(null==t)return null;for(i=[t];i.length>0;){if((n=i.pop()).name===e)return n;for(r=n.children.length-1;r>=0;r-=1)i.push(n.children[r])}return null}function eg(e,t){var r,i,n,a,s;if(null==t)return null;for(i=[t],a=[],s={},r=0;r<e.length;r+=1)s[e[r]]=!0;for(;i.length>0;)if((n=i.pop()).name in s)a.push(n);else for(r=n.children.length-1;r>=0;r-=1)i.push(n.children[r]);return a}function ew(t){var r,i,n,a,s,o;if(null===t)return null;for(r=[],i=eg(["group","mailbox"],t),n=0;n<i.length;n+=1)"group"===(a=i[n]).name?r.push(function(e){var t,r=em("display-name",e),i=[],n=eg(["mailbox"],e);for(t=0;t<n.length;t+=1)i.push(ev(n[t]));return{node:e,parts:{name:r},type:e.name,name:e_(r),addresses:i}}(a)):"mailbox"===a.name&&r.push(ev(a));return s={ast:t,addresses:r},e.simple&&(s=function(e){var t;if(e&&e.addresses)for(t=0;t<e.addresses.length;t+=1)delete e.addresses[t].node;return e}(s)),e.oneResult?(o=s)&&(e.partial||!(o.addresses.length>1))?o.addresses&&o.addresses[0]:null:e.simple?s&&s.addresses:s}function ev(e){var t=em("display-name",e),r=em("addr-spec",e),i=function(e,t){var r,i,n,a;if(null==t)return null;for(i=[t],a=[];i.length>0;)for((n=i.pop()).name===e&&a.push(n),r=n.children.length-1;r>=0;r-=1)i.push(n.children[r]);return a}("cfws",e),n=eg(["comment"],e),a=em("local-part",r),s=em("domain",r);return{node:e,parts:{name:t,address:r,local:a,domain:s,comments:i},type:e.name,name:e_(t),address:e_(r),local:e_(a),domain:e_(s),comments:function(e){var t="";if(e)for(var r=0;r<e.length;r+=1)t+=e_(e[r]);return t}(n),groupName:e_(e.groupName)}}function e_(e){return null!=e?e.semantic:null}if(null===(e=i(e,{})))return null;if(t=e.input,s=({address:N,"address-list":$,"angle-addr":H,from:function(){return h("from",p(Z,$)())},group:G,mailbox:j,"mailbox-list":Z,"reply-to":function(){return h("reply-to",$())},sender:function(){return h("sender",p(j,N)())}})[e.startAt]||$,!e.strict){if(o(),e.strict=!0,a=s(t),e.partial||!(r<n))return ew(a);e.strict=!1}return o(),a=s(t),!e.partial&&r<n?null:ew(a)}function i(e,t){var r,i,n;function a(e){return"[object String]"===Object.prototype.toString.call(e)}if(a(e))e={input:e};else if((n=e)!==Object(n))return null;if(!a(e.input)||!t)return null;for(i in r={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1})null==e[i]&&(e[i]=null==t[i]?r[i]:t[i]);return e}r.parseOneAddress=function(e){return r(i(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseAddressList=function(e){return r(i(e,{rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseFrom=function(e){return r(i(e,{rfc6532:!0,simple:!0,startAt:"from"}))},r.parseSender=function(e){return r(i(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},r.parseReplyTo=function(e){return r(i(e,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},e.exports=r}()});class aD{static get tag(){return eo.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(e){if(ee.isString(e)||e.name&&!ee.isString(e.name)||e.email&&!ee.isEmailAddress(e.email)||e.comment&&!ee.isString(e.comment))throw Error("Invalid user ID format");let t=new aD;Object.assign(t,e);let r=[];return t.name&&r.push(t.name),t.comment&&r.push(`(${t.comment})`),t.email&&r.push(`<${t.email}>`),t.userID=r.join(" "),t}read(e,t=ec){let r=ee.decodeUTF8(e);if(r.length>t.maxUserIDLength)throw Error("User ID string is too long");try{let{name:e,address:t,comments:i}=aR.parseOneAddress({input:r,atInDisplayName:!0});this.comment=i.replace(/^\(|\)$/g,""),this.name=e,this.email=t}catch(e){}this.userID=r}write(){return ee.encodeUTF8(this.userID)}equals(e){return e&&e.userID===this.userID}}class aI extends aC{static get tag(){return eo.packet.secretSubkey}constructor(e=new Date,t=ec){super(e,t)}}async function aU(e,t){let r=new aI(e.date,t);return r.packets=null,r.algorithm=eo.write(eo.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve),await r.computeFingerprintAndKeyID(),r}async function aB(e,t){let r=new aC(e.date,t);return r.packets=null,r.algorithm=eo.write(eo.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve,e.config),await r.computeFingerprintAndKeyID(),r}async function aT(e,t,r,i,n=new Date,a){let s,o;for(let c=e.length-1;c>=0;c--)try{(!s||e[c].created>=s.created)&&(await e[c].verify(t,r,i,n,void 0,a),s=e[c])}catch(e){o=e}if(!s)throw ee.wrapError(`Could not find valid ${eo.read(eo.signature,r)} signature in key ${t.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,(e,t,r)=>t+" "+r.toLowerCase()),o);return s}function aK(e,t,r=new Date){let i=ee.normalizeDate(r);if(null!==i){let r=aN(e,t);return!(e.created<=i&&i<r)}return!1}async function az(e,t,r,i){let n={};n.key=t,n.bind=e;let a=new ah;return a.signatureType=eo.signature.subkeyBinding,a.publicKeyAlgorithm=t.algorithm,a.hashAlgorithm=await aq(null,e,void 0,void 0,i),r.sign?(a.keyFlags=[eo.keyFlags.signData],a.embeddedSignature=await aF(n,null,e,{signatureType:eo.signature.keyBinding},r.date,void 0,void 0,void 0,i)):a.keyFlags=[eo.keyFlags.encryptCommunication|eo.keyFlags.encryptStorage],r.keyExpirationTime>0&&(a.keyExpirationTime=r.keyExpirationTime,a.keyNeverExpires=!1),await a.sign(t,n,r.date),a}async function aq(e,t,r=new Date,i={},n){let a=n.preferredHashAlgorithm,s=a;if(e){let t=await e.getPrimaryUser(r,i,n);t.selfCertification.preferredHashAlgorithms&&([s]=t.selfCertification.preferredHashAlgorithms,a=iH.hash.getHashByteLength(a)<=iH.hash.getHashByteLength(s)?s:a)}switch(Object.getPrototypeOf(t)){case aC.prototype:case aE.prototype:case aI.prototype:case aP.prototype:switch(t.algorithm){case eo.publicKey.ecdh:case eo.publicKey.ecdsa:case eo.publicKey.eddsa:s=iH.publicKey.elliptic.getPreferredHashAlgo(t.publicParams.oid)}}return iH.hash.getHashByteLength(a)<=iH.hash.getHashByteLength(s)?s:a}async function aF(e,t,r,i,n,a,s=[],o=!1,c){if(r.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw Error("Signing key is not decrypted.");let h=new ah;return Object.assign(h,i),h.publicKeyAlgorithm=r.algorithm,h.hashAlgorithm=await aq(t,r,n,a,c),h.rawNotations=s,await h.sign(r,e,n,o),h}async function aO(e,t,r,i=new Date,n){(e=e[r])&&(t[r].length?await Promise.all(e.map(async function(e){e.isExpired(i)||n&&!await n(e)||t[r].some(function(t){return ee.equalsUint8Array(t.writeParams(),e.writeParams())})||t[r].push(e)})):t[r]=e)}async function aL(e,t,r,i,n,a,s=new Date,o){a=a||e;let c=[];return await Promise.all(i.map(async function(e){try{n&&!e.issuerKeyID.equals(n.issuerKeyID)||(await e.verify(a,t,r,o.revocationsExpire?s:null,!1,o),c.push(e.issuerKeyID))}catch(e){}})),n?(n.revoked=!!c.some(e=>e.equals(n.issuerKeyID))||n.revoked||!1,n.revoked):c.length>0}function aN(e,t){let r;return!1===t.keyNeverExpires&&(r=e.created.getTime()+1e3*t.keyExpirationTime),r?new Date(r):1/0}function aj(e,t={}){switch(e.type=e.type||t.type,e.curve=e.curve||t.curve,e.rsaBits=e.rsaBits||t.rsaBits,e.keyExpirationTime=void 0!==e.keyExpirationTime?e.keyExpirationTime:t.keyExpirationTime,e.passphrase=ee.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e.sign=e.sign||!1,e.type){case"ecc":try{e.curve=eo.write(eo.curve,e.curve)}catch(e){throw Error("Unknown curve")}e.curve!==eo.curve.ed25519&&e.curve!==eo.curve.curve25519||(e.curve=e.sign?eo.curve.ed25519:eo.curve.curve25519),e.sign?e.algorithm=e.curve===eo.curve.ed25519?eo.publicKey.eddsa:eo.publicKey.ecdsa:e.algorithm=eo.publicKey.ecdh;break;case"rsa":e.algorithm=eo.publicKey.rsaEncryptSign;break;default:throw Error("Unsupported key type "+e.type)}return e}function aW(e,t){let r=e.algorithm;return r!==eo.publicKey.rsaEncrypt&&r!==eo.publicKey.elgamal&&r!==eo.publicKey.ecdh&&(!t.keyFlags||0!=(t.keyFlags[0]&eo.keyFlags.signData))}function aH(e,t){let r=e.algorithm;return r!==eo.publicKey.dsa&&r!==eo.publicKey.rsaSign&&r!==eo.publicKey.ecdsa&&r!==eo.publicKey.eddsa&&(!t.keyFlags||0!=(t.keyFlags[0]&eo.keyFlags.encryptCommunication)||0!=(t.keyFlags[0]&eo.keyFlags.encryptStorage))}function aG(e,t){return!!t.allowInsecureDecryptionWithSigningKeys||!e.keyFlags||0!=(e.keyFlags[0]&eo.keyFlags.encryptCommunication)||0!=(e.keyFlags[0]&eo.keyFlags.encryptStorage)}function aV(e,t){let r=eo.write(eo.publicKey,e.algorithm),i=e.getAlgorithmInfo();if(t.rejectPublicKeyAlgorithms.has(r))throw Error(i.algorithm+" keys are considered too weak.");switch(r){case eo.publicKey.rsaEncryptSign:case eo.publicKey.rsaSign:case eo.publicKey.rsaEncrypt:if(i.bits<t.minRSABits)throw Error(`RSA keys shorter than ${t.minRSABits} bits are considered too weak.`);break;case eo.publicKey.ecdsa:case eo.publicKey.eddsa:case eo.publicKey.ecdh:if(t.rejectCurves.has(i.curve))throw Error(`Support for ${i.algorithm} keys using curve ${i.curve} is disabled.`)}}class aZ{constructor(e,t){this.userID=e.constructor.tag===eo.packet.userID?e:null,this.userAttribute=e.constructor.tag===eo.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){let e=new ad;return e.push(this.userID||this.userAttribute),e.push(...this.revocationSignatures),e.push(...this.selfCertifications),e.push(...this.otherCertifications),e}clone(){let e=new aZ(this.userID||this.userAttribute,this.mainKey);return e.selfCertifications=[...this.selfCertifications],e.otherCertifications=[...this.otherCertifications],e.revocationSignatures=[...this.revocationSignatures],e}async certify(e,t,r){let i=this.mainKey.keyPacket,n={userID:this.userID,userAttribute:this.userAttribute,key:i},a=new aZ(n.userID||n.userAttribute,this.mainKey);return a.otherCertifications=await Promise.all(e.map(async function(e){if(!e.isPrivate())throw Error("Need private key for signing");if(e.hasSameFingerprintAs(i))throw Error("The user's own key can only be used for self-certifications");let a=await e.getSigningKey(void 0,t,void 0,r);return aF(n,e,a.keyPacket,{signatureType:eo.signature.certGeneric,keyFlags:[eo.keyFlags.certifyKeys|eo.keyFlags.signData]},t,void 0,void 0,void 0,r)})),await a.update(this,t,r),a}async isRevoked(e,t,r=new Date,i=ec){let n=this.mainKey.keyPacket;return aL(n,eo.signature.certRevocation,{key:n,userID:this.userID,userAttribute:this.userAttribute},this.revocationSignatures,e,t,r,i)}async verifyCertificate(e,t,r=new Date,i){let n=this,a=this.mainKey.keyPacket,s={userID:this.userID,userAttribute:this.userAttribute,key:a},{issuerKeyID:o}=e,c=t.filter(e=>e.getKeys(o).length>0);return 0===c.length?null:(await Promise.all(c.map(async t=>{let a=await t.getSigningKey(o,e.created,void 0,i);if(e.revoked||await n.isRevoked(e,a.keyPacket,r,i))throw Error("User certificate is revoked");try{await e.verify(a.keyPacket,eo.signature.certGeneric,s,r,void 0,i)}catch(e){throw ee.wrapError("User certificate is invalid",e)}})),!0)}async verifyAllCertifications(e,t=new Date,r){let i=this,n=this.selfCertifications.concat(this.otherCertifications);return Promise.all(n.map(async n=>({keyID:n.issuerKeyID,valid:await i.verifyCertificate(n,e,t,r).catch(()=>!1)})))}async verify(e=new Date,t){let r;if(!this.selfCertifications.length)throw Error("No self-certifications found");let i=this.mainKey.keyPacket,n={userID:this.userID,userAttribute:this.userAttribute,key:i};for(let a=this.selfCertifications.length-1;a>=0;a--)try{let r=this.selfCertifications[a];if(r.revoked||await this.isRevoked(r,void 0,e,t))throw Error("Self-certification is revoked");try{await r.verify(i,eo.signature.certGeneric,n,e,void 0,t)}catch(e){throw ee.wrapError("Self-certification is invalid",e)}return!0}catch(e){r=e}throw r}async update(e,t,r){let i=this.mainKey.keyPacket,n={userID:this.userID,userAttribute:this.userAttribute,key:i};await aO(e,this,"selfCertifications",t,async function(e){try{return await e.verify(i,eo.signature.certGeneric,n,t,!1,r),!0}catch(e){return!1}}),await aO(e,this,"otherCertifications",t),await aO(e,this,"revocationSignatures",t,function(e){return aL(i,eo.signature.certRevocation,n,[e],void 0,void 0,t,r)})}async revoke(e,{flag:t=eo.reasonForRevocation.noReason,string:r=""}={},i=new Date,n=ec){let a={userID:this.userID,userAttribute:this.userAttribute,key:e},s=new aZ(a.userID||a.userAttribute,this.mainKey);return s.revocationSignatures.push(await aF(a,null,e,{signatureType:eo.signature.certRevocation,reasonForRevocationFlag:eo.write(eo.reasonForRevocation,t),reasonForRevocationString:r},i,void 0,void 0,!1,n)),await s.update(this),s}}class a${constructor(e,t){this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){let e=new ad;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.bindingSignatures),e}clone(){let e=new a$(this.keyPacket,this.mainKey);return e.bindingSignatures=[...this.bindingSignatures],e.revocationSignatures=[...this.revocationSignatures],e}async isRevoked(e,t,r=new Date,i=ec){let n=this.mainKey.keyPacket;return aL(n,eo.signature.subkeyRevocation,{key:n,bind:this.keyPacket},this.revocationSignatures,e,t,r,i)}async verify(e=new Date,t=ec){let r=this.mainKey.keyPacket,i={key:r,bind:this.keyPacket},n=await aT(this.bindingSignatures,r,eo.signature.subkeyBinding,i,e,t);if(n.revoked||await this.isRevoked(n,null,e,t))throw Error("Subkey is revoked");if(aK(this.keyPacket,n,e))throw Error("Subkey is expired");return n}async getExpirationTime(e=new Date,t=ec){let r;let i=this.mainKey.keyPacket,n={key:i,bind:this.keyPacket};try{r=await aT(this.bindingSignatures,i,eo.signature.subkeyBinding,n,e,t)}catch(e){return null}let a=aN(this.keyPacket,r),s=r.getExpirationTime();return a<s?a:s}async update(e,t=new Date,r=ec){let i=this.mainKey.keyPacket;if(!this.hasSameFingerprintAs(e))throw Error("Subkey update method: fingerprints of subkeys not equal");this.keyPacket.constructor.tag===eo.packet.publicSubkey&&e.keyPacket.constructor.tag===eo.packet.secretSubkey&&(this.keyPacket=e.keyPacket);let n=this,a={key:i,bind:n.keyPacket};await aO(e,this,"bindingSignatures",t,async function(e){for(let t=0;t<n.bindingSignatures.length;t++)if(n.bindingSignatures[t].issuerKeyID.equals(e.issuerKeyID))return e.created>n.bindingSignatures[t].created&&(n.bindingSignatures[t]=e),!1;try{return await e.verify(i,eo.signature.subkeyBinding,a,t,void 0,r),!0}catch(e){return!1}}),await aO(e,this,"revocationSignatures",t,function(e){return aL(i,eo.signature.subkeyRevocation,a,[e],void 0,void 0,t,r)})}async revoke(e,{flag:t=eo.reasonForRevocation.noReason,string:r=""}={},i=new Date,n=ec){let a={key:e,bind:this.keyPacket},s=new a$(this.keyPacket,this.mainKey);return s.revocationSignatures.push(await aF(a,null,e,{signatureType:eo.signature.subkeyRevocation,reasonForRevocationFlag:eo.write(eo.reasonForRevocation,t),reasonForRevocationString:r},i,void 0,void 0,!1,n)),await s.update(this),s}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach(e=>{a$.prototype[e]=function(){return this.keyPacket[e]()}});const aY=ee.constructAllowedPackets([ah]),aX=new Set([eo.packet.publicKey,eo.packet.privateKey]),aQ=new Set([eo.packet.publicKey,eo.packet.privateKey,eo.packet.publicSubkey,eo.packet.privateSubkey]);class aJ{packetListToStructure(e,t=new Set){let r,i,n,a;for(let s of e){if(s instanceof r9){aQ.has(s.tag)&&!a&&(a=aX.has(s.tag)?aX:aQ);continue}let e=s.constructor.tag;if(a){if(!a.has(e))continue;a=null}if(t.has(e))throw Error("Unexpected packet type: "+e);switch(e){case eo.packet.publicKey:case eo.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=s,!(i=this.getKeyID()))throw Error("Missing Key ID");break;case eo.packet.userID:case eo.packet.userAttribute:r=new aZ(s,this),this.users.push(r);break;case eo.packet.publicSubkey:case eo.packet.secretSubkey:r=null,n=new a$(s,this),this.subkeys.push(n);break;case eo.packet.signature:switch(s.signatureType){case eo.signature.certGeneric:case eo.signature.certPersona:case eo.signature.certCasual:case eo.signature.certPositive:if(!r){ee.printDebug("Dropping certification signatures without preceding user packet");continue}s.issuerKeyID.equals(i)?r.selfCertifications.push(s):r.otherCertifications.push(s);break;case eo.signature.certRevocation:r?r.revocationSignatures.push(s):this.directSignatures.push(s);break;case eo.signature.key:this.directSignatures.push(s);break;case eo.signature.subkeyBinding:if(!n){ee.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}n.bindingSignatures.push(s);break;case eo.signature.keyRevocation:this.revocationSignatures.push(s);break;case eo.signature.subkeyRevocation:if(!n){ee.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}n.revocationSignatures.push(s)}}}}toPacketList(){let e=new ad;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.directSignatures),this.users.map(t=>e.push(...t.toPacketList())),this.subkeys.map(t=>e.push(...t.toPacketList())),e}clone(e=!1){let t=new this.constructor(this.toPacketList());return e&&t.getKeys().forEach(e=>{if(e.keyPacket=Object.create(Object.getPrototypeOf(e.keyPacket),Object.getOwnPropertyDescriptors(e.keyPacket)),!e.keyPacket.isDecrypted())return;let t={};Object.keys(e.keyPacket.privateParams).forEach(r=>{t[r]=new Uint8Array(e.keyPacket.privateParams[r])}),e.keyPacket.privateParams=t}),t}getSubkeys(e=null){return this.subkeys.filter(t=>!e||t.getKeyID().equals(e,!0))}getKeys(e=null){let t=[];return e&&!this.getKeyID().equals(e,!0)||t.push(this),t.concat(this.getSubkeys(e))}getKeyIDs(){return this.getKeys().map(e=>e.getKeyID())}getUserIDs(){return this.users.map(e=>e.userID?e.userID.userID:null).filter(e=>null!==e)}write(){return this.toPacketList().write()}async getSigningKey(e=null,t=new Date,r={},i=ec){let n;await this.verifyPrimaryKey(t,r,i);let a=this.keyPacket,s=this.subkeys.slice().sort((e,t)=>t.keyPacket.created-e.keyPacket.created);for(let r of s)if(!e||r.getKeyID().equals(e))try{await r.verify(t,i);let e={key:a,bind:r.keyPacket},n=await aT(r.bindingSignatures,a,eo.signature.subkeyBinding,e,t,i);if(!aW(r.keyPacket,n))continue;if(!n.embeddedSignature)throw Error("Missing embedded signature");return await aT([n.embeddedSignature],r.keyPacket,eo.signature.keyBinding,e,t,i),aV(r.keyPacket,i),r}catch(e){n=e}try{let n=await this.getPrimaryUser(t,r,i);if((!e||a.getKeyID().equals(e))&&aW(a,n.selfCertification))return aV(a,i),this}catch(e){n=e}throw ee.wrapError("Could not find valid signing key packet in key "+this.getKeyID().toHex(),n)}async getEncryptionKey(e,t=new Date,r={},i=ec){let n;await this.verifyPrimaryKey(t,r,i);let a=this.keyPacket,s=this.subkeys.slice().sort((e,t)=>t.keyPacket.created-e.keyPacket.created);for(let r of s)if(!e||r.getKeyID().equals(e))try{await r.verify(t,i);let e={key:a,bind:r.keyPacket},n=await aT(r.bindingSignatures,a,eo.signature.subkeyBinding,e,t,i);if(aH(r.keyPacket,n))return aV(r.keyPacket,i),r}catch(e){n=e}try{let n=await this.getPrimaryUser(t,r,i);if((!e||a.getKeyID().equals(e))&&aH(a,n.selfCertification))return aV(a,i),this}catch(e){n=e}throw ee.wrapError("Could not find valid encryption key packet in key "+this.getKeyID().toHex(),n)}async isRevoked(e,t,r=new Date,i=ec){return aL(this.keyPacket,eo.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,e,t,r,i)}async verifyPrimaryKey(e=new Date,t={},r=ec){let i=this.keyPacket;if(await this.isRevoked(null,null,e,r))throw Error("Primary key is revoked");let{selfCertification:n}=await this.getPrimaryUser(e,t,r);if(aK(i,n,e))throw Error("Primary key is expired");let a=await aT(this.directSignatures,i,eo.signature.key,{key:i},e,r).catch(()=>{});if(a&&aK(i,a,e))throw Error("Primary key is expired")}async getExpirationTime(e,t=ec){let r;try{let{selfCertification:i}=await this.getPrimaryUser(null,e,t),n=aN(this.keyPacket,i),a=i.getExpirationTime(),s=await aT(this.directSignatures,this.keyPacket,eo.signature.key,{key:this.keyPacket},null,t).catch(()=>{});if(s){let e=aN(this.keyPacket,s);r=Math.min(n,a,e)}else r=n<a?n:a}catch(e){r=null}return ee.normalizeDate(r)}async getPrimaryUser(e=new Date,t={},r=ec){let i;let n=this.keyPacket,a=[];for(let s=0;s<this.users.length;s++)try{let i=this.users[s];if(!i.userID)continue;if(void 0!==t.name&&i.userID.name!==t.name||void 0!==t.email&&i.userID.email!==t.email||void 0!==t.comment&&i.userID.comment!==t.comment)throw Error("Could not find user that matches that user ID");let o={userID:i.userID,key:n},c=await aT(i.selfCertifications,n,eo.signature.certGeneric,o,e,r);a.push({index:s,user:i,selfCertification:c})}catch(e){i=e}if(!a.length)throw i||Error("Could not find primary user");await Promise.all(a.map(async function(t){return t.selfCertification.revoked||t.user.isRevoked(t.selfCertification,null,e,r)}));let s=a.sort(function(e,t){let r=e.selfCertification,i=t.selfCertification;return i.revoked-r.revoked||r.isPrimaryUserID-i.isPrimaryUserID||r.created-i.created}).pop(),{user:o,selfCertification:c}=s;if(c.revoked||await o.isRevoked(c,null,e,r))throw Error("Primary user is revoked");return s}async update(e,t=new Date,r=ec){if(!this.hasSameFingerprintAs(e))throw Error("Primary key fingerprints must be equal to update the key");if(!this.isPrivate()&&e.isPrivate()){if(!(this.subkeys.length===e.subkeys.length&&this.subkeys.every(t=>e.subkeys.some(e=>t.hasSameFingerprintAs(e)))))throw Error("Cannot update public key with private key if subkeys mismatch");return e.update(this,r)}let i=this.clone();return await aO(e,i,"revocationSignatures",t,n=>aL(i.keyPacket,eo.signature.keyRevocation,i,[n],null,e.keyPacket,t,r)),await aO(e,i,"directSignatures",t),await Promise.all(e.users.map(async e=>{let n=i.users.filter(t=>e.userID&&e.userID.equals(t.userID)||e.userAttribute&&e.userAttribute.equals(t.userAttribute));if(n.length>0)await Promise.all(n.map(i=>i.update(e,t,r)));else{let t=e.clone();t.mainKey=i,i.users.push(t)}})),await Promise.all(e.subkeys.map(async e=>{let n=i.subkeys.filter(t=>t.hasSameFingerprintAs(e));if(n.length>0)await Promise.all(n.map(i=>i.update(e,t,r)));else{let t=e.clone();t.mainKey=i,i.subkeys.push(t)}})),i}async getRevocationCertificate(e=new Date,t=ec){let r={key:this.keyPacket},i=await aT(this.revocationSignatures,this.keyPacket,eo.signature.keyRevocation,r,e,t),n=new ad;return n.push(i),ep(eo.armor.publicKey,n.write(),null,null,"This is a revocation certificate")}async applyRevocationCertificate(e,t=new Date,r=ec){let i=await function(e,t=ec){return new Promise(async(r,i)=>{try{let n;let a=/^-----[^-]+-----$/m,s=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/,o=[],c,h,u,l=o,d=[],f=ei(j(e,async(e,t)=>{let p=z(e);try{for(;;){let e=await p.readLine();if(void 0===e)throw Error("Misformed armored text");if(e=ee.removeTrailingSpaces(e.replace(/[\r\n]/g,"")),n){if(c)h||2!==n||(a.test(e)?(d=d.join("\r\n"),h=!0,ef(l),l=[],c=!1):d.push(e.replace(/^- /,"")));else if(a.test(e)&&i(Error("Mandatory blank line missing between armor headers and armor data")),s.test(e)){if(ef(l),c=!0,h||2!==n){r({text:d,data:f,headers:o,type:n});break}}else l.push(e)}else a.test(e)&&(n=function(e){let t=e.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!t)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(t[1])?eo.armor.multipartSection:/MESSAGE, PART \d+/.test(t[1])?eo.armor.multipartLast:/SIGNED MESSAGE/.test(t[1])?eo.armor.signed:/MESSAGE/.test(t[1])?eo.armor.message:/PUBLIC KEY BLOCK/.test(t[1])?eo.armor.publicKey:/PRIVATE KEY BLOCK/.test(t[1])?eo.armor.privateKey:/SIGNATURE/.test(t[1])?eo.armor.signature:void 0}(e))}}catch(e){return void i(e)}let b=q(t);try{for(;;){await b.ready;let{done:e,value:t}=await p.read();if(e)throw Error("Misformed armored text");let r=t+"";if(-1!==r.indexOf("=")||-1!==r.indexOf("-")){let e=await p.readToEnd();e.length||(e=""),e=r+e,e=ee.removeTrailingSpaces(e.replace(/\r/g,""));let t=e.split(a);if(1===t.length)throw Error("Misformed armored text");let i=function(e){let t=e,r="",i=e.lastIndexOf("=");return i>=0&&i!==e.length-1&&(t=e.slice(0,i),r=e.slice(i+1).substr(0,4)),{body:t,checksum:r}}(t[0].slice(0,-1));u=i.checksum,await b.write(i.body);break}await b.write(r)}await b.ready,await b.close()}catch(e){await b.abort(e)}}));f=j(f,async(e,r)=>{let i=$(eu(G(e)));i.catch(()=>{}),await F(e,r,{preventClose:!0});let n=q(r);try{let e=(await i).replace("\n","");if(u!==e&&(u||t.checksumRequired))throw Error("Ascii armor integrity check failed");await n.ready,await n.close()}catch(e){await n.abort(e)}})}catch(e){i(e)}}).then(async e=>(m(e.data)&&(e.data=await $(e.data)),e))}(e,r),n=(await ad.fromBinary(i.data,aY,r)).findPacket(eo.packet.signature);if(!n||n.signatureType!==eo.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!n.issuerKeyID.equals(this.getKeyID()))throw Error("Revocation signature does not match key");try{await n.verify(this.keyPacket,eo.signature.keyRevocation,{key:this.keyPacket},t,void 0,r)}catch(e){throw ee.wrapError("Could not verify revocation signature",e)}let a=this.clone();return a.revocationSignatures.push(n),a}async signPrimaryUser(e,t,r,i=ec){let{index:n,user:a}=await this.getPrimaryUser(t,r,i),s=await a.certify(e,t,i),o=this.clone();return o.users[n]=s,o}async signAllUsers(e,t=new Date,r=ec){let i=this.clone();return i.users=await Promise.all(this.users.map(function(i){return i.certify(e,t,r)})),i}async verifyPrimaryUser(e,t=new Date,r,i=ec){let n=this.keyPacket,{user:a}=await this.getPrimaryUser(t,r,i);return e?await a.verifyAllCertifications(e,t,i):[{keyID:n.getKeyID(),valid:await a.verify(t,i).catch(()=>!1)}]}async verifyAllUsers(e,t=new Date,r=ec){let i=this.keyPacket,n=[];return await Promise.all(this.users.map(async a=>{let s=e?await a.verifyAllCertifications(e,t,r):[{keyID:i.getKeyID(),valid:await a.verify(t,r).catch(()=>!1)}];n.push(...s.map(e=>({userID:a.userID?a.userID.userID:null,userAttribute:a.userAttribute,keyID:e.keyID,valid:e.valid})))})),n}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach(e=>{aJ.prototype[e]=a$.prototype[e]});class a0 extends aJ{constructor(e){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],e&&(this.packetListToStructure(e,new Set([eo.packet.secretKey,eo.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(e=ec){return ep(eo.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,e)}}class a1 extends a0{constructor(e){if(super(),this.packetListToStructure(e,new Set([eo.packet.publicKey,eo.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){let e=new ad,t=this.toPacketList();for(let r of t)switch(r.constructor.tag){case eo.packet.secretKey:{let t=aE.fromSecretKeyPacket(r);e.push(t);break}case eo.packet.secretSubkey:{let t=aP.fromSecretSubkeyPacket(r);e.push(t);break}default:e.push(r)}return new a0(e)}armor(e=ec){return ep(eo.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,e)}async getDecryptionKeys(e,t=new Date,r={},i=ec){let n=this.keyPacket,a=[];for(let r=0;r<this.subkeys.length;r++)if(!e||this.subkeys[r].getKeyID().equals(e,!0))try{let e={key:n,bind:this.subkeys[r].keyPacket};aG(await aT(this.subkeys[r].bindingSignatures,n,eo.signature.subkeyBinding,e,t,i),i)&&a.push(this.subkeys[r])}catch(e){}let s=await this.getPrimaryUser(t,r,i);return(!e||n.getKeyID().equals(e,!0))&&aG(s.selfCertification,i)&&a.push(this),a}isDecrypted(){return this.getKeys().some(({keyPacket:e})=>e.isDecrypted())}async validate(e=ec){let t;if(!this.isPrivate())throw Error("Cannot validate a public key");if(this.keyPacket.isDummy()){let r=await this.getSigningKey(null,null,void 0,{...e,rejectPublicKeyAlgorithms:new Set,minRSABits:0});r&&!r.keyPacket.isDummy()&&(t=r.keyPacket)}else t=this.keyPacket;if(t)return t.validate();{let e=this.getKeys(),t=e.map(e=>e.keyPacket.isDummy()).every(Boolean);if(t)throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(e.map(async e=>e.keyPacket.validate()))}}clearPrivateParams(){this.getKeys().forEach(({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()})}async revoke({flag:e=eo.reasonForRevocation.noReason,string:t=""}={},r=new Date,i=ec){if(!this.isPrivate())throw Error("Need private key for revoking");let n={key:this.keyPacket},a=this.clone();return a.revocationSignatures.push(await aF(n,null,this.keyPacket,{signatureType:eo.signature.keyRevocation,reasonForRevocationFlag:eo.write(eo.reasonForRevocation,e),reasonForRevocationString:t},r,void 0,void 0,void 0,i)),a}async addSubkey(e={}){let t={...ec,...e.config};if(e.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<t.minRSABits)throw Error(`rsaBits should be at least ${t.minRSABits}, got: ${e.rsaBits}`);let r=this.keyPacket;if(r.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!r.isDecrypted())throw Error("Key is not decrypted");let i=r.getAlgorithmInfo();i.type=i.curve?"ecc":"rsa",i.rsaBits=i.bits||4096,i.curve=i.curve||"curve25519",e=aj(e,i);let n=await aU(e);aV(n,t);let a=await az(n,r,e,t),s=this.toPacketList();return s.push(n,a),new a1(s)}}async function a2(e,t,r,i){r.passphrase&&await e.encrypt(r.passphrase,i),await Promise.all(t.map(async function(e,t){let n=r.subkeys[t].passphrase;n&&await e.encrypt(n,i)}));let n=new ad;return n.push(e),await Promise.all(r.userIDs.map(async function(t,n){function a(e,t){return[t,...e.filter(e=>e!==t)]}let s=aD.fromObject(t),o={};o.userID=s,o.key=e;let c=new ah;return c.signatureType=eo.signature.certGeneric,c.publicKeyAlgorithm=e.algorithm,c.hashAlgorithm=await aq(null,e,void 0,void 0,i),c.keyFlags=[eo.keyFlags.certifyKeys|eo.keyFlags.signData],c.preferredSymmetricAlgorithms=a([eo.symmetric.aes256,eo.symmetric.aes128,eo.symmetric.aes192],i.preferredSymmetricAlgorithm),i.aeadProtect&&(c.preferredAEADAlgorithms=a([eo.aead.eax,eo.aead.ocb],i.preferredAEADAlgorithm)),c.preferredHashAlgorithms=a([eo.hash.sha256,eo.hash.sha512],i.preferredHashAlgorithm),c.preferredCompressionAlgorithms=a([eo.compression.zlib,eo.compression.zip,eo.compression.uncompressed],i.preferredCompressionAlgorithm),0===n&&(c.isPrimaryUserID=!0),c.features=[0],c.features[0]|=eo.features.modificationDetection,i.aeadProtect&&(c.features[0]|=eo.features.aead),i.v5Keys&&(c.features[0]|=eo.features.v5Keys),r.keyExpirationTime>0&&(c.keyExpirationTime=r.keyExpirationTime,c.keyNeverExpires=!1),await c.sign(e,o,r.date),{userIDPacket:s,signaturePacket:c}})).then(e=>{e.forEach(({userIDPacket:e,signaturePacket:t})=>{n.push(e),n.push(t)})}),await Promise.all(t.map(async function(t,n){let a=r.subkeys[n];return{secretSubkeyPacket:t,subkeySignaturePacket:await az(t,e,a,i)}})).then(e=>{e.forEach(({secretSubkeyPacket:e,subkeySignaturePacket:t})=>{n.push(e),n.push(t)})}),n.push(await aF({key:e},null,e,{signatureType:eo.signature.keyRevocation,reasonForRevocationFlag:eo.reasonForRevocation.noReason,reasonForRevocationString:""},r.date,void 0,void 0,void 0,i)),r.passphrase&&e.clearPrivateParams(),await Promise.all(t.map(async function(e,t){r.subkeys[t].passphrase&&e.clearPrivateParams()})),new a1(n)}async function a3({userIDs:e=[],passphrase:t,type:r="ecc",rsaBits:i=4096,curve:n="curve25519",keyExpirationTime:a=0,date:s=new Date,subkeys:o=[{}],format:c="armored",config:h,...u}){var l;(function(e){let t=Object.keys(e);if(t.length!==a5){for(let e of t)if(void 0===ec[e])throw Error("Unknown config property: "+e)}})(h={...ec,...h}),(l=e)&&!ee.isArray(l)&&(l=[l]),e=l;let d=Object.keys(u);if(d.length>0)throw Error("Unknown option: "+d.join(", "));if(0===e.length)throw Error("UserIDs are required for key generation");if("rsa"===r&&i<h.minRSABits)throw Error(`rsaBits should be at least ${h.minRSABits}, got: ${i}`);let f={userIDs:e,passphrase:t,type:r,rsaBits:i,curve:n,keyExpirationTime:a,date:s,subkeys:o};try{let{key:e,revocationCertificate:t}=await async function(e,t){e.sign=!0,(e=aj(e)).subkeys=e.subkeys.map((t,r)=>aj(e.subkeys[r],e));let r=[aB(e,t)];r=r.concat(e.subkeys.map(e=>aU(e,t)));let i=await Promise.all(r),n=await a2(i[0],i.slice(1),e,t),a=await n.getRevocationCertificate(e.date,t);return n.revocationSignatures=[],{key:n,revocationCertificate:a}}(f,h);return e.getKeys().forEach(({keyPacket:e})=>aV(e,h)),{privateKey:a6(e,c,h),publicKey:a6(e.toPublic(),c,h),revocationCertificate:t}}catch(e){throw ee.wrapError("Error generating keypair",e)}}const a5=Object.keys(ec).length;function a6(e,t,r){switch(t){case"object":return e;case"armored":return e.armor(r);case"binary":return e.write();default:throw Error("Unsupported format "+t)}}const a4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function a8(){}const a7="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==u?u:void 0;function a9(e){return"object"==typeof e&&null!==e||"function"==typeof e}const se=Promise,st=Promise.prototype.then,sr=Promise.resolve.bind(se),si=Promise.reject.bind(se);function sn(e){return new se(e)}function sa(e,t,r){return st.call(e,t,r)}function ss(e,t,r){sa(sa(e,t,r),void 0,a8)}function so(e){sa(e,void 0,a8)}const sc=(()=>{let e=a7&&a7.queueMicrotask;if("function"==typeof e)return e;let t=sr(void 0);return e=>sa(t,e)})();function sh(e,t,r){if("function"!=typeof e)throw TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function su(e,t,r){try{var i;return i=sh(e,t,r),sr(i)}catch(e){return si(e)}}class sl{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let t=this._back,r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){let e=this._front,t=e,r=this._cursor,i=r+1,n=e._elements,a=n[r];return 16384===i&&(t=e._next,i=0),--this._size,this._cursor=i,e!==t&&(this._front=t),n[r]=void 0,a}forEach(e){let t=this._cursor,r=this._front,i=r._elements;for(;!(t===i.length&&void 0===r._next||t===i.length&&(i=(r=r._next)._elements,t=0,0===i.length));)e(i[t]),++t}peek(){let e=this._front,t=this._cursor;return e._elements[t]}}function sd(e,t){var r;e._ownerReadableStream=t,t._reader=e,"readable"===t._state?sy(e):"closed"===t._state?(sy(e),sg(e)):(r=t._storedError,sy(e),sm(e,r))}function sf(e,t){return cl(e._ownerReadableStream,t)}function sp(e){var t;"readable"===e._ownerReadableStream._state?sm(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(t=TypeError("Reader was released and can no longer be used to monitor the stream's closedness"),sy(e),sm(e,t)),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function sb(e){return TypeError("Cannot "+e+" a stream using a released reader")}function sy(e){e._closedPromise=sn((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function sm(e,t){void 0!==e._closedPromise_reject&&(so(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function sg(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const sw=a4("[[AbortSteps]]"),sv=a4("[[ErrorSteps]]"),s_=a4("[[CancelSteps]]"),sk=a4("[[PullSteps]]"),sA=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},sS=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function sE(e,t){var r;if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw TypeError(t+" is not an object.")}function sP(e,t){if("function"!=typeof e)throw TypeError(t+" is not a function.")}function sM(e,t){if(!("object"==typeof e&&null!==e||"function"==typeof e))throw TypeError(t+" is not an object.")}function sC(e,t,r){if(void 0===e)throw TypeError(`Parameter ${t} is required in '${r}'.`)}function sx(e,t,r){if(void 0===e)throw TypeError(`${t} is required in '${r}'.`)}function sR(e){return Number(e)}function sD(e,t){var r,i;let n=Number.MAX_SAFE_INTEGER,a=Number(e);if(!sA(a=0===(r=a)?0:r))throw TypeError(t+" is not a finite number");if((a=0===(i=sS(a))?0:i)<0||a>n)throw TypeError(`${t} is outside the accepted range of 0 to ${n}, inclusive`);return sA(a)&&0!==a?a:0}function sI(e,t){if(!ch(e))throw TypeError(t+" is not a ReadableStream.")}function sU(e){return new sq(e)}function sB(e,t){e._reader._readRequests.push(t)}function sT(e,t,r){let i=e._reader._readRequests.shift();r?i._closeSteps():i._chunkSteps(t)}function sK(e){return e._reader._readRequests.length}function sz(e){let t=e._reader;return void 0!==t&&!!sF(t)}class sq{constructor(e){if(sC(e,1,"ReadableStreamDefaultReader"),sI(e,"First parameter"),cu(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");sd(this,e),this._readRequests=new sl}get closed(){return sF(this)?this._closedPromise:si(sL("closed"))}cancel(e){return sF(this)?void 0===this._ownerReadableStream?si(sb("cancel")):sf(this,e):si(sL("cancel"))}read(){let e,t;if(!sF(this))return si(sL("read"));if(void 0===this._ownerReadableStream)return si(sb("read from"));let r=sn((r,i)=>{e=r,t=i});return sO(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!sF(this))throw sL("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");sp(this)}}}function sF(e){return!!a9(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function sO(e,t){let r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[sk](t)}function sL(e){return TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(sq.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof a4.toStringTag&&Object.defineProperty(sq.prototype,a4.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof a4.asyncIterator&&Object.defineProperty(o={[a4.asyncIterator](){return this}},a4.asyncIterator,{enumerable:!1});class sN{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?sa(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let t=()=>this._returnSteps(e);return this._ongoingPromise?sa(this._ongoingPromise,t,t):t()}_nextSteps(){let e,t;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let r=this._reader;if(void 0===r._ownerReadableStream)return si(sb("iterate"));let i=sn((r,i)=>{e=r,t=i});return sO(r,{_chunkSteps:t=>{this._ongoingPromise=void 0,sc(()=>e({value:t,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,sp(r),e({value:void 0,done:!0})},_errorSteps:e=>{this._ongoingPromise=void 0,this._isFinished=!0,sp(r),t(e)}}),i}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let t=this._reader;if(void 0===t._ownerReadableStream)return si(sb("finish iterating"));if(!this._preventCancel){let r=sf(t,e);return sp(t),sa(r,()=>({value:e,done:!0}),void 0)}return sp(t),sr({value:e,done:!0})}}const sj={next(){return sW(this)?this._asyncIteratorImpl.next():si(sH("next"))},return(e){return sW(this)?this._asyncIteratorImpl.return(e):si(sH("return"))}};function sW(e){return!!a9(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")}function sH(e){return TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==o&&Object.setPrototypeOf(sj,o);const sG=Number.isNaN||function(e){return e!=e};function sV(e){return!!(!("number"!=typeof e||sG(e))&&!(e<0))&&e!==1/0}function sZ(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function s$(e,t,r){if(!sV(r=Number(r)))throw RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function sY(e){e._queue=new sl,e._queueTotalSize=0}function sX(e){return e.slice()}class sQ{constructor(){throw TypeError("Illegal constructor")}get view(){if(!s1(this))throw os("view");return this._view}respond(e){if(!s1(this))throw os("respond");if(sC(e,1,"respond"),e=sD(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");this._view.buffer,function(e,t){if(!sV(t=Number(t)))throw RangeError("bytesWritten must be a finite");ot(e,t)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!s1(this))throw os("respondWithNewView");if(sC(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw TypeError("You can only respond with array buffer views");if(0===e.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");!function(e,t){let r=e._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,ot(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}}Object.defineProperties(sQ.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof a4.toStringTag&&Object.defineProperty(sQ.prototype,a4.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class sJ{constructor(){throw TypeError("Illegal constructor")}get byobRequest(){if(!s0(this))throw oo("byobRequest");if(null===this._byobRequest&&this._pendingPullIntos.length>0){let e=this._pendingPullIntos.peek(),t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(sQ.prototype);r._associatedReadableByteStreamController=this,r._view=t,this._byobRequest=r}return this._byobRequest}get desiredSize(){if(!s0(this))throw oo("desiredSize");return oa(this)}close(){if(!s0(this))throw oo("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if("readable"!==e)throw TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);!function(e){let t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state){if(e._queueTotalSize>0)return void(e._closeRequested=!0);if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let t=TypeError("Insufficient bytes to fill elements in the given buffer");throw on(e,t),t}oi(e),cd(t)}}(this)}enqueue(e){if(!s0(this))throw oo("enqueue");if(sC(e,1,"enqueue"),!ArrayBuffer.isView(e))throw TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");let t=this._controlledReadableByteStream._state;if("readable"!==t)throw TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);!function(e,t){let r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;let i=t.buffer,n=t.byteOffset,a=t.byteLength;sz(r)?0===sK(r)?s6(e,i,n,a):sT(r,new Uint8Array(i,n,a),!1):ou(r)?(s6(e,i,n,a),oe(e)):s6(e,i,n,a),s2(e)}(this,e)}error(e){if(!s0(this))throw oo("error");on(this,e)}[s_](e){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),sY(this);let t=this._cancelAlgorithm(e);return oi(this),t}[sk](e){let t=this._controlledReadableByteStream;if(this._queueTotalSize>0){let t=this._queue.shift();this._queueTotalSize-=t.byteLength,s7(this);let r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(r)}let r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}let i={buffer:t,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}sB(t,e),s2(this)}}function s0(e){return!!a9(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function s1(e){return!!a9(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function s2(e){let t=function(e){let t=e._controlledReadableByteStream;if("readable"!==t._state||e._closeRequested||!e._started)return!1;if(sz(t)&&sK(t)>0||ou(t)&&oh(t)>0)return!0;let r=oa(e);return r>0}(e);if(t){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,ss(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,s2(e))},t=>{on(e,t)})}}function s3(e,t){let r=!1;"closed"===e._state&&(r=!0);let i=s5(t);"default"===t.readerType?sT(e,i,r):function(e,t,r){let i=e._reader,n=i._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,i,r)}function s5(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function s6(e,t,r,i){e._queue.push({buffer:t,byteOffset:r,byteLength:i}),e._queueTotalSize+=i}function s4(e,t){var r,i,n;let a=t.elementSize,s=t.bytesFilled-t.bytesFilled%a,o=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),c=t.bytesFilled+o,h=c-c%a,u=o,l=!1;h>s&&(u=h-t.bytesFilled,l=!0);let d=e._queue;for(;u>0;){let a=d.peek(),s=Math.min(u,a.byteLength),o=t.byteOffset+t.bytesFilled;r=t.buffer,i=a.buffer,n=a.byteOffset,new Uint8Array(r).set(new Uint8Array(i,n,s),o),a.byteLength===s?d.shift():(a.byteOffset+=s,a.byteLength-=s),e._queueTotalSize-=s,s8(e,s,t),u-=s}return l}function s8(e,t,r){s9(e),r.bytesFilled+=t}function s7(e){0===e._queueTotalSize&&e._closeRequested?(oi(e),cd(e._controlledReadableByteStream)):s2(e)}function s9(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function oe(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;let t=e._pendingPullIntos.peek();s4(e,t)&&(or(e),s3(e._controlledReadableByteStream,t))}}function ot(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=t.buffer;let r=e._controlledReadableByteStream;if(ou(r))for(;oh(r)>0;)s3(r,or(e))}(e,r)}else!function(e,t,r){if(r.bytesFilled+t>r.byteLength)throw RangeError("bytesWritten out of range");if(s8(e,t,r),r.bytesFilled<r.elementSize)return;or(e);let i=r.bytesFilled%r.elementSize;if(i>0){let t=r.byteOffset+r.bytesFilled,n=r.buffer.slice(t-i,t);s6(e,n,0,n.byteLength)}r.buffer=r.buffer,r.bytesFilled-=i,s3(e._controlledReadableByteStream,r),oe(e)}(e,t,r);s2(e)}function or(e){let t=e._pendingPullIntos.shift();return s9(e),t}function oi(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function on(e,t){let r=e._controlledReadableByteStream;"readable"===r._state&&(s9(e),e._pendingPullIntos=new sl,sY(e),oi(e),cf(r,t))}function oa(e){let t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function os(e){return TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function oo(e){return TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function oc(e,t){e._reader._readIntoRequests.push(t)}function oh(e){return e._reader._readIntoRequests.length}function ou(e){let t=e._reader;return void 0!==t&&!!od(t)}Object.defineProperties(sJ.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a4.toStringTag&&Object.defineProperty(sJ.prototype,a4.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class ol{constructor(e){if(sC(e,1,"ReadableStreamBYOBReader"),sI(e,"First parameter"),cu(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!s0(e._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");sd(this,e),this._readIntoRequests=new sl}get closed(){return od(this)?this._closedPromise:si(of("closed"))}cancel(e){return od(this)?void 0===this._ownerReadableStream?si(sb("cancel")):sf(this,e):si(of("cancel"))}read(e){let t,r;if(!od(this))return si(of("read"));if(!ArrayBuffer.isView(e))return si(TypeError("view must be an array buffer view"));if(0===e.byteLength)return si(TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return si(TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return si(sb("read from"));let i=sn((e,i)=>{t=e,r=i});return function(e,t,r){let i=e._ownerReadableStream;i._disturbed=!0,"errored"===i._state?r._errorSteps(i._storedError):function(e,t,r){let i=e._controlledReadableByteStream,n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);let a=t.constructor,s={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(s),void oc(i,r);if("closed"!==i._state){if(e._queueTotalSize>0){if(s4(e,s)){let t=s5(s);return s7(e),void r._chunkSteps(t)}if(e._closeRequested){let t=TypeError("Insufficient bytes to fill elements in the given buffer");return on(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(s),oc(i,r),s2(e)}else{let e=new a(s.buffer,s.byteOffset,0);r._closeSteps(e)}}(i._readableStreamController,t,r)}(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),i}releaseLock(){if(!od(this))throw of("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");sp(this)}}}function od(e){return!!a9(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function of(e){return TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function op(e,t){let{highWaterMark:r}=e;if(void 0===r)return t;if(sG(r)||r<0)throw RangeError("Invalid highWaterMark");return r}function ob(e){let{size:t}=e;return t||(()=>1)}function oy(e,t){sE(e,t);let r=null==e?void 0:e.highWaterMark,i=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:sR(r),size:void 0===i?void 0:(sP(i,t+" has member 'size' that"),e=>sR(i(e)))}}function om(e,t){if(!ov(e))throw TypeError(t+" is not a WritableStream.")}Object.defineProperties(ol.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof a4.toStringTag&&Object.defineProperty(ol.prototype,a4.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class og{constructor(e={},t={}){void 0===e?e=null:sM(e,"First parameter");let r=oy(t,"Second parameter"),i=function(e,t){sE(e,t);let r=null==e?void 0:e.abort,i=null==e?void 0:e.close,n=null==e?void 0:e.start,a=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===r?void 0:(sP(r,t+" has member 'abort' that"),t=>su(r,e,[t])),close:void 0===i?void 0:(sP(i,t+" has member 'close' that"),()=>su(i,e,[])),start:void 0===n?void 0:(sP(n,t+" has member 'start' that"),t=>sh(n,e,[t])),write:void 0===s?void 0:(sP(s,t+" has member 'write' that"),(t,r)=>su(s,e,[t,r])),type:a}}(e,"First parameter");if(ow(this),void 0!==i.type)throw RangeError("Invalid type is specified");let n=ob(r);!function(e,t,r,i){let n=Object.create(oz.prototype),a=()=>{},s=()=>sr(void 0),o=()=>sr(void 0),c=()=>sr(void 0);void 0!==t.start&&(a=()=>t.start(n)),void 0!==t.write&&(s=e=>t.write(e,n)),void 0!==t.close&&(o=()=>t.close()),void 0!==t.abort&&(c=e=>t.abort(e)),oq(e,n,a,s,o,c,r,i)}(this,i,op(r,1),n)}get locked(){if(!ov(this))throw oW("locked");return o_(this)}abort(e){return ov(this)?o_(this)?si(TypeError("Cannot abort a stream that already has a writer")):ok(this,e):si(oW("abort"))}close(){return ov(this)?o_(this)?si(TypeError("Cannot close a stream that already has a writer")):oM(this)?si(TypeError("Cannot close an already-closing stream")):oA(this):si(oW("close"))}getWriter(){if(!ov(this))throw oW("getWriter");return new oR(this)}}function ow(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new sl,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ov(e){return!!a9(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function o_(e){return void 0!==e._writer}function ok(e,t){let r=e._state;if("closed"===r||"errored"===r)return sr(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let i=!1;"erroring"===r&&(i=!0,t=void 0);let n=sn((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:i}});return e._pendingAbortRequest._promise=n,i||oE(e,t),n}function oA(e){var t;let r=e._state;if("closed"===r||"errored"===r)return si(TypeError(`The stream (in ${r} state) is not in the writable state and cannot be closed`));let i=sn((t,r)=>{e._closeRequest={_resolve:t,_reject:r}}),n=e._writer;return void 0!==n&&e._backpressure&&"writable"===r&&oJ(n),s$(t=e._writableStreamController,oK,0),oL(t),i}function oS(e,t){"writable"!==e._state?oP(e):oE(e,t)}function oE(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let i=e._writer;void 0!==i&&oU(i,t),!(void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest)&&r._started&&oP(e)}function oP(e){e._state="errored",e._writableStreamController[sv]();let t=e._storedError;if(e._writeRequests.forEach(e=>{e._reject(t)}),e._writeRequests=new sl,void 0===e._pendingAbortRequest)return void oC(e);let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void oC(e);ss(e._writableStreamController[sw](r._reason),()=>{r._resolve(),oC(e)},t=>{r._reject(t),oC(e)})}function oM(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function oC(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;void 0!==t&&oZ(t,e._storedError)}function ox(e,t){let r=e._writer;void 0!==r&&t!==e._backpressure&&(t?oY(r):oJ(r)),e._backpressure=t}Object.defineProperties(og.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof a4.toStringTag&&Object.defineProperty(og.prototype,a4.toStringTag,{value:"WritableStream",configurable:!0});class oR{constructor(e){if(sC(e,1,"WritableStreamDefaultWriter"),om(e,"First parameter"),o_(e))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let t=e._state;if("writable"===t)!oM(e)&&e._backpressure?oY(this):(oY(this),oJ(this)),oV(this);else if("erroring"===t)oX(this,e._storedError),oV(this);else if("closed"===t)oY(this),oJ(this),oV(this),o$(this);else{let t=e._storedError;oX(this,t),oV(this),oZ(this,t)}}get closed(){return oD(this)?this._closedPromise:si(oH("closed"))}get desiredSize(){if(!oD(this))throw oH("desiredSize");if(void 0===this._ownerWritableStream)throw oG("desiredSize");return function(e){let t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:oO(t._writableStreamController)}(this)}get ready(){return oD(this)?this._readyPromise:si(oH("ready"))}abort(e){return oD(this)?void 0===this._ownerWritableStream?si(oG("abort")):function(e,t){let r=e._ownerWritableStream;return ok(r,t)}(this,e):si(oH("abort"))}close(){if(!oD(this))return si(oH("close"));let e=this._ownerWritableStream;return void 0===e?si(oG("close")):oM(e)?si(TypeError("Cannot close an already-closing stream")):oI(this)}releaseLock(){if(!oD(this))throw oH("releaseLock");void 0!==this._ownerWritableStream&&oB(this)}write(e){return oD(this)?void 0===this._ownerWritableStream?si(oG("write to")):oT(this,e):si(oH("write"))}}function oD(e){return!!a9(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function oI(e){return oA(e._ownerWritableStream)}function oU(e,t){"pending"===e._readyPromiseState?oQ(e,t):oX(e,t)}function oB(e){let t=e._ownerWritableStream,r=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");oU(e,r),"pending"===e._closedPromiseState||oV(e),oZ(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function oT(e,t){let r=e._ownerWritableStream,i=r._writableStreamController,n=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return oN(e,t),1}}(i,t);if(r!==e._ownerWritableStream)return si(oG("write to"));let a=r._state;if("errored"===a)return si(r._storedError);if(oM(r)||"closed"===a)return si(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return si(r._storedError);let s=sn((e,t)=>{r._writeRequests.push({_resolve:e,_reject:t})});return function(e,t,r){try{s$(e,t,r)}catch(t){return void oN(e,t)}let i=e._controlledWritableStream;oM(i)||"writable"!==i._state||ox(i,0>=oO(e)),oL(e)}(i,t,n),s}Object.defineProperties(oR.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof a4.toStringTag&&Object.defineProperty(oR.prototype,a4.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const oK={};class oz{constructor(){throw TypeError("Illegal constructor")}error(e){if(!(a9(this)&&Object.prototype.hasOwnProperty.call(this,"_controlledWritableStream")))throw TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&oj(this,e)}[sw](e){let t=this._abortAlgorithm(e);return oF(this),t}[sv](){sY(this)}}function oq(e,t,r,i,n,a,s,o){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,sY(t),t._started=!1,t._strategySizeAlgorithm=o,t._strategyHWM=s,t._writeAlgorithm=i,t._closeAlgorithm=n,t._abortAlgorithm=a;let c=0>=oO(t);ox(e,c),ss(sr(r()),()=>{t._started=!0,oL(t)},r=>{t._started=!0,oS(e,r)})}function oF(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function oO(e){return e._strategyHWM-e._queueTotalSize}function oL(e){let t=e._controlledWritableStream;if(!e._started||void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void oP(t);if(0===e._queue.length)return;let r=e._queue.peek().value;r===oK?function(e){let t=e._controlledWritableStream;t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0,sZ(e);let r=e._closeAlgorithm();oF(e),ss(r,()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let t=e._writer;void 0!==t&&o$(t)}(t)},e=>{t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),oS(t,e)})}(e):function(e,t){let r=e._controlledWritableStream;r._inFlightWriteRequest=r._writeRequests.shift();let i=e._writeAlgorithm(t);ss(i,()=>{r._inFlightWriteRequest._resolve(void 0),r._inFlightWriteRequest=void 0;let t=r._state;if(sZ(e),!oM(r)&&"writable"===t){let t=0>=oO(e);ox(r,t)}oL(e)},t=>{"writable"===r._state&&oF(e),r._inFlightWriteRequest._reject(t),r._inFlightWriteRequest=void 0,oS(r,t)})}(e,r)}function oN(e,t){"writable"===e._controlledWritableStream._state&&oj(e,t)}function oj(e,t){let r=e._controlledWritableStream;oF(e),oE(r,t)}function oW(e){return TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function oH(e){return TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function oG(e){return TypeError("Cannot "+e+" a stream using a released writer")}function oV(e){e._closedPromise=sn((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function oZ(e,t){void 0!==e._closedPromise_reject&&(so(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function o$(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function oY(e){e._readyPromise=sn((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function oX(e,t){oY(e),oQ(e,t)}function oQ(e,t){void 0!==e._readyPromise_reject&&(so(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function oJ(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(oz.prototype,{error:{enumerable:!0}}),"symbol"==typeof a4.toStringTag&&Object.defineProperty(oz.prototype,a4.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const o0="undefined"!=typeof DOMException?DOMException:void 0,o1=!function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(o0)?function(){let e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Object.defineProperty(e.prototype=Object.create(Error.prototype),"constructor",{value:e,writable:!0,configurable:!0}),e}():o0;function o2(e,t,r,i,n,a){let s=sU(e),o=new oR(t);e._disturbed=!0;let c=!1,h=sr(void 0);return sn((u,l)=>{var d,f;let p;if(void 0!==a){if(p=()=>{let r=new o1("Aborted","AbortError"),a=[];i||a.push(()=>"writable"===t._state?ok(t,r):sr(void 0)),n||a.push(()=>"readable"===e._state?cl(e,r):sr(void 0)),m(()=>Promise.all(a.map(e=>e())),!0,r)},a.aborted)return void p();a.addEventListener("abort",p)}if(y(e,s._closedPromise,e=>{i?g(!0,e):m(()=>ok(t,e),!0,e)}),y(t,o._closedPromise,t=>{n?g(!0,t):m(()=>cl(e,t),!0,t)}),d=s._closedPromise,f=()=>{r?g():m(()=>(function(e){let t=e._ownerWritableStream,r=t._state;return oM(t)||"closed"===r?sr(void 0):"errored"===r?si(t._storedError):oI(e)})(o))},"closed"===e._state?f():ss(d,f),oM(t)||"closed"===t._state){let t=TypeError("the destination writable stream closed before all data could be piped to it");n?g(!0,t):m(()=>cl(e,t),!0,t)}function b(){let e=h;return sa(h,()=>e!==h?b():void 0)}function y(e,t,r){"errored"===e._state?r(e._storedError):ss(t,void 0,r)}function m(e,r,i){function n(){ss(e(),()=>w(r,i),e=>w(!0,e))}c||(c=!0,"writable"!==t._state||oM(t)?n():ss(b(),n))}function g(e,r){c||(c=!0,"writable"!==t._state||oM(t)?w(e,r):ss(b(),()=>w(e,r)))}function w(e,t){oB(o),sp(s),void 0!==a&&a.removeEventListener("abort",p),e?l(t):u(void 0)}so(sn((e,t)=>{!function r(i){i?e():sa(c?sr(!0):sa(o._readyPromise,()=>sn((e,t)=>{sO(s,{_chunkSteps:t=>{h=sa(oT(o,t),void 0,a8),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})),r,t)}(!1)}))})}class o3{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!o5(this))throw cn("desiredSize");return ct(this)}close(){if(!o5(this))throw cn("close");if(!cr(this))throw TypeError("The stream is not in a state that permits close");o7(this)}enqueue(e){if(!o5(this))throw cn("enqueue");if(!cr(this))throw TypeError("The stream is not in a state that permits enqueue");return o9(this,e)}error(e){if(!o5(this))throw cn("error");ce(this,e)}[s_](e){sY(this);let t=this._cancelAlgorithm(e);return o8(this),t}[sk](e){let t=this._controlledReadableStream;if(this._queue.length>0){let r=sZ(this);this._closeRequested&&0===this._queue.length?(o8(this),cd(t)):o6(this),e._chunkSteps(r)}else sB(t,e),o6(this)}}function o5(e){return!!a9(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function o6(e){if(o4(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,ss(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,o6(e))},t=>{ce(e,t)})}}function o4(e){let t=e._controlledReadableStream;return!!cr(e)&&!!e._started&&(!!(cu(t)&&sK(t)>0)||ct(e)>0)}function o8(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function o7(e){if(!cr(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(o8(e),cd(t))}function o9(e,t){if(!cr(e))return;let r=e._controlledReadableStream;if(cu(r)&&sK(r)>0)sT(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw ce(e,t),t}try{s$(e,t,r)}catch(t){throw ce(e,t),t}}o6(e)}function ce(e,t){let r=e._controlledReadableStream;"readable"===r._state&&(sY(e),o8(e),cf(r,t))}function ct(e){let t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function cr(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function ci(e,t,r,i,n,a,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,sY(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._pullAlgorithm=i,t._cancelAlgorithm=n,e._readableStreamController=t,ss(sr(r()),()=>{t._started=!0,o6(t)},e=>{ce(t,e)})}function cn(e){return TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function ca(e,t){sE(e,t);let r=null==e?void 0:e.preventAbort,i=null==e?void 0:e.preventCancel,n=null==e?void 0:e.preventClose,a=null==e?void 0:e.signal;return void 0!==a&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw TypeError(t+" is not an AbortSignal.")}(a,t+" has member 'signal' that"),{preventAbort:!!r,preventCancel:!!i,preventClose:!!n,signal:a}}Object.defineProperties(o3.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a4.toStringTag&&Object.defineProperty(o3.prototype,a4.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class cs{constructor(e={},t={}){void 0===e?e=null:sM(e,"First parameter");let r=oy(t,"Second parameter"),i=function(e,t){sE(e,t);let r=null==e?void 0:e.autoAllocateChunkSize,i=null==e?void 0:e.cancel,n=null==e?void 0:e.pull,a=null==e?void 0:e.start,s=null==e?void 0:e.type;return{autoAllocateChunkSize:void 0===r?void 0:sD(r,t+" has member 'autoAllocateChunkSize' that"),cancel:void 0===i?void 0:(sP(i,t+" has member 'cancel' that"),t=>su(i,e,[t])),pull:void 0===n?void 0:(sP(n,t+" has member 'pull' that"),t=>su(n,e,[t])),start:void 0===a?void 0:(sP(a,t+" has member 'start' that"),t=>sh(a,e,[t])),type:void 0===s?void 0:function(e,t){if("bytes"!=(e=""+e))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}(s,t+" has member 'type' that")}}(e,"First parameter");if(cc(this),"bytes"===i.type){if(void 0!==r.size)throw RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){var i,n,a;let s=Object.create(sJ.prototype),o=()=>{},c=()=>sr(void 0),h=()=>sr(void 0);void 0!==t.start&&(o=()=>t.start(s)),void 0!==t.pull&&(c=()=>t.pull(s)),void 0!==t.cancel&&(h=e=>t.cancel(e));let u=t.autoAllocateChunkSize;if(0===u)throw TypeError("autoAllocateChunkSize must be greater than 0");i=o,n=c,a=h,s._controlledReadableByteStream=e,s._pullAgain=!1,s._pulling=!1,s._byobRequest=null,s._queue=s._queueTotalSize=void 0,sY(s),s._closeRequested=!1,s._started=!1,s._strategyHWM=r,s._pullAlgorithm=n,s._cancelAlgorithm=a,s._autoAllocateChunkSize=u,s._pendingPullIntos=new sl,e._readableStreamController=s,ss(sr(i()),()=>{s._started=!0,s2(s)},e=>{on(s,e)})}(this,i,op(r,0))}else{let e=ob(r);!function(e,t,r,i){let n=Object.create(o3.prototype),a=()=>{},s=()=>sr(void 0),o=()=>sr(void 0);void 0!==t.start&&(a=()=>t.start(n)),void 0!==t.pull&&(s=()=>t.pull(n)),void 0!==t.cancel&&(o=e=>t.cancel(e)),ci(e,n,a,s,o,r,i)}(this,i,op(r,1),e)}}get locked(){if(!ch(this))throw cp("locked");return cu(this)}cancel(e){return ch(this)?cu(this)?si(TypeError("Cannot cancel a stream that already has a reader")):cl(this,e):si(cp("cancel"))}getReader(e){if(!ch(this))throw cp("getReader");let t=function(e,t){sE(e,t);let r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:function(e,t){if("byob"!=(e=""+e))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}(r,t+" has member 'mode' that")}}(e,"First parameter");return void 0===t.mode?sU(this):new ol(this)}pipeThrough(e,t={}){if(!ch(this))throw cp("pipeThrough");sC(e,1,"pipeThrough");let r=function(e,t){sE(e,t);let r=null==e?void 0:e.readable;sx(r,"readable","ReadableWritablePair"),sI(r,t+" has member 'readable' that");let i=null==e?void 0:e.writable;return sx(i,"writable","ReadableWritablePair"),om(i,t+" has member 'writable' that"),{readable:r,writable:i}}(e,"First parameter"),i=ca(t,"Second parameter");if(cu(this))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(o_(r.writable))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return so(o2(this,r.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal)),r.readable}pipeTo(e,t={}){let r;if(!ch(this))return si(cp("pipeTo"));if(void 0===e)return si("Parameter 1 is required in 'pipeTo'.");if(!ov(e))return si(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{r=ca(t,"Second parameter")}catch(e){return si(e)}return cu(this)?si(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):o_(e)?si(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):o2(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!ch(this))throw cp("tee");let e=function(e,t){let r=sU(e),i,n,a,s,o,c=!1,h=!1,u=!1,l=sn(e=>{o=e});function d(){return c||(c=!0,sO(r,{_chunkSteps:e=>{sc(()=>{c=!1,h||o9(a._readableStreamController,e),u||o9(s._readableStreamController,e)})},_closeSteps:()=>{c=!1,h||o7(a._readableStreamController),u||o7(s._readableStreamController),h&&u||o(void 0)},_errorSteps:()=>{c=!1}})),sr(void 0)}function f(){}return a=co(f,d,function(t){if(h=!0,i=t,u){let t=sX([i,n]),r=cl(e,t);o(r)}return l}),s=co(f,d,function(t){if(u=!0,n=t,h){let t=sX([i,n]),r=cl(e,t);o(r)}return l}),ss(r._closedPromise,void 0,e=>{ce(a._readableStreamController,e),ce(s._readableStreamController,e),h&&u||o(void 0)}),[a,s]}(this);return sX(e)}values(e){if(!ch(this))throw cp("values");return function(e,t){let r=sU(e),i=new sN(r,t),n=Object.create(sj);return n._asyncIteratorImpl=i,n}(this,(sE(e,"First parameter"),{preventCancel:!!(null==e?void 0:e.preventCancel)}).preventCancel)}}function co(e,t,r,i=1,n=()=>1){let a=Object.create(cs.prototype);return cc(a),ci(a,Object.create(o3.prototype),e,t,r,i,n),a}function cc(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function ch(e){return!!a9(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function cu(e){return void 0!==e._reader}function cl(e,t){return(e._disturbed=!0,"closed"===e._state)?sr(void 0):"errored"===e._state?si(e._storedError):(cd(e),sa(e._readableStreamController[s_](t),a8,void 0))}function cd(e){e._state="closed";let t=e._reader;void 0!==t&&(sg(t),sF(t)&&(t._readRequests.forEach(e=>{e._closeSteps()}),t._readRequests=new sl))}function cf(e,t){e._state="errored",e._storedError=t;let r=e._reader;void 0!==r&&(sm(r,t),sF(r)?(r._readRequests.forEach(e=>{e._errorSteps(t)}),r._readRequests=new sl):(r._readIntoRequests.forEach(e=>{e._errorSteps(t)}),r._readIntoRequests=new sl))}function cp(e){return TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function cb(e,t){sE(e,t);let r=null==e?void 0:e.highWaterMark;return sx(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:sR(r)}}Object.defineProperties(cs.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof a4.toStringTag&&Object.defineProperty(cs.prototype,a4.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof a4.asyncIterator&&Object.defineProperty(cs.prototype,a4.asyncIterator,{value:cs.prototype.values,writable:!0,configurable:!0});const cy=function(e){return e.byteLength};class cm{constructor(e){sC(e,1,"ByteLengthQueuingStrategy"),e=cb(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!cw(this))throw cg("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!cw(this))throw cg("size");return cy}}function cg(e){return TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function cw(e){return!!a9(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(cm.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof a4.toStringTag&&Object.defineProperty(cm.prototype,a4.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const cv=function(){return 1};class c_{constructor(e){sC(e,1,"CountQueuingStrategy"),e=cb(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!cA(this))throw ck("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!cA(this))throw ck("size");return cv}}function ck(e){return TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function cA(e){return!!a9(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")}Object.defineProperties(c_.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof a4.toStringTag&&Object.defineProperty(c_.prototype,a4.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class cS{constructor(e={},t={},r={}){let i;void 0===e&&(e=null);let n=oy(t,"Second parameter"),a=oy(r,"Third parameter"),s=function(e,t){sE(e,t);let r=null==e?void 0:e.flush,i=null==e?void 0:e.readableType,n=null==e?void 0:e.start,a=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:(sP(r,t+" has member 'flush' that"),t=>su(r,e,[t])),readableType:i,start:void 0===n?void 0:(sP(n,t+" has member 'start' that"),t=>sh(n,e,[t])),transform:void 0===a?void 0:(sP(a,t+" has member 'transform' that"),(t,r)=>su(a,e,[t,r])),writableType:s}}(e,"First parameter");if(void 0!==s.readableType)throw RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw RangeError("Invalid writableType specified");let o=op(a,0),c=ob(a),h=op(n,1),u=ob(n);!function(e,t,r,i,n,a){function s(){return t}e._writable=function(e,t,r,i,n=1,a=()=>1){let s=Object.create(og.prototype);return ow(s),oq(s,Object.create(oz.prototype),e,t,r,i,n,a),s}(s,function(t){return function(e,t){let r=e._transformStreamController;return e._backpressure?sa(e._backpressureChangePromise,()=>{let i=e._writable;if("erroring"===i._state)throw i._storedError;return cU(r,t)},void 0):cU(r,t)}(e,t)},function(){return function(e){let t=e._readable,r=e._transformStreamController,i=r._flushAlgorithm();return cD(r),sa(i,()=>{if("errored"===t._state)throw t._storedError;o7(t._readableStreamController)},r=>{throw cP(e,r),t._storedError})}(e)},function(t){return cP(e,t),sr(void 0)},r,i),e._readable=co(s,function(){return cC(e,!1),e._backpressureChangePromise},function(t){return cM(e,t),sr(void 0)},n,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,cC(e,!0),e._transformStreamController=void 0}(this,sn(e=>{i=e}),h,u,o,c),function(e,t){var r,i;let n=Object.create(cx.prototype),a=e=>{try{return cI(n,e),sr(void 0)}catch(e){return si(e)}},s=()=>sr(void 0);void 0!==t.transform&&(a=e=>t.transform(e,n)),void 0!==t.flush&&(s=()=>t.flush(n)),r=a,i=s,n._controlledTransformStream=e,e._transformStreamController=n,n._transformAlgorithm=r,n._flushAlgorithm=i}(this,s),void 0!==s.start?i(s.start(this._transformStreamController)):i(void 0)}get readable(){if(!cE(this))throw cT("readable");return this._readable}get writable(){if(!cE(this))throw cT("writable");return this._writable}}function cE(e){return!!a9(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function cP(e,t){ce(e._readable._readableStreamController,t),cM(e,t)}function cM(e,t){cD(e._transformStreamController),oN(e._writable._writableStreamController,t),e._backpressure&&cC(e,!1)}function cC(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=sn(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=t}Object.defineProperties(cS.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof a4.toStringTag&&Object.defineProperty(cS.prototype,a4.toStringTag,{value:"TransformStream",configurable:!0});class cx{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!cR(this))throw cB("desiredSize");return ct(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!cR(this))throw cB("enqueue");cI(this,e)}error(e){if(!cR(this))throw cB("error");cP(this._controlledTransformStream,e)}terminate(){if(!cR(this))throw cB("terminate");!function(e){let t=e._controlledTransformStream,r=t._readable._readableStreamController;o7(r),cM(t,TypeError("TransformStream terminated"))}(this)}}function cR(e){return!!a9(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function cD(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function cI(e,t){let r=e._controlledTransformStream,i=r._readable._readableStreamController;if(!cr(i))throw TypeError("Readable side is not in a state that permits enqueue");try{o9(i,t)}catch(e){throw cM(r,e),r._readable._storedError}let n=!o4(i);n!==r._backpressure&&cC(r,!0)}function cU(e,t){return sa(e._transformAlgorithm(t),void 0,t=>{throw cP(e._controlledTransformStream,t),t})}function cB(e){return TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function cT(e){return TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(cx.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a4.toStringTag&&Object.defineProperty(cx.prototype,a4.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var cK=function(e,t){return(cK=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function cz(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+t+" is not a constructor or null");function r(){this.constructor=e}cK(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function cq(e){if(!e)throw TypeError("Assertion failed")}function cF(){}function cO(e){return"object"==typeof e&&null!==e||"function"==typeof e}var cL=function(){function e(e){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=e,this._attachDefaultReader()}return e.prototype.start=function(e){this._readableStreamController=e},e.prototype.cancel=function(e){return cq(void 0!==this._underlyingReader),this._underlyingReader.cancel(e)},e.prototype._attachDefaultReader=function(){if("default"!==this._readerMode){this._detachReader();var e=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(e)}},e.prototype._attachReader=function(e){var t=this;cq(void 0===this._underlyingReader),this._underlyingReader=e;var r=this._underlyingReader.closed;r&&r.then(function(){return t._finishPendingRead()}).then(function(){e===t._underlyingReader&&t._readableStreamController.close()},function(r){e===t._underlyingReader&&t._readableStreamController.error(r)}).catch(cF)},e.prototype._detachReader=function(){void 0!==this._underlyingReader&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},e.prototype._pullWithDefaultReader=function(){var e=this;this._attachDefaultReader();var t=this._underlyingReader.read().then(function(t){var r=e._readableStreamController;t.done?e._tryClose():r.enqueue(t.value)});return this._setPendingRead(t),t},e.prototype._tryClose=function(){try{this._readableStreamController.close()}catch(e){}},e.prototype._setPendingRead=function(e){var t,r=this,i=function(){r._pendingRead===t&&(r._pendingRead=void 0)};this._pendingRead=t=e.then(i,i)},e.prototype._finishPendingRead=function(){var e=this;if(this._pendingRead){var t=function(){return e._finishPendingRead()};return this._pendingRead.then(t,t)}},e}();function cN(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}cz(t,e),t.prototype.pull=function(){return this._pullWithDefaultReader()}})(cL),function(e){function t(t){var r=this,i=function(e){try{return e.getReader({mode:"byob"}).releaseLock(),!0}catch(e){return!1}}(t);return(r=e.call(this,t)||this)._supportsByob=i,r}cz(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"bytes"},enumerable:!1,configurable:!0}),t.prototype._attachByobReader=function(){if("byob"!==this._readerMode){cq(this._supportsByob),this._detachReader();var e=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(e)}},t.prototype.pull=function(){if(this._supportsByob){var e=this._readableStreamController.byobRequest;if(e)return this._pullWithByobRequest(e)}return this._pullWithDefaultReader()},t.prototype._pullWithByobRequest=function(e){var t=this;this._attachByobReader();var r=new Uint8Array(e.view.byteLength),i=this._underlyingReader.read(r).then(function(r){var i,n,a;t._readableStreamController,r.done?(t._tryClose(),e.respond(0)):(i=r.value,n=e.view,a=cN(i),cN(n).set(a,0),e.respond(r.value.byteLength))});return this._setPendingRead(i),i}}(cL),function(){function e(e){var t=this;this._writableStreamController=void 0,this._pendingWrite=void 0,this._state="writable",this._storedError=void 0,this._underlyingWriter=e,this._errorPromise=new Promise(function(e,r){t._errorPromiseReject=r}),this._errorPromise.catch(cF)}e.prototype.start=function(e){var t=this;this._writableStreamController=e,this._underlyingWriter.closed.then(function(){t._state="closed"}).catch(function(e){return t._finishErroring(e)})},e.prototype.write=function(e){var t=this,r=this._underlyingWriter;if(null===r.desiredSize)return r.ready;var i=r.write(e);i.catch(function(e){return t._finishErroring(e)}),r.ready.catch(function(e){return t._startErroring(e)});var n=Promise.race([i,this._errorPromise]);return this._setPendingWrite(n),n},e.prototype.close=function(){var e=this;return void 0===this._pendingWrite?this._underlyingWriter.close():this._finishPendingWrite().then(function(){return e.close()})},e.prototype.abort=function(e){if("errored"!==this._state)return this._underlyingWriter.abort(e)},e.prototype._setPendingWrite=function(e){var t,r=this,i=function(){r._pendingWrite===t&&(r._pendingWrite=void 0)};this._pendingWrite=t=e.then(i,i)},e.prototype._finishPendingWrite=function(){var e=this;if(void 0===this._pendingWrite)return Promise.resolve();var t=function(){return e._finishPendingWrite()};return this._pendingWrite.then(t,t)},e.prototype._startErroring=function(e){var t=this;if("writable"===this._state){this._state="erroring",this._storedError=e;var r=function(){return t._finishErroring(e)};void 0===this._pendingWrite?r():this._finishPendingWrite().then(r,r),this._writableStreamController.error(e)}},e.prototype._finishErroring=function(e){"writable"===this._state&&this._startErroring(e),"erroring"===this._state&&(this._state="errored",this._errorPromiseReject(this._storedError))}}(),function(){function e(e,t){var r=this;this._transformStreamController=void 0,this._onRead=function(e){if(!e.done)return r._transformStreamController.enqueue(e.value),r._reader.read().then(r._onRead)},this._onError=function(e){r._flushReject(e),r._transformStreamController.error(e),r._reader.cancel(e).catch(cF),r._writer.abort(e).catch(cF)},this._onTerminate=function(){r._flushResolve(),r._transformStreamController.terminate();var e=TypeError("TransformStream terminated");r._writer.abort(e).catch(cF)},this._reader=e,this._writer=t,this._flushPromise=new Promise(function(e,t){r._flushResolve=e,r._flushReject=t})}e.prototype.start=function(e){this._transformStreamController=e,this._reader.read().then(this._onRead).then(this._onTerminate,this._onError);var t=this._reader.closed;t&&t.then(this._onTerminate,this._onError)},e.prototype.transform=function(e){return this._writer.write(e)},e.prototype.flush=function(){var e=this;return this._writer.close().then(function(){return e._flushPromise})}}();var cj=e2(function(e){!function(e,t){function r(e,t){if(!e)throw Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function n(e,t,r){if(n.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=n:t.BN=n,n.BN=n,n.wordSize=26;try{o=void 0}catch(e){}function a(e,t,r){for(var i=0,n=Math.min(e.length,r),a=t;a<n;a++){var s=e.charCodeAt(a)-48;i<<=4,i|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return i}function s(e,t,r,i){for(var n=0,a=Math.min(e.length,r),s=t;s<a;s++){var o=e.charCodeAt(s)-48;n*=i,n+=o>=49?o-49+10:o>=17?o-17+10:o}return n}n.isBN=function(e){return e instanceof n||null!==e&&"object"==typeof e&&e.constructor.wordSize===n.wordSize&&Array.isArray(e.words)},n.max=function(e,t){return e.cmp(t)>0?e:t},n.min=function(e,t){return 0>e.cmp(t)?e:t},n.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&n++,16===t?this._parseHex(e,n):this._parseBase(e,t,n),"-"===e[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),t,i)},n.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},n.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var a,s,o=0;if("be"===i)for(n=e.length-1,a=0;n>=0;n-=3)s=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(n=0,a=0;n<e.length;n+=3)s=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},n.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,n,s=0;for(r=e.length-6,i=0;r>=t;r-=6)n=a(e,r,r+6),this.words[i]|=n<<s&67108863,this.words[i+1]|=n>>>26-s&4194303,(s+=24)>=26&&(s-=26,i++);r+6!==t&&(n=a(e,t,r+6),this.words[i]|=n<<s&67108863,this.words[i+1]|=n>>>26-s&4194303),this.strip()},n.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var a=e.length-r,o=a%i,c=Math.min(a,a-o)+r,h=0,u=r;u<c;u+=i)h=s(e,u,u+i,t),this.imuln(n),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var l=1;for(h=s(e,u,e.length,t),u=0;u<o;u++)l*=t;this.imuln(l),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}},n.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},n.prototype.clone=function(){var e=new n(null);return this.copy(e),e},n.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var o,c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],a=0|t.words[0],s=n*a,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var h=1;h<i;h++){for(var u=c>>>26,l=67108863&c,d=Math.min(h,t.length-1),f=Math.max(0,h-e.length+1);f<=d;f++){var p=h-f|0;u+=(s=(n=0|e.words[p])*(a=0|t.words[f])+l)/67108864|0,l=67108863&s}r.words[h]=0|l,c=0|u}return 0!==c?r.words[h]=0|c:r.length--,r.strip()}n.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var n=0,a=0,s=0;s<this.length;s++){var o=this.words[s],l=(16777215&(o<<n|a)).toString(16);i=0!=(a=o>>>24-n&16777215)||s!==this.length-1?c[6-l.length]+l+i:l+i,(n+=2)>=26&&(n-=26,s--)}for(0!==a&&(i=a.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var d=h[e],f=u[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(f).toString(e);i=(p=p.idivn(f)).isZero()?b+i:c[d-b.length]+b+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},n.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},n.prototype.toArrayLike=function(e,t,i){var n=this.byteLength(),a=i||Math.max(1,n);r(n<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var s,o,c=new e(a),h=this.clone();if("le"===t){for(o=0;!h.isZero();o++)s=h.andln(255),h.iushrn(8),c[o]=s;for(;o<a;o++)c[o]=0}else{for(o=0;o<a-n;o++)c[o]=0;for(o=0;!h.isZero();o++)s=h.andln(255),h.iushrn(8),c[a-o-1]=s}return c},n.prototype._countBits=Math.clz32?function(e){return 32-Math.clz32(e)}:function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},n.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},n.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},n.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},n.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},n.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},n.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},n.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},n.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},n.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},n.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},n.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},n.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},n.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},n.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},n.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(e){return this.clone().inotn(e)},n.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,n=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,a=0;a<i.length;a++)t=(0|r.words[a])+(0|i.words[a])+n,this.words[a]=67108863&t,n=t>>>26;for(;0!==n&&a<r.length;a++)t=(0|r.words[a])+n,this.words[a]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},n.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},n.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var a=0,s=0;s<i.length;s++)a=(t=(0|r.words[s])-(0|i.words[s])+a)>>26,this.words[s]=67108863&t;for(;0!==a&&s<r.length;s++)a=(t=(0|r.words[s])+a)>>26,this.words[s]=67108863&t;if(0===a&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var i,n,a,s=e.words,o=t.words,c=r.words,h=0,u=0|s[0],l=8191&u,d=u>>>13,f=0|s[1],p=8191&f,b=f>>>13,y=0|s[2],m=8191&y,g=y>>>13,w=0|s[3],v=8191&w,_=w>>>13,k=0|s[4],A=8191&k,S=k>>>13,E=0|s[5],P=8191&E,M=E>>>13,C=0|s[6],x=8191&C,R=C>>>13,D=0|s[7],I=8191&D,U=D>>>13,B=0|s[8],T=8191&B,K=B>>>13,z=0|s[9],q=8191&z,F=z>>>13,O=0|o[0],L=8191&O,N=O>>>13,j=0|o[1],W=8191&j,H=j>>>13,G=0|o[2],V=8191&G,Z=G>>>13,$=0|o[3],Y=8191&$,X=$>>>13,Q=0|o[4],J=8191&Q,ee=Q>>>13,et=0|o[5],er=8191&et,ei=et>>>13,en=0|o[6],ea=8191&en,es=en>>>13,eo=0|o[7],ec=8191&eo,eh=eo>>>13,eu=0|o[8],el=8191&eu,ed=eu>>>13,ef=0|o[9],ep=8191&ef,eb=ef>>>13;r.negative=e.negative^t.negative,r.length=19;var ey=(h+(i=Math.imul(l,L))|0)+((8191&(n=(n=Math.imul(l,N))+Math.imul(d,L)|0))<<13)|0;h=((a=Math.imul(d,N))+(n>>>13)|0)+(ey>>>26)|0,ey&=67108863,i=Math.imul(p,L),n=(n=Math.imul(p,N))+Math.imul(b,L)|0,a=Math.imul(b,N);var em=(h+(i=i+Math.imul(l,W)|0)|0)+((8191&(n=(n=n+Math.imul(l,H)|0)+Math.imul(d,W)|0))<<13)|0;h=((a=a+Math.imul(d,H)|0)+(n>>>13)|0)+(em>>>26)|0,em&=67108863,i=Math.imul(m,L),n=(n=Math.imul(m,N))+Math.imul(g,L)|0,a=Math.imul(g,N),i=i+Math.imul(p,W)|0,n=(n=n+Math.imul(p,H)|0)+Math.imul(b,W)|0,a=a+Math.imul(b,H)|0;var eg=(h+(i=i+Math.imul(l,V)|0)|0)+((8191&(n=(n=n+Math.imul(l,Z)|0)+Math.imul(d,V)|0))<<13)|0;h=((a=a+Math.imul(d,Z)|0)+(n>>>13)|0)+(eg>>>26)|0,eg&=67108863,i=Math.imul(v,L),n=(n=Math.imul(v,N))+Math.imul(_,L)|0,a=Math.imul(_,N),i=i+Math.imul(m,W)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(g,W)|0,a=a+Math.imul(g,H)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,Z)|0)+Math.imul(b,V)|0,a=a+Math.imul(b,Z)|0;var ew=(h+(i=i+Math.imul(l,Y)|0)|0)+((8191&(n=(n=n+Math.imul(l,X)|0)+Math.imul(d,Y)|0))<<13)|0;h=((a=a+Math.imul(d,X)|0)+(n>>>13)|0)+(ew>>>26)|0,ew&=67108863,i=Math.imul(A,L),n=(n=Math.imul(A,N))+Math.imul(S,L)|0,a=Math.imul(S,N),i=i+Math.imul(v,W)|0,n=(n=n+Math.imul(v,H)|0)+Math.imul(_,W)|0,a=a+Math.imul(_,H)|0,i=i+Math.imul(m,V)|0,n=(n=n+Math.imul(m,Z)|0)+Math.imul(g,V)|0,a=a+Math.imul(g,Z)|0,i=i+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(b,Y)|0,a=a+Math.imul(b,X)|0;var ev=(h+(i=i+Math.imul(l,J)|0)|0)+((8191&(n=(n=n+Math.imul(l,ee)|0)+Math.imul(d,J)|0))<<13)|0;h=((a=a+Math.imul(d,ee)|0)+(n>>>13)|0)+(ev>>>26)|0,ev&=67108863,i=Math.imul(P,L),n=(n=Math.imul(P,N))+Math.imul(M,L)|0,a=Math.imul(M,N),i=i+Math.imul(A,W)|0,n=(n=n+Math.imul(A,H)|0)+Math.imul(S,W)|0,a=a+Math.imul(S,H)|0,i=i+Math.imul(v,V)|0,n=(n=n+Math.imul(v,Z)|0)+Math.imul(_,V)|0,a=a+Math.imul(_,Z)|0,i=i+Math.imul(m,Y)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(g,Y)|0,a=a+Math.imul(g,X)|0,i=i+Math.imul(p,J)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(b,J)|0,a=a+Math.imul(b,ee)|0;var e_=(h+(i=i+Math.imul(l,er)|0)|0)+((8191&(n=(n=n+Math.imul(l,ei)|0)+Math.imul(d,er)|0))<<13)|0;h=((a=a+Math.imul(d,ei)|0)+(n>>>13)|0)+(e_>>>26)|0,e_&=67108863,i=Math.imul(x,L),n=(n=Math.imul(x,N))+Math.imul(R,L)|0,a=Math.imul(R,N),i=i+Math.imul(P,W)|0,n=(n=n+Math.imul(P,H)|0)+Math.imul(M,W)|0,a=a+Math.imul(M,H)|0,i=i+Math.imul(A,V)|0,n=(n=n+Math.imul(A,Z)|0)+Math.imul(S,V)|0,a=a+Math.imul(S,Z)|0,i=i+Math.imul(v,Y)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(_,Y)|0,a=a+Math.imul(_,X)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(g,J)|0,a=a+Math.imul(g,ee)|0,i=i+Math.imul(p,er)|0,n=(n=n+Math.imul(p,ei)|0)+Math.imul(b,er)|0,a=a+Math.imul(b,ei)|0;var ek=(h+(i=i+Math.imul(l,ea)|0)|0)+((8191&(n=(n=n+Math.imul(l,es)|0)+Math.imul(d,ea)|0))<<13)|0;h=((a=a+Math.imul(d,es)|0)+(n>>>13)|0)+(ek>>>26)|0,ek&=67108863,i=Math.imul(I,L),n=(n=Math.imul(I,N))+Math.imul(U,L)|0,a=Math.imul(U,N),i=i+Math.imul(x,W)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(R,W)|0,a=a+Math.imul(R,H)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,Z)|0)+Math.imul(M,V)|0,a=a+Math.imul(M,Z)|0,i=i+Math.imul(A,Y)|0,n=(n=n+Math.imul(A,X)|0)+Math.imul(S,Y)|0,a=a+Math.imul(S,X)|0,i=i+Math.imul(v,J)|0,n=(n=n+Math.imul(v,ee)|0)+Math.imul(_,J)|0,a=a+Math.imul(_,ee)|0,i=i+Math.imul(m,er)|0,n=(n=n+Math.imul(m,ei)|0)+Math.imul(g,er)|0,a=a+Math.imul(g,ei)|0,i=i+Math.imul(p,ea)|0,n=(n=n+Math.imul(p,es)|0)+Math.imul(b,ea)|0,a=a+Math.imul(b,es)|0;var eA=(h+(i=i+Math.imul(l,ec)|0)|0)+((8191&(n=(n=n+Math.imul(l,eh)|0)+Math.imul(d,ec)|0))<<13)|0;h=((a=a+Math.imul(d,eh)|0)+(n>>>13)|0)+(eA>>>26)|0,eA&=67108863,i=Math.imul(T,L),n=(n=Math.imul(T,N))+Math.imul(K,L)|0,a=Math.imul(K,N),i=i+Math.imul(I,W)|0,n=(n=n+Math.imul(I,H)|0)+Math.imul(U,W)|0,a=a+Math.imul(U,H)|0,i=i+Math.imul(x,V)|0,n=(n=n+Math.imul(x,Z)|0)+Math.imul(R,V)|0,a=a+Math.imul(R,Z)|0,i=i+Math.imul(P,Y)|0,n=(n=n+Math.imul(P,X)|0)+Math.imul(M,Y)|0,a=a+Math.imul(M,X)|0,i=i+Math.imul(A,J)|0,n=(n=n+Math.imul(A,ee)|0)+Math.imul(S,J)|0,a=a+Math.imul(S,ee)|0,i=i+Math.imul(v,er)|0,n=(n=n+Math.imul(v,ei)|0)+Math.imul(_,er)|0,a=a+Math.imul(_,ei)|0,i=i+Math.imul(m,ea)|0,n=(n=n+Math.imul(m,es)|0)+Math.imul(g,ea)|0,a=a+Math.imul(g,es)|0,i=i+Math.imul(p,ec)|0,n=(n=n+Math.imul(p,eh)|0)+Math.imul(b,ec)|0,a=a+Math.imul(b,eh)|0;var eS=(h+(i=i+Math.imul(l,el)|0)|0)+((8191&(n=(n=n+Math.imul(l,ed)|0)+Math.imul(d,el)|0))<<13)|0;h=((a=a+Math.imul(d,ed)|0)+(n>>>13)|0)+(eS>>>26)|0,eS&=67108863,i=Math.imul(q,L),n=(n=Math.imul(q,N))+Math.imul(F,L)|0,a=Math.imul(F,N),i=i+Math.imul(T,W)|0,n=(n=n+Math.imul(T,H)|0)+Math.imul(K,W)|0,a=a+Math.imul(K,H)|0,i=i+Math.imul(I,V)|0,n=(n=n+Math.imul(I,Z)|0)+Math.imul(U,V)|0,a=a+Math.imul(U,Z)|0,i=i+Math.imul(x,Y)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(R,Y)|0,a=a+Math.imul(R,X)|0,i=i+Math.imul(P,J)|0,n=(n=n+Math.imul(P,ee)|0)+Math.imul(M,J)|0,a=a+Math.imul(M,ee)|0,i=i+Math.imul(A,er)|0,n=(n=n+Math.imul(A,ei)|0)+Math.imul(S,er)|0,a=a+Math.imul(S,ei)|0,i=i+Math.imul(v,ea)|0,n=(n=n+Math.imul(v,es)|0)+Math.imul(_,ea)|0,a=a+Math.imul(_,es)|0,i=i+Math.imul(m,ec)|0,n=(n=n+Math.imul(m,eh)|0)+Math.imul(g,ec)|0,a=a+Math.imul(g,eh)|0,i=i+Math.imul(p,el)|0,n=(n=n+Math.imul(p,ed)|0)+Math.imul(b,el)|0,a=a+Math.imul(b,ed)|0;var eE=(h+(i=i+Math.imul(l,ep)|0)|0)+((8191&(n=(n=n+Math.imul(l,eb)|0)+Math.imul(d,ep)|0))<<13)|0;h=((a=a+Math.imul(d,eb)|0)+(n>>>13)|0)+(eE>>>26)|0,eE&=67108863,i=Math.imul(q,W),n=(n=Math.imul(q,H))+Math.imul(F,W)|0,a=Math.imul(F,H),i=i+Math.imul(T,V)|0,n=(n=n+Math.imul(T,Z)|0)+Math.imul(K,V)|0,a=a+Math.imul(K,Z)|0,i=i+Math.imul(I,Y)|0,n=(n=n+Math.imul(I,X)|0)+Math.imul(U,Y)|0,a=a+Math.imul(U,X)|0,i=i+Math.imul(x,J)|0,n=(n=n+Math.imul(x,ee)|0)+Math.imul(R,J)|0,a=a+Math.imul(R,ee)|0,i=i+Math.imul(P,er)|0,n=(n=n+Math.imul(P,ei)|0)+Math.imul(M,er)|0,a=a+Math.imul(M,ei)|0,i=i+Math.imul(A,ea)|0,n=(n=n+Math.imul(A,es)|0)+Math.imul(S,ea)|0,a=a+Math.imul(S,es)|0,i=i+Math.imul(v,ec)|0,n=(n=n+Math.imul(v,eh)|0)+Math.imul(_,ec)|0,a=a+Math.imul(_,eh)|0,i=i+Math.imul(m,el)|0,n=(n=n+Math.imul(m,ed)|0)+Math.imul(g,el)|0,a=a+Math.imul(g,ed)|0;var eP=(h+(i=i+Math.imul(p,ep)|0)|0)+((8191&(n=(n=n+Math.imul(p,eb)|0)+Math.imul(b,ep)|0))<<13)|0;h=((a=a+Math.imul(b,eb)|0)+(n>>>13)|0)+(eP>>>26)|0,eP&=67108863,i=Math.imul(q,V),n=(n=Math.imul(q,Z))+Math.imul(F,V)|0,a=Math.imul(F,Z),i=i+Math.imul(T,Y)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(K,Y)|0,a=a+Math.imul(K,X)|0,i=i+Math.imul(I,J)|0,n=(n=n+Math.imul(I,ee)|0)+Math.imul(U,J)|0,a=a+Math.imul(U,ee)|0,i=i+Math.imul(x,er)|0,n=(n=n+Math.imul(x,ei)|0)+Math.imul(R,er)|0,a=a+Math.imul(R,ei)|0,i=i+Math.imul(P,ea)|0,n=(n=n+Math.imul(P,es)|0)+Math.imul(M,ea)|0,a=a+Math.imul(M,es)|0,i=i+Math.imul(A,ec)|0,n=(n=n+Math.imul(A,eh)|0)+Math.imul(S,ec)|0,a=a+Math.imul(S,eh)|0,i=i+Math.imul(v,el)|0,n=(n=n+Math.imul(v,ed)|0)+Math.imul(_,el)|0,a=a+Math.imul(_,ed)|0;var eM=(h+(i=i+Math.imul(m,ep)|0)|0)+((8191&(n=(n=n+Math.imul(m,eb)|0)+Math.imul(g,ep)|0))<<13)|0;h=((a=a+Math.imul(g,eb)|0)+(n>>>13)|0)+(eM>>>26)|0,eM&=67108863,i=Math.imul(q,Y),n=(n=Math.imul(q,X))+Math.imul(F,Y)|0,a=Math.imul(F,X),i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,ee)|0)+Math.imul(K,J)|0,a=a+Math.imul(K,ee)|0,i=i+Math.imul(I,er)|0,n=(n=n+Math.imul(I,ei)|0)+Math.imul(U,er)|0,a=a+Math.imul(U,ei)|0,i=i+Math.imul(x,ea)|0,n=(n=n+Math.imul(x,es)|0)+Math.imul(R,ea)|0,a=a+Math.imul(R,es)|0,i=i+Math.imul(P,ec)|0,n=(n=n+Math.imul(P,eh)|0)+Math.imul(M,ec)|0,a=a+Math.imul(M,eh)|0,i=i+Math.imul(A,el)|0,n=(n=n+Math.imul(A,ed)|0)+Math.imul(S,el)|0,a=a+Math.imul(S,ed)|0;var eC=(h+(i=i+Math.imul(v,ep)|0)|0)+((8191&(n=(n=n+Math.imul(v,eb)|0)+Math.imul(_,ep)|0))<<13)|0;h=((a=a+Math.imul(_,eb)|0)+(n>>>13)|0)+(eC>>>26)|0,eC&=67108863,i=Math.imul(q,J),n=(n=Math.imul(q,ee))+Math.imul(F,J)|0,a=Math.imul(F,ee),i=i+Math.imul(T,er)|0,n=(n=n+Math.imul(T,ei)|0)+Math.imul(K,er)|0,a=a+Math.imul(K,ei)|0,i=i+Math.imul(I,ea)|0,n=(n=n+Math.imul(I,es)|0)+Math.imul(U,ea)|0,a=a+Math.imul(U,es)|0,i=i+Math.imul(x,ec)|0,n=(n=n+Math.imul(x,eh)|0)+Math.imul(R,ec)|0,a=a+Math.imul(R,eh)|0,i=i+Math.imul(P,el)|0,n=(n=n+Math.imul(P,ed)|0)+Math.imul(M,el)|0,a=a+Math.imul(M,ed)|0;var ex=(h+(i=i+Math.imul(A,ep)|0)|0)+((8191&(n=(n=n+Math.imul(A,eb)|0)+Math.imul(S,ep)|0))<<13)|0;h=((a=a+Math.imul(S,eb)|0)+(n>>>13)|0)+(ex>>>26)|0,ex&=67108863,i=Math.imul(q,er),n=(n=Math.imul(q,ei))+Math.imul(F,er)|0,a=Math.imul(F,ei),i=i+Math.imul(T,ea)|0,n=(n=n+Math.imul(T,es)|0)+Math.imul(K,ea)|0,a=a+Math.imul(K,es)|0,i=i+Math.imul(I,ec)|0,n=(n=n+Math.imul(I,eh)|0)+Math.imul(U,ec)|0,a=a+Math.imul(U,eh)|0,i=i+Math.imul(x,el)|0,n=(n=n+Math.imul(x,ed)|0)+Math.imul(R,el)|0,a=a+Math.imul(R,ed)|0;var eR=(h+(i=i+Math.imul(P,ep)|0)|0)+((8191&(n=(n=n+Math.imul(P,eb)|0)+Math.imul(M,ep)|0))<<13)|0;h=((a=a+Math.imul(M,eb)|0)+(n>>>13)|0)+(eR>>>26)|0,eR&=67108863,i=Math.imul(q,ea),n=(n=Math.imul(q,es))+Math.imul(F,ea)|0,a=Math.imul(F,es),i=i+Math.imul(T,ec)|0,n=(n=n+Math.imul(T,eh)|0)+Math.imul(K,ec)|0,a=a+Math.imul(K,eh)|0,i=i+Math.imul(I,el)|0,n=(n=n+Math.imul(I,ed)|0)+Math.imul(U,el)|0,a=a+Math.imul(U,ed)|0;var eD=(h+(i=i+Math.imul(x,ep)|0)|0)+((8191&(n=(n=n+Math.imul(x,eb)|0)+Math.imul(R,ep)|0))<<13)|0;h=((a=a+Math.imul(R,eb)|0)+(n>>>13)|0)+(eD>>>26)|0,eD&=67108863,i=Math.imul(q,ec),n=(n=Math.imul(q,eh))+Math.imul(F,ec)|0,a=Math.imul(F,eh),i=i+Math.imul(T,el)|0,n=(n=n+Math.imul(T,ed)|0)+Math.imul(K,el)|0,a=a+Math.imul(K,ed)|0;var eI=(h+(i=i+Math.imul(I,ep)|0)|0)+((8191&(n=(n=n+Math.imul(I,eb)|0)+Math.imul(U,ep)|0))<<13)|0;h=((a=a+Math.imul(U,eb)|0)+(n>>>13)|0)+(eI>>>26)|0,eI&=67108863,i=Math.imul(q,el),n=(n=Math.imul(q,ed))+Math.imul(F,el)|0,a=Math.imul(F,ed);var eU=(h+(i=i+Math.imul(T,ep)|0)|0)+((8191&(n=(n=n+Math.imul(T,eb)|0)+Math.imul(K,ep)|0))<<13)|0;h=((a=a+Math.imul(K,eb)|0)+(n>>>13)|0)+(eU>>>26)|0,eU&=67108863;var eB=(h+(i=Math.imul(q,ep))|0)+((8191&(n=(n=Math.imul(q,eb))+Math.imul(F,ep)|0))<<13)|0;return h=((a=Math.imul(F,eb))+(n>>>13)|0)+(eB>>>26)|0,eB&=67108863,c[0]=ey,c[1]=em,c[2]=eg,c[3]=ew,c[4]=ev,c[5]=e_,c[6]=ek,c[7]=eA,c[8]=eS,c[9]=eE,c[10]=eP,c[11]=eM,c[12]=eC,c[13]=ex,c[14]=eR,c[15]=eD,c[16]=eI,c[17]=eU,c[18]=eB,0!==h&&(c[19]=h,r.length++),r};function f(e,t,r){return(new p).mulp(e,t,r)}function p(e,t){this.x=e,this.y=t}Math.imul||(d=l),n.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?d(this,e,t):r<63?l(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,a=0;a<r.length-1;a++){var s=n;n=0;for(var o=67108863&i,c=Math.min(a,t.length-1),h=Math.max(0,a-e.length+1);h<=c;h++){var u=a-h,l=(0|e.words[u])*(0|t.words[h]),d=67108863&l;o=67108863&(d=d+o|0),n+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[a]=o,i=s,s=n}return 0!==i?r.words[a]=i:r.length--,r.strip()}(this,e,t):f(this,e,t)},p.prototype.makeRBT=function(e){for(var t=Array(e),r=n.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},p.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},p.prototype.permute=function(e,t,r,i,n,a){for(var s=0;s<a;s++)i[s]=t[e[s]],n[s]=r[e[s]]},p.prototype.transform=function(e,t,r,i,n,a){this.permute(a,e,t,r,i,n);for(var s=1;s<n;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),h=Math.sin(2*Math.PI/o),u=0;u<n;u+=o)for(var l=c,d=h,f=0;f<s;f++){var p=r[u+f],b=i[u+f],y=r[u+f+s],m=i[u+f+s],g=l*y-d*m;m=l*m+d*y,y=g,r[u+f]=p+y,i[u+f]=b+m,r[u+f+s]=p-y,i[u+f+s]=b-m,f!==o&&(g=c*l-h*d,d=c*d+h*l,l=g)}},p.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},p.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},p.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},p.prototype.convert13b=function(e,t,i,n){for(var a=0,s=0;s<t;s++)a+=0|e[s],i[2*s]=8191&a,a>>>=13,i[2*s+1]=8191&a,a>>>=13;for(s=2*t;s<n;++s)i[s]=0;r(0===a),r(0==(-8192&a))},p.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},p.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),a=this.stub(i),s=Array(i),o=Array(i),c=Array(i),h=Array(i),u=Array(i),l=Array(i),d=r.words;d.length=i,this.convert13b(e.words,e.length,s,i),this.convert13b(t.words,t.length,h,i),this.transform(s,a,o,c,i,n),this.transform(h,a,u,l,i,n);for(var f=0;f<i;f++){var p=o[f]*u[f]-c[f]*l[f];c[f]=o[f]*l[f]+c[f]*u[f],o[f]=p}return this.conjugate(o,c,i),this.transform(o,c,d,a,i,n),this.conjugate(d,a,i),this.normalize13b(d,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},n.prototype.mul=function(e){var t=new n(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},n.prototype.mulf=function(e){var t=new n(null);return t.words=Array(this.length+e.length),f(this,e,t)},n.prototype.imul=function(e){return this.clone().mulTo(e,this)},n.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var n=(0|this.words[i])*e,a=(67108863&n)+(67108863&t);t>>=26,t+=(n/67108864|0)+(a>>>26),this.words[i]=67108863&a}return 0!==t&&(this.words[i]=t,this.length++),this},n.prototype.muln=function(e){return this.clone().imuln(e)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}(e);if(0===t.length)return new n(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var a=r.sqr();i<t.length;i++,a=a.sqr())0!==t[i]&&(r=r.mul(a));return r},n.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,n=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|s,s=o>>>26-i}s&&(this.words[t]=s,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},n.prototype.iushrn=function(e,t,i){r("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var n,a=e%26,s=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a;if(n=Math.max(0,n-=s),i){for(var c=0;c<s;c++)i.words[c]=this.words[c];i.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=n);c--){var u=0|this.words[c];this.words[c]=h<<26-a|u>>>a,h=u&o}return i&&0!==h&&(i.words[i.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},n.prototype.shln=function(e){return this.clone().ishln(e)},n.prototype.ushln=function(e){return this.clone().iushln(e)},n.prototype.shrn=function(e){return this.clone().ishrn(e)},n.prototype.ushrn=function(e){return this.clone().iushrn(e)},n.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;return!(this.length<=i)&&!!(this.words[i]&1<<t)},n.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;return(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)?this:(0!==t&&i++,this.length=Math.min(i,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this.strip())},n.prototype.maskn=function(e){return this.clone().imaskn(e)},n.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},n.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},n.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},n.prototype.addn=function(e){return this.clone().iaddn(e)},n.prototype.subn=function(e){return this.clone().isubn(e)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(e,t,i){var n,a,s=e.length+i;this._expand(s);var o=0;for(n=0;n<e.length;n++){a=(0|this.words[n+i])+o;var c=(0|e.words[n])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[n+i]=67108863&a}for(;n<this.length-i;n++)o=(a=(0|this.words[n+i])+o)>>26,this.words[n+i]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,n=0;n<this.length;n++)o=(a=-(0|this.words[n])+o)>>26,this.words[n]=67108863&a;return this.negative=1,this.strip()},n.prototype._wordDiv=function(e,t){var r=(this.length,e.length),i=this.clone(),a=e,s=0|a.words[a.length-1];0!=(r=26-this._countBits(s))&&(a=a.ushln(r),i.iushln(r),s=0|a.words[a.length-1]);var o,c=i.length-a.length;if("mod"!==t){(o=new n(null)).length=c+1,o.words=Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var u=i.clone()._ishlnsubmul(a,1,c);0===u.negative&&(i=u,o&&(o.words[c]=1));for(var l=c-1;l>=0;l--){var d=67108864*(0|i.words[a.length+l])+(0|i.words[a.length+l-1]);for(d=Math.min(d/s|0,67108863),i._ishlnsubmul(a,d,l);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(a,1,l),i.isZero()||(i.negative^=1);o&&(o.words[l]=d)}return o&&o.strip(),i.strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:o||null,mod:i}},n.prototype.divmod=function(e,t,i){var a,s,o;return r(!e.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),i&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),i&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||0>this.cmp(e)?{div:new n(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new n(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new n(this.modn(e.words[0]))}:this._wordDiv(e,t)},n.prototype.div=function(e){return this.divmod(e,"div",!1).div},n.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},n.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},n.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),a=r.cmp(i);return a<0||1===n&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},n.prototype.modn=function(e){r(e<=67108863);for(var t=67108864%e,i=0,n=this.length-1;n>=0;n--)i=(t*i+(0|this.words[n]))%e;return i},n.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*t;this.words[i]=n/e|0,t=n%e}return this.strip()},n.prototype.divn=function(e){return this.clone().idivn(e)},n.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new n(1),s=new n(0),o=new n(0),c=new n(1),h=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++h;for(var u=i.clone(),l=t.clone();!t.isZero();){for(var d=0,f=1;0==(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(u),s.isub(l)),a.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(i.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(u),c.isub(l)),o.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(o),s.isub(c)):(i.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:i.iushln(h)}},n.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new n(1),o=new n(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var h=0,u=1;0==(t.words[0]&u)&&h<26;++h,u<<=1);if(h>0)for(t.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var l=0,d=1;0==(i.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(i.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o)):(i.isub(t),o.isub(s))}return 0>(a=0===t.cmpn(1)?s:o).cmpn(0)&&a.iadd(e),a},n.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var a=t;t=r,r=a}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},n.prototype.invm=function(e){return this.egcd(e).a.umod(e)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(e){return this.words[0]&e},n.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,n=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var a=n,s=i;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return -1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},n.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},n.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},n.prototype.gtn=function(e){return 1===this.cmpn(e)},n.prototype.gt=function(e){return 1===this.cmp(e)},n.prototype.gten=function(e){return this.cmpn(e)>=0},n.prototype.gte=function(e){return this.cmp(e)>=0},n.prototype.ltn=function(e){return -1===this.cmpn(e)},n.prototype.lt=function(e){return -1===this.cmp(e)},n.prototype.lten=function(e){return 0>=this.cmpn(e)},n.prototype.lte=function(e){return 0>=this.cmp(e)},n.prototype.eqn=function(e){return 0===this.cmpn(e)},n.prototype.eq=function(e){return 0===this.cmp(e)},n.red=function(e){return new _(e)},n.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(e){return this.red=e,this},n.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},n.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},n.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},n.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},n.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},n.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},n.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},n.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new n(t,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function m(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=n._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new n(null);return e.words=Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n)var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(m,y),m.prototype.split=function(e,t){for(var r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var n=e.words[9];for(t.words[t.length++]=4194303&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(4194303&a)<<4|n>>>22,n=a}n>>>=22,e.words[i-10]=n,0===n&&e.length>10?e.length-=10:e.length-=9},m.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(g,y),i(w,y),i(v,y),v.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},n._prime=function(e){var t;if(b[e])return b[e];if("k256"===e)t=new m;else if("p224"===e)t=new g;else if("p192"===e)t=new w;else{if("p25519"!==e)throw Error("Unknown prime "+e);t=new v}return b[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new n(1)).iushrn(2);return this.pow(e,i)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);r(!a.isZero());var o=new n(1).toRed(this),c=o.redNeg(),h=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new n(2*u*u).toRed(this);0!==this.pow(u,h).cmp(c);)u.redIAdd(c);for(var l=this.pow(u,a),d=this.pow(e,a.addn(1).iushrn(1)),f=this.pow(e,a),p=s;0!==f.cmp(o);){for(var b=f,y=0;0!==b.cmp(o);y++)b=b.redSqr();r(y<p);var m=this.pow(l,new n(1).iushln(p-y-1));d=d.redMul(m),l=m.redSqr(),f=f.redMul(l),p=y}return d},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new n(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new n(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var h=t.words[i],u=c-1;u>=0;u--){var l=h>>u&1;a!==r[0]&&(a=this.sqr(a)),0!==l||0!==s?(s<<=1,s|=l,(4==++o||0===i&&0===u)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},n.mont=function(e){return new k(e)},i(k,_),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):0>n.cmpn(0)&&(a=n.iadd(this.m)),a._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new n(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(i).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):0>a.cmpn(0)&&(s=a.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,e1)}),cW=Object.freeze({__proto__:null,default:cj,__moduleExports:cj});class cH{constructor(e){if(void 0===e)throw Error("Invalid BigInteger input");this.value=new cj(e)}clone(){let e=new cH(null);return this.value.copy(e.value),e}iinc(){return this.value.iadd(new cj(1)),this}inc(){return this.clone().iinc()}idec(){return this.value.isub(new cj(1)),this}dec(){return this.clone().idec()}iadd(e){return this.value.iadd(e.value),this}add(e){return this.clone().iadd(e)}isub(e){return this.value.isub(e.value),this}sub(e){return this.clone().isub(e)}imul(e){return this.value.imul(e.value),this}mul(e){return this.clone().imul(e)}imod(e){return this.value=this.value.umod(e.value),this}mod(e){return this.clone().imod(e)}modExp(e,t){let r=t.isEven()?cj.red(t.value):cj.mont(t.value),i=this.clone();return i.value=i.value.toRed(r).redPow(e.value).fromRed(),i}modInv(e){if(!this.gcd(e).isOne())throw Error("Inverse does not exist");return new cH(this.value.invm(e.value))}gcd(e){return new cH(this.value.gcd(e.value))}ileftShift(e){return this.value.ishln(e.value.toNumber()),this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value.ishrn(e.value.toNumber()),this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value.eq(e.value)}lt(e){return this.value.lt(e.value)}lte(e){return this.value.lte(e.value)}gt(e){return this.value.gt(e.value)}gte(e){return this.value.gte(e.value)}isZero(){return this.value.isZero()}isOne(){return this.value.eq(new cj(1))}isNegative(){return this.value.isNeg()}isEven(){return this.value.isEven()}abs(){let e=this.clone();return e.value=e.value.abs(),e}toString(){return this.value.toString()}toNumber(){return this.value.toNumber()}getBit(e){return this.value.testn(e)?1:0}bitLength(){return this.value.bitLength()}byteLength(){return this.value.byteLength()}toUint8Array(e="be",t){return this.value.toArrayLike(Uint8Array,e,t)}}var cG,cV=Object.freeze({__proto__:null,default:cH}),cZ=e2(function(e,t){function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",i=0;i<e.length;i++)t+=r(e[i].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var i=0;i<e.length;i++)r[i]=0|e[i];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16));else for(i=0;i<e.length;i++){var n=e.charCodeAt(i),a=n>>8,s=255&n;a?r.push(a,s):r.push(s)}return r},t.zero2=r,t.toHex=i,t.encode=function(e,t){return"hex"===t?i(e):e}}),c$=e2(function(e,t){t.assert=eJ,t.toArray=cZ.toArray,t.zero2=cZ.zero2,t.toHex=cZ.toHex,t.encode=cZ.encode,t.getNAF=function(e,t){for(var r,i=[],n=1<<t+1,a=e.clone();a.cmpn(1)>=0;){if(a.isOdd()){var s=a.andln(n-1);r=s>(n>>1)-1?(n>>1)-s:s,a.isubn(r)}else r=0;i.push(r);for(var o=0!==a.cmpn(0)&&0===a.andln(n-1)?t+1:1,c=1;c<o;c++)i.push(0);a.iushrn(o)}return i},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var i=0,n=0;e.cmpn(-i)>0||t.cmpn(-n)>0;){var a,s,o,c=e.andln(3)+i&3,h=t.andln(3)+n&3;3===c&&(c=-1),3===h&&(h=-1),a=0==(1&c)?0:3!=(o=e.andln(7)+i&7)&&5!==o||2!==h?c:-c,r[0].push(a),s=0==(1&h)?0:3!=(o=t.andln(7)+n&7)&&5!==o||2!==c?h:-h,r[1].push(s),2*i===a+1&&(i=1-i),2*n===s+1&&(n=1-n),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new cj(e,"hex","le")}}),cY=function(e){return cG||(cG=new cX(null)),cG.generate(e)};function cX(e){this.rand=e}if(cX.prototype.generate=function(e){return this._rand(e)},cX.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?cX.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?cX.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(cX.prototype._rand=function(){throw Error("Not implemented yet")});else try{var cQ=void 0;if("function"!=typeof cQ.randomBytes)throw Error("Not supported");cX.prototype._rand=function(e){return cQ.randomBytes(e)}}catch(e){}cY.Rand=cX;var cJ=c$.getNAF,c0=c$.getJSF,c1=c$.assert;function c2(e,t){this.type=e,this.p=new cj(t.p,16),this.red=t.prime?cj.red(t.prime):cj.mont(this.p),this.zero=new cj(0).toRed(this.red),this.one=new cj(1).toRed(this.red),this.two=new cj(2).toRed(this.red),this.n=t.n&&new cj(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,];var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c3(e,t){this.curve=e,this.type=t,this.precomputed=null}c2.prototype.point=function(){throw Error("Not implemented")},c2.prototype.validate=function(){throw Error("Not implemented")},c2.prototype._fixedNafMul=function(e,t){c1(e.precomputed);var r=e._getDoubles(),i=cJ(t,1),n=(1<<r.step+1)-(r.step%2==0?2:1);n/=3;for(var a=[],s=0;s<i.length;s+=r.step){var o=0;for(t=s+r.step-1;t>=s;t--)o=(o<<1)+i[t];a.push(o)}for(var c=this.jpoint(null,null,null),h=this.jpoint(null,null,null),u=n;u>0;u--){for(s=0;s<a.length;s++)(o=a[s])===u?h=h.mixedAdd(r.points[s]):o===-u&&(h=h.mixedAdd(r.points[s].neg()));c=c.add(h)}return c.toP()},c2.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,a=cJ(t,r),s=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(t=0;o>=0&&0===a[o];o--)t++;if(o>=0&&t++,s=s.dblp(t),o<0)break;var c=a[o];c1(0!==c),s="affine"===e.type?c>0?s.mixedAdd(n[c-1>>1]):s.mixedAdd(n[-c-1>>1].neg()):c>0?s.add(n[c-1>>1]):s.add(n[-c-1>>1].neg())}return"affine"===e.type?s.toP():s},c2.prototype._wnafMulAdd=function(e,t,r,i,n){for(var a=this._wnafT1,s=this._wnafT2,o=this._wnafT3,c=0,h=0;h<i;h++){var u=(A=t[h])._getNAFPoints(e);a[h]=u.wnd,s[h]=u.points}for(h=i-1;h>=1;h-=2){var l=h-1,d=h;if(1===a[l]&&1===a[d]){var f=[t[l],null,null,t[d]];0===t[l].y.cmp(t[d].y)?(f[1]=t[l].add(t[d]),f[2]=t[l].toJ().mixedAdd(t[d].neg())):0===t[l].y.cmp(t[d].y.redNeg())?(f[1]=t[l].toJ().mixedAdd(t[d]),f[2]=t[l].add(t[d].neg())):(f[1]=t[l].toJ().mixedAdd(t[d]),f[2]=t[l].toJ().mixedAdd(t[d].neg()));var p=[-3,-1,-5,-7,0,7,5,1,3],b=c0(r[l],r[d]);c=Math.max(b[0].length,c),o[l]=Array(c),o[d]=Array(c);for(var y=0;y<c;y++){var m=0|b[0][y],g=0|b[1][y];o[l][y]=p[3*(m+1)+(g+1)],o[d][y]=0,s[l]=f}}else o[l]=cJ(r[l],a[l]),o[d]=cJ(r[d],a[d]),c=Math.max(o[l].length,c),c=Math.max(o[d].length,c)}var w=this.jpoint(null,null,null),v=this._wnafT4;for(h=c;h>=0;h--){for(var _=0;h>=0;){var k=!0;for(y=0;y<i;y++)v[y]=0|o[y][h],0!==v[y]&&(k=!1);if(!k)break;_++,h--}if(h>=0&&_++,w=w.dblp(_),h<0)break;for(y=0;y<i;y++){var A,S=v[y];0!==S&&(S>0?A=s[y][S-1>>1]:S<0&&(A=s[y][-S-1>>1].neg()),w="affine"===A.type?w.mixedAdd(A):w.add(A))}}for(h=0;h<i;h++)s[h]=null;return n?w:w.toP()},c2.BasePoint=c3,c3.prototype.eq=function(){throw Error("Not implemented")},c3.prototype.validate=function(){return this.curve.validate(this)},c2.prototype.decodePoint=function(e,t){e=c$.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?c1(e[e.length-1]%2==0):7===e[0]&&c1(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},c3.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c3.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},c3.prototype.encode=function(e,t){return c$.encode(this._encode(t),e)},c3.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c3.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c3.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var a=0;a<e;a++)i=i.dbl();r.push(i)}return{step:e,points:r}},c3.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},c3.prototype._getBeta=function(){return null},c3.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var c5=c$.assert;function c6(e){c2.call(this,"short",e),this.a=new cj(e.a,16).toRed(this.red),this.b=new cj(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function c4(e,t,r,i){c2.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new cj(t,16),this.y=new cj(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c8(e,t,r,i){c2.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new cj(0)):(this.x=new cj(t,16),this.y=new cj(r,16),this.z=new cj(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function c7(e){c2.call(this,"mont",e),this.a=new cj(e.a,16).toRed(this.red),this.b=new cj(e.b,16).toRed(this.red),this.i4=new cj(4).toRed(this.red).redInvm(),this.two=new cj(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c9(e,t,r){c2.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new cj(t,16),this.z=new cj(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}e5(c6,c2),c6.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new cj(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=(t=0>i[0].cmp(i[1])?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new cj(e.lambda,16);else{var n=this._getEndoRoots(this.n);0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))?r=n[0]:(r=n[1],c5(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map(function(e){return{a:new cj(e.a,16),b:new cj(e.b,16)}}):this._getEndoBasis(r)}}},c6.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:cj.mont(e),r=new cj(2).toRed(t).redInvm(),i=r.redNeg(),n=new cj(3).toRed(t).redNeg().redSqrt().redMul(r);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},c6.prototype._getEndoBasis=function(e){for(var t,r,i,n,a,s,o,c,h,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,d=this.n.clone(),f=new cj(1),p=new cj(0),b=new cj(0),y=new cj(1),m=0;0!==l.cmpn(0);){var g=d.div(l);c=d.sub(g.mul(l)),h=b.sub(g.mul(f));var w=y.sub(g.mul(p));if(!i&&0>c.cmp(u))t=o.neg(),r=f,i=c.neg(),n=h;else if(i&&2==++m)break;o=c,d=l,l=c,b=f,f=h,y=p,p=w}a=c.neg(),s=h;var v=i.sqr().add(n.sqr());return a.sqr().add(s.sqr()).cmp(v)>=0&&(a=t,s=r),i.negative&&(i=i.neg(),n=n.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:i,b:n},{a:a,b:s}]},c6.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),s=n.mul(r.a),o=a.mul(i.a),c=n.mul(r.b),h=a.mul(i.b);return{k1:e.sub(s).sub(o),k2:c.add(h).neg()}},c6.prototype.pointFromX=function(e,t){(e=new cj(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},c6.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},c6.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),o=e[a],c=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),i[2*a]=o,i[2*a+1]=c,n[2*a]=s.k1,n[2*a+1]=s.k2}for(var h=this._wnafMulAdd(1,i,n,2*a,r),u=0;u<2*a;u++)i[u]=null,n[u]=null;return h},e5(c4,c2.BasePoint),c6.prototype.point=function(e,t,r){return new c4(this,e,t,r)},c6.prototype.pointFromJSON=function(e,t){return c4.fromJSON(this,e,t)},c4.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},c4.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c4.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(t){return e.point(t[0],t[1],r)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(n))}},i},c4.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c4.prototype.isInfinity=function(){return this.inf},c4.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},c4.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),a=n.redSqr().redISub(this.x.redAdd(this.x)),s=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},c4.prototype.getX=function(){return this.x.fromRed()},c4.prototype.getY=function(){return this.y.fromRed()},c4.prototype.mul=function(e){return e=new cj(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c4.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},c4.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},c4.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c4.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},c4.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},e5(c8,c2.BasePoint),c6.prototype.jpoint=function(e,t,r){return new c8(this,e,t,r)},c8.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},c8.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c8.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),o=i.redSub(n),c=a.redSub(s);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),u=h.redMul(o),l=i.redMul(h),d=c.redSqr().redIAdd(u).redISub(l).redISub(l),f=c.redMul(l.redISub(d)).redISub(a.redMul(u)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(d,f,p)},c8.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,a=e.y.redMul(t).redMul(this.z),s=r.redSub(i),o=n.redSub(a);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),h=c.redMul(s),u=r.redMul(c),l=o.redSqr().redIAdd(h).redISub(u).redISub(u),d=o.redMul(u.redISub(l)).redISub(n.redMul(h)),f=this.z.redMul(s);return this.curve.jpoint(l,d,f)},c8.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var i=this.curve.a,n=this.curve.tinv,a=this.x,s=this.y,o=this.z,c=o.redSqr().redSqr(),h=s.redAdd(s);for(r=0;r<e;r++){var u=a.redSqr(),l=h.redSqr(),d=l.redSqr(),f=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(c)),p=a.redMul(l),b=f.redSqr().redISub(p.redAdd(p)),y=p.redISub(b),m=f.redMul(y);m=m.redIAdd(m).redISub(d);var g=h.redMul(o);r+1<e&&(c=c.redMul(d)),a=b,o=g,h=m}return this.curve.jpoint(a,h.redMul(n),o)},c8.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c8.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var o=i.redAdd(i).redIAdd(i),c=o.redSqr().redISub(s).redISub(s),h=a.redIAdd(a);h=(h=h.redIAdd(h)).redIAdd(h),e=c,t=o.redMul(s.redISub(c)).redISub(h),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),l=this.y.redSqr(),d=l.redSqr(),f=this.x.redAdd(l).redSqr().redISub(u).redISub(d);f=f.redIAdd(f);var p=u.redAdd(u).redIAdd(u),b=p.redSqr(),y=d.redIAdd(d);y=(y=y.redIAdd(y)).redIAdd(y),e=b.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},c8.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var o=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=o.redSqr().redISub(s).redISub(s);e=c;var h=a.redIAdd(a);h=(h=h.redIAdd(h)).redIAdd(h),t=o.redMul(s.redISub(c)).redISub(h),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),l=this.y.redSqr(),d=this.x.redMul(l),f=this.x.redSub(u).redMul(this.x.redAdd(u));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),b=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(u);var y=l.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=f.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},c8.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),a=t.redSqr(),s=r.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(n)),c=t.redAdd(t),h=(c=c.redIAdd(c)).redMul(s),u=o.redSqr().redISub(h.redAdd(h)),l=h.redISub(u),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=o.redMul(l).redISub(d),p=r.redAdd(r).redMul(i);return this.curve.jpoint(u,f,p)},c8.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),a=n.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(i),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),c=i.redIAdd(i);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var h=n.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(c),u=t.redMul(h);u=(u=u.redIAdd(u)).redIAdd(u);var l=this.x.redMul(o).redISub(u);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.y.redMul(h.redMul(c.redISub(h)).redISub(s.redMul(o)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(l,d,f)},c8.prototype.mul=function(e,t){return e=new cj(e,t),this.curve._wnafMul(this,e)},c8.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)},c8.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},c8.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c8.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},e5(c7,c2),c7.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),i=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},e5(c9,c2.BasePoint),c7.prototype.decodePoint=function(e,t){if(33===(e=c$.toArray(e,t)).length&&64===e[0]&&(e=e.slice(1,33).reverse()),32!==e.length)throw Error("Unknown point compression format");return this.point(e,1)},c7.prototype.point=function(e,t){return new c9(this,e,t)},c7.prototype.pointFromJSON=function(e){return c9.fromJSON(this,e)},c9.prototype.precompute=function(){},c9.prototype._encode=function(e){var t=this.curve.p.byteLength();return e?[64].concat(this.getX().toArray("le",t)):this.getX().toArray("be",t)},c9.fromJSON=function(e,t){return new c9(e,t[0],t[1]||e.one)},c9.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c9.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c9.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),i=e.redMul(t),n=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},c9.prototype.add=function(){throw Error("Not supported on Montgomery curve")},c9.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(r),s=n.redMul(i),o=t.z.redMul(a.redAdd(s).redSqr()),c=t.x.redMul(a.redISub(s).redSqr());return this.curve.point(o,c)},c9.prototype.mul=function(e){for(var t=(e=new cj(e,16)).clone(),r=this,i=this.curve.point(null,null),n=[];0!==t.cmpn(0);t.iushrn(1))n.push(t.andln(1));for(var a=n.length-1;a>=0;a--)0===n[a]?(r=r.diffAdd(i,this),i=i.dbl()):(i=r.diffAdd(i,this),r=r.dbl());return i},c9.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},c9.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},c9.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c9.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c9.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var he=c$.assert;function ht(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,c2.call(this,"edwards",e),this.a=new cj(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new cj(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new cj(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),he(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function hr(e,t,r,i,n){c2.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new cj(t,16),this.y=new cj(r,16),this.z=i?new cj(i,16):this.curve.one,this.t=n&&new cj(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}e5(ht,c2),ht.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},ht.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},ht.prototype.jpoint=function(e,t,r,i){return this.point(e,t,r,i)},ht.prototype.pointFromX=function(e,t){(e=new cj(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),n=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=i.redMul(n.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw Error("invalid point");var o=s.fromRed().isOdd();return(t&&!o||!t&&o)&&(s=s.redNeg()),this.point(e,s)},ht.prototype.pointFromY=function(e,t){(e=new cj(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.c2),n=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(n.redInvm());if(0===a.cmp(this.zero)){if(t)throw Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},ht.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),i=t.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===i.cmp(n)},e5(hr,c2.BasePoint),ht.prototype.pointFromJSON=function(e){return hr.fromJSON(this,e)},ht.prototype.point=function(e,t,r,i){return new hr(this,e,t,r,i)},hr.fromJSON=function(e,t){return new hr(e,t[0],t[1],t[2])},hr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},hr.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},hr.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=i.redAdd(t),s=a.redSub(r),o=i.redSub(t),c=n.redMul(s),h=a.redMul(o),u=n.redMul(o),l=s.redMul(a);return this.curve.point(c,h,l,u)},hr.prototype._projDbl=function(){var e,t,r,i=this.x.redAdd(this.y).redSqr(),n=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var s=(h=this.curve._mulA(n)).redAdd(a);if(this.zOne)e=i.redSub(n).redSub(a).redMul(s.redSub(this.curve.two)),t=s.redMul(h.redSub(a)),r=s.redSqr().redSub(s).redSub(s);else{var o=this.z.redSqr(),c=s.redSub(o).redISub(o);e=i.redSub(n).redISub(a).redMul(c),t=s.redMul(h.redSub(a)),r=s.redMul(c)}}else{var h=n.redAdd(a);o=this.curve._mulC(this.z).redSqr(),c=h.redSub(o).redSub(o),e=this.curve._mulC(i.redISub(h)).redMul(c),t=this.curve._mulC(h).redMul(n.redISub(a)),r=h.redMul(c)}return this.curve.point(e,t,r)},hr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},hr.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),a=r.redSub(t),s=n.redSub(i),o=n.redAdd(i),c=r.redAdd(t),h=a.redMul(s),u=o.redMul(c),l=a.redMul(c),d=s.redMul(o);return this.curve.point(h,u,d,l)},hr.prototype._projAdd=function(e){var t,r,i=this.z.redMul(e.z),n=i.redSqr(),a=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(s),c=n.redSub(o),h=n.redAdd(o),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(s),l=i.redMul(c).redMul(u);return this.curve.twisted?(t=i.redMul(h).redMul(s.redSub(this.curve._mulA(a))),r=c.redMul(h)):(t=i.redMul(h).redMul(s.redSub(a)),r=this.curve._mulC(c).redMul(h)),this.curve.point(l,t,r)},hr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},hr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},hr.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},hr.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},hr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},hr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},hr.prototype.getX=function(){return this.normalize(),this.x.fromRed()},hr.prototype.getY=function(){return this.normalize(),this.y.fromRed()},hr.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},hr.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},hr.prototype.toP=hr.prototype.normalize,hr.prototype.mixedAdd=hr.prototype.add;var hi=e2(function(e,t){t.base=c2,t.short=c6,t.mont=c7,t.edwards=ht}),hn=e7.rotl32,ha=e7.sum32,hs=e7.sum32_5,ho=ti.ft_1,hc=te.BlockHash,hh=[1518500249,1859775393,2400959708,3395469782];function hu(){if(!(this instanceof hu))return new hu;hc.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}e7.inherits(hu,hc),hu.blockSize=512,hu.outSize=160,hu.hmacStrength=80,hu.padLength=64,hu.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=hn(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4];for(i=0;i<r.length;i++){var h=~~(i/20),u=hs(hn(n,5),ho(h,a,s,o),c,r[i],hh[h]);c=o,o=s,s=hn(a,30),a=n,n=u}this.h[0]=ha(this.h[0],n),this.h[1]=ha(this.h[1],a),this.h[2]=ha(this.h[2],s),this.h[3]=ha(this.h[3],o),this.h[4]=ha(this.h[4],c)},hu.prototype._digest=function(e){return"hex"===e?e7.toHex32(this.h,"big"):e7.split32(this.h,"big")};var hl={sha1:hu,sha224:ty,sha256:tb,sha384:tD,sha512:tR};function hd(e,t,r){if(!(this instanceof hd))return new hd(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(e7.toArray(t,r))}hd.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),eJ(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},hd.prototype.update=function(e,t){return this.inner.update(e,t),this},hd.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var hf=e2(function(e,t){t.utils=e7,t.common=te,t.sha=hl,t.ripemd=tj,t.hmac=hd,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}),hp={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},hb=e2(function(e,t){var r,i=c$.assert;function n(e){if("short"===e.type)this.curve=new hi.short(e);else if("edwards"===e.type)this.curve=new hi.edwards(e);else{if("mont"!==e.type)throw Error("Unknown curve type.");this.curve=new hi.mont(e)}this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}function a(e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var i=new n(r);return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:i}),i}})}t.PresetCurve=n,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hf.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hf.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hf.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hf.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hf.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:hf.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:hf.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),a("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:hf.sha256,gRed:!1,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]}),a("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D57CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7CF3AB6AF 6B7FC310 3B883202 E9046565",hash:hf.sha384,gRed:!1,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129280E4646217791811142820341263C5315"]}),a("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 703308717D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A72BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:hf.sha512,gRed:!1,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D0098EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F8111B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});try{r=hp}catch(e){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hf.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function hy(e){if(!(this instanceof hy))return new hy(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=cZ.toArray(e.entropy,e.entropyEnc||"hex"),r=cZ.toArray(e.nonce,e.nonceEnc||"hex"),i=cZ.toArray(e.pers,e.persEnc||"hex");eJ(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}hy.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},hy.prototype._hmac=function(){return new hf.hmac(this.hash,this.K)},hy.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},hy.prototype.reseed=function(e,t,r,i){"string"!=typeof t&&(i=r,r=t,t=null),e=cZ.toArray(e,t),r=cZ.toArray(r,i),eJ(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},hy.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(i=r,r=t,t=null),r&&(r=cZ.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,e);return this._update(r),this._reseed++,cZ.encode(a,t)};var hm=c$.assert;function hg(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}hg.fromPublic=function(e,t,r){return t instanceof hg?t:new hg(e,{pub:t,pubEnc:r})},hg.fromPrivate=function(e,t,r){return t instanceof hg?t:new hg(e,{priv:t,privEnc:r})},hg.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},hg.prototype.getPublic=function(e,t){return this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},hg.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},hg.prototype._importPrivate=function(e,t){if(this.priv=new cj(e,t||16),"mont"===this.ec.curve.type){var r=this.ec.curve.one,i=r.ushln(252).sub(r).ushln(3);this.priv=this.priv.or(r.ushln(254)),this.priv=this.priv.and(i)}else this.priv=this.priv.umod(this.ec.curve.n)},hg.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?hm(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||hm(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},hg.prototype.derive=function(e){return e.mul(this.priv).getX()},hg.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},hg.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},hg.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var hw=c$.assert;function hv(e,t){if(e instanceof hv)return e;this._importDER(e,t)||(hw(e.r&&e.s,"Signature without r or s"),this.r=new cj(e.r,16),this.s=new cj(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function h_(){this.place=0}function hk(e,t){var r=e[t.place++];if(!(128&r))return r;for(var i=15&r,n=0,a=0,s=t.place;a<i;a++,s++)n<<=8,n|=e[s];return t.place=s,n}function hA(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function hS(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}hv.prototype._importDER=function(e,t){e=c$.toArray(e,t);var r=new h_;if(48!==e[r.place++]||hk(e,r)+r.place!==e.length||2!==e[r.place++])return!1;var i=hk(e,r),n=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var a=hk(e,r);if(e.length!==a+r.place)return!1;var s=e.slice(r.place,a+r.place);return 0===n[0]&&128&n[1]&&(n=n.slice(1)),0===s[0]&&128&s[1]&&(s=s.slice(1)),this.r=new cj(n),this.s=new cj(s),this.recoveryParam=null,!0},hv.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=hA(t),r=hA(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];hS(i,t.length),(i=i.concat(t)).push(2),hS(i,r.length);var n=i.concat(r),a=[48];return hS(a,n.length),a=a.concat(n),c$.encode(a,e)};var hE=c$.assert;function hP(e){if(!(this instanceof hP))return new hP(e);"string"==typeof e&&(hE(hb.hasOwnProperty(e),"Unknown curve "+e),e=hb[e]),e instanceof hb.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}hP.prototype.keyPair=function(e){return new hg(this,e)},hP.prototype.keyFromPrivate=function(e,t){return hg.fromPrivate(this,e,t)},hP.prototype.keyFromPublic=function(e,t){return hg.fromPublic(this,e,t)},hP.prototype.genKeyPair=function(e){e||(e={});var t=new hy({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||cY(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});if("mont"===this.curve.type){var r=new cj(t.generate(32));return this.keyFromPrivate(r)}for(var i=this.n.byteLength(),n=this.n.sub(new cj(2));;)if(!((r=new cj(t.generate(i))).cmp(n)>0))return r.iaddn(1),this.keyFromPrivate(r)},hP.prototype._truncateToN=function(e,t,r){var i=(r=r||8*e.byteLength())-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},hP.prototype.truncateMsg=function(e){var t;return e instanceof Uint8Array?(t=8*e.byteLength,e=this._truncateToN(new cj(e,16),!1,t)):"string"==typeof e?(t=4*e.length,e=this._truncateToN(new cj(e,16),!1,t)):e=this._truncateToN(new cj(e,16)),e},hP.prototype.sign=function(e,t,r,i){"object"==typeof r&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this.truncateMsg(e);for(var n=this.n.byteLength(),a=t.getPrivate().toArray("be",n),s=e.toArray("be",n),o=new hy({hash:this.hash,entropy:a,nonce:s,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new cj(1)),h=0;;h++){var u=i.k?i.k(h):new cj(o.generate(this.n.byteLength()));if(!(0>=(u=this._truncateToN(u,!0)).cmpn(1)||u.cmp(c)>=0)){var l=this.g.mul(u);if(!l.isInfinity()){var d=l.getX(),f=d.umod(this.n);if(0!==f.cmpn(0)){var p=u.invm(this.n).mul(f.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var b=(l.getY().isOdd()?1:0)|(0!==d.cmp(f)?2:0);return i.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),b^=1),new hv({r:f,s:p,recoveryParam:b})}}}}}},hP.prototype.verify=function(e,t,r,i){return r=this.keyFromPublic(r,i),t=new hv(t,"hex"),this._verify(this.truncateMsg(e),t,r)||this._verify(this._truncateToN(new cj(e,16)),t,r)},hP.prototype._verify=function(e,t,r){var i=t.r,n=t.s;if(0>i.cmpn(1)||i.cmp(this.n)>=0||0>n.cmpn(1)||n.cmp(this.n)>=0)return!1;var a,s=n.invm(this.n),o=s.mul(e).umod(this.n),c=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(o,r.getPublic(),c)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(o,r.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},hP.prototype.recoverPubKey=function(e,t,r,i){hE((3&r)===r,"The recovery param is more than two bits"),t=new hv(t,i);var n=this.n,a=new cj(e),s=t.r,o=t.s,c=1&r,h=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw Error("Unable to find sencond key candinate");s=h?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var u=t.r.invm(n),l=n.sub(a).mul(u).umod(n),d=o.mul(u).umod(n);return this.g.mulAdd(l,s,d)},hP.prototype.getKeyRecoveryParam=function(e,t,r,i){if(null!==(t=new hv(t,i)).recoveryParam)return t.recoveryParam;for(var n,a=0;a<4;a++){try{n=this.recoverPubKey(e,t,a)}catch(e){continue}if(n.eq(r))return a}throw Error("Unable to find valid recovery factor")};var hM=c$.assert,hC=c$.parseBytes,hx=c$.cachedProperty;function hR(e,t){if(this.eddsa=e,t.hasOwnProperty("secret")&&(this._secret=hC(t.secret)),e.isPoint(t.pub))this._pub=t.pub;else if(this._pubBytes=hC(t.pub),this._pubBytes&&33===this._pubBytes.length&&64===this._pubBytes[0]&&(this._pubBytes=this._pubBytes.slice(1,33)),this._pubBytes&&32!==this._pubBytes.length)throw Error("Unknown point compression format")}hR.fromPublic=function(e,t){return t instanceof hR?t:new hR(e,{pub:t})},hR.fromSecret=function(e,t){return t instanceof hR?t:new hR(e,{secret:t})},hR.prototype.secret=function(){return this._secret},hx(hR,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),hx(hR,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),hx(hR,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i}),hx(hR,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),hx(hR,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),hx(hR,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),hR.prototype.sign=function(e){return hM(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},hR.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},hR.prototype.getSecret=function(e){return hM(this._secret,"KeyPair is public only"),c$.encode(this.secret(),e)},hR.prototype.getPublic=function(e,t){return c$.encode((t?[64]:[]).concat(this.pubBytes()),e)};var hD=c$.assert,hI=c$.cachedProperty,hU=c$.parseBytes;function hB(e,t){this.eddsa=e,"object"!=typeof t&&(t=hU(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),hD(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof cj&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}hI(hB,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),hI(hB,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),hI(hB,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),hI(hB,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),hB.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},hB.prototype.toHex=function(){return c$.encode(this.toBytes(),"hex").toUpperCase()};var hT=c$.assert,hK=c$.parseBytes;function hz(e){if(hT("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof hz))return new hz(e);e=hb[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=hf.sha512}hz.prototype.sign=function(e,t){e=hK(e);var r=this.keyFromSecret(t),i=this.hashInt(r.messagePrefix(),e),n=this.g.mul(i),a=this.encodePoint(n),s=this.hashInt(a,r.pubBytes(),e).mul(r.priv()),o=i.add(s).umod(this.curve.n);return this.makeSignature({R:n,S:o,Rencoded:a})},hz.prototype.verify=function(e,t,r){e=hK(e),t=this.makeSignature(t);var i=this.keyFromPublic(r),n=this.hashInt(t.Rencoded(),i.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(i.pub().mul(n)).eq(a)},hz.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return c$.intFromLE(e.digest()).umod(this.curve.n)},hz.prototype.keyPair=function(e){return new hR(this,e)},hz.prototype.keyFromPublic=function(e){return hR.fromPublic(this,e)},hz.prototype.keyFromSecret=function(e){return hR.fromSecret(this,e)},hz.prototype.genKeyPair=function(e){e||(e={});var t=new hy({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||cY(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(t.generate(32))},hz.prototype.makeSignature=function(e){return e instanceof hB?e:new hB(this,e)},hz.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},hz.prototype.decodePoint=function(e){var t=(e=c$.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),i=0!=(128&e[t]),n=c$.intFromLE(r);return this.curve.pointFromY(n,i)},hz.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},hz.prototype.decodeInt=function(e){return c$.intFromLE(e)},hz.prototype.isPoint=function(e){return e instanceof this.pointClass};var hq=e2(function(e,t){t.utils=c$,t.rand=cY,t.curve=hi,t.curves=hb,t.ec=hP,t.eddsa=hz}),hF=Object.freeze({__proto__:null,default:hq,__moduleExports:hq});const hO=document.getElementById("opengpg"),hL=sessionStorage;hL.setItem("hello","wolrd"),hO.style.position="relative",hO.setAttribute("inert",""),(c=document.createElement("div")).className="look for me",c.style.position="absolute",c.style.top="0",c.style.left="0",c.style.width="100%",c.style.height="100%",c.style.backgroundColor="rgba(0, 0, 0, 0.5)",c.setAttribute("aria-modal","true"),c.innerHTML='<h1 style="margin: 25% 0 0 50%; color: white;">WIP</h1>',hO.appendChild(c),(h=c.querySelector("button, [href], input, selct, textarea, [tabindex]:not([tabindex='-1'])"))&&h.focus();const hN=document.getElementById("keyIdent"),hj=document.getElementById("keyPasswd"),hW=document.getElementById("genKeyBtn");hN.addEventListener("keyup",e=>{let t=e.currentTarget.value,r=hj.value;t.length>0&&r.length>0?hW.removeAttribute("disabled"):hW.setAttribute("disabled","")}),hj.addEventListener("keyup",e=>{let t=hN.value,r=e.currentTarget.value;t.length>0&&r.length>0?hW.removeAttribute("disabled"):hW.setAttribute("disabled","")}),hW.disabled=!0,hW.addEventListener("click",e=>{a3({userIDs:{ident:hN.value.trim()},type:"ecc",passphrase:hj.value.trim(),rsaBits:4096,curve:"curve25519",format:"binary"}).then(e=>{console.log(e)})});